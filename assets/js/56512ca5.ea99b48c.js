"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[131],{60984:(n,s,e)=>{e.r(s),e.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>d});var i=e(74848),l=e(28453);const r={title:"CS144 Lecture Notes",date:"2024-9-20",author:"ayanami",format:"md",tags:["network","cs144"]},c=void 0,t={permalink:"/blog/cs144/cs144 lec notes",source:"@site/blog/cs144/cs144 lec notes.md",title:"CS144 Lecture Notes",description:"Unit 1: Internet and IP",date:"2024-09-20T00:00:00.000Z",tags:[{inline:!0,label:"network",permalink:"/blog/tags/network"},{inline:!0,label:"cs144",permalink:"/blog/tags/cs-144"}],readingTime:68.02,hasTruncateMarker:!0,authors:[{name:"ayanami"}],frontMatter:{title:"CS144 Lecture Notes",date:"2024-9-20",author:"ayanami",format:"md",tags:["network","cs144"]},unlisted:!1,prevItem:{title:"nginx\u57fa\u7840",permalink:"/blog/nginx"},nextItem:{title:"Django_mosh",permalink:"/blog/django-mosh"}},a={authorsImageUrls:[void 0]},d=[{value:"Unit 1: Internet and IP",id:"unit-1-internet-and-ip",level:2},{value:"Unit 2: Transport",id:"unit-2-transport",level:2},{value:"Unit 3: Packet Switching",id:"unit-3-packet-switching",level:2},{value:"Unit 4: Congestion Control",id:"unit-4-congestion-control",level:2},{value:"Unit 5: NAT Application",id:"unit-5-nat-application",level:2},{value:"TCP Hole Punching TCP\u6253\u5b54",id:"tcp-hole-punching-tcp\u6253\u5b54",level:4},{value:"Sockets and TCP Port Reuse \u5957\u63a5\u5b57\u548c TCP \u7aef\u53e3\u91cd\u7528",id:"sockets-and-tcp-port-reuse-\u5957\u63a5\u5b57\u548c-tcp-\u7aef\u53e3\u91cd\u7528",level:4},{value:"Unit 6: Routing",id:"unit-6-routing",level:2},{value:"Unit 7: Physical and Link",id:"unit-7-physical-and-link",level:2},{value:"Unit 8: Security",id:"unit-8-security",level:2}];function h(n){const s={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",del:"del",em:"em",h2:"h2",h4:"h4",hr:"hr",img:"img",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mo:"mo",mrow:"mrow",msub:"msub",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"unit-1-internet-and-ip",children:"Unit 1: Internet and IP"}),"\n",(0,i.jsxs)(s.p,{children:["\u7f51\u7edc\u56db\u5c42\u6a21\u578b",":application",", transport, network, link"]}),"\n",(0,i.jsx)(s.p,{children:"7\u5c42OSI, \u62c6app,trans,link\u4e3a\u66f4\u7ec6\u7684\u4e24\u4e2a"}),"\n",(0,i.jsx)(s.p,{children:"\u7f51\u7edc\u7684\u57fa\u7840\u548c\u5e95\u5c42\u662fIP, \u53ea\u6709IP model\u662f\u4e0d\u53ef\u66ff\u4ee3\u7684\u201c\u7ec6\u8170\u201d,\u4e0a\u5c42\u7684application\u3001transport\u548c\u4e0b\u5c42\u7684link\u90fd\u662f\u53ef\u4ee5\u66ff\u6362\u7684"}),"\n",(0,i.jsx)(s.p,{children:"application \u5e94\u7528\u5c42,smtp, ftp, http, ssh"}),"\n",(0,i.jsx)(s.p,{children:"transport \u4f20\u8f93\u5c42,tcp, udp, rdp"}),"\n",(0,i.jsx)(s.p,{children:"link \u8fde\u63a5\u5c42,4G, WiFi, ..."}),"\n",(0,i.jsx)(s.p,{children:"\u7f51\u7edc\u8fde\u63a5\u7684\u51e0\u79cd\u5e38\u89c1\u4f8b\u5b50:"}),"\n",(0,i.jsx)(s.p,{children:"client-server, BitTorren \u4e00\u670d\u52a1\u5668\u591aclient\u7684\u96c6\u7fa4, ......"}),"\n",(0,i.jsxs)(s.p,{children:["\u7f51\u7edc application\u4e0a ",":read","/write"]}),"\n",(0,i.jsx)(s.p,{children:"\u4f20\u8f93\u8fc7\u7a0b app->...->link->(link->network->link)(router) ->... link->...->app"}),"\n",(0,i.jsx)(s.p,{children:"IP(Internet protocol) service model:"}),"\n",(0,i.jsx)(s.p,{children:"\u8bbe\u8ba1\u76ee\u6807:\u7b80\u5355\u751a\u81f3\u7b28\u62d9,\u7aef\u5230\u7aef(end-to-end),\u610f\u5473\u7740\u5c3d\u53ef\u80fd\u51cf\u5c11\u4e2d\u95f4router\u7684\u5de5\u4f5c\u91cf,\u80fd\u653e\u5728end\u7684\u8ba1\u7b97\u673a\u4e0a\u7684\u90fd\u653e\u5728end\u7684\u8ba1\u7b97\u673a\u4e0a\u3002\u5bf9\u4e0a\u4e0b\u505a\u975e\u5e38\u5c11\u7684\u5047\u8bbe\u3002"}),"\n",(0,i.jsx)(s.p,{children:"\u51e0\u4e2a\u7279\u70b9:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Unreliable(\u4e0d\u4fdd\u8bc1\u80fd\u4f20\u5230) \u7531\u4e0a\u5c42\u7684\u534f\u8bae,\u5982tcp\u6765\u5b9e\u73b0\u91cd\u4f20\u7b49\u786e\u4fdd\u4f20\u5230"}),"\n",(0,i.jsx)(s.li,{children:"Best effort: \u5c3d\u91cf\u4f20\u5230,\u53ea\u6709\u5728\u5fc5\u8981\u65f6\u624d\u4e22\u5f03\u6570\u636e\u5305(\u4ec0\u4e48\u662f\u5fc5\u8981\u65f6\uff1f\u4f8b\u5982\u4e2d\u95f4\u8def\u7531\u5668\u6ee1\u4e86\u65e0\u6cd5\u5904\u7406\u65b0\u8bf7\u6c42)"}),"\n",(0,i.jsxs)(s.li,{children:["Datagram:\u4f20\u8f93\u7684\u6bcf\u4e00\u4e2a\u5305(packets)\u90fd\u662f\u81ea\u8def\u7531(individually routed),\u4e5f\u5c31\u662f\u4fdd\u5b58\u4e86",(0,i.jsx)(s.code,{children:"Src_IP"}),"\u548c",(0,i.jsx)(s.code,{children:"Dst_IP"}),"\u4e0d\u9700\u8981\u4f9d\u8d56\u5176\u4ed6\u5305\u6765\u4f20\u8f93,\u540c\u65f6\u4f20\u8f93\u4f9d\u9760\u8def\u7531\u5668\u4e00\u8df3\u4e00\u8df3(hop-by-hop)"]}),"\n",(0,i.jsx)(s.li,{children:"Connectionless: \u65e0\u72b6\u6001,\u5305\u7684\u987a\u5e8f\u53ef\u4ee5\u88ab\u6253\u4e71,\u53d1\u9001\u548c\u63a5\u53d7\u4e5f\u6ca1\u6709\u8981\u6c42\u201c\u5efa\u7acb\u8fde\u63a5\u201d"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u4e9b\u7ec6\u8282:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Tries to prevent packets looping: packet\u5185\u7b80\u5355\u5bf9\u8df3\u8f6c\u6b21\u6570\u8ba1\u6570,\u8fbe\u5230\u67d0\u4e2a\u503c\u65f6router\u4f1a\u4e22\u5f03"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u5927\u6570\u636e\u5305\u4f1a\u62c6\u6210\u591a\u4e2a (fragment)"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u4f7f\u7528IP \u6807\u5934\u6821\u9a8c\u662f\u5426\u53d1\u9001\u9519\u8bef\u548c\u91cd\u65b0\u7ec4\u5408"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u5141\u8bb8\u52a0\u5165\u65b0\u5b57\u6bb5"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"IP \u6807\u5934"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/05/6wuf2QUWsX5pGd7.png",alt:"ipv4-datagram"})}),"\n",(0,i.jsx)(s.p,{children:"\u5927\u90e8\u5206\u5b57\u6bb5\u90fd\u662f\u4e0d\u8a00\u800c\u55bb\u7684,flags\u548cfragment offset\u7528\u4e8e\u62c6\u5206\u6570\u636e\u7684\u91cd\u65b0\u7ec4\u5408,checksum\u662f\u6807\u5934\u7684,\u7528\u4e8e\u68c0\u6d4b\u662f\u5426\u635f\u574f,protocol ID\u6839\u636eID\u6307\u5b9a\u534f\u8bae,\u6bd4\u5982TCP, version\u6307\u5b9aIPv4, TTL\u7528\u4e8e\u8df3\u8f6c\u8ba1\u6570\u907f\u514d\u5faa\u73af,type of service\u662f\u4e00\u4e2a\u670d\u52a1\u5668\u6807\u8bc6\u7b26,\u7528\u4e8e\u8868\u8fbe\u8fd9\u4e2a\u5305\u7684\u91cd\u8981\u6027"}),"\n",(0,i.jsxs)(s.p,{children:["\u53ef\u4ee5\u7528",(0,i.jsx)(s.code,{children:"traceroute"}),"\u67e5\u770b\u5305\u5728\u8def\u7531\u5668\u4e2d\u7684\u8def\u5f84"]}),"\n",(0,i.jsx)(s.p,{children:"TCP Byte Stream"}),"\n",(0,i.jsxs)(s.p,{children:["\u901a\u8fc7",(0,i.jsx)(s.code,{children:"{IP, port}"}),"\u6765\u901a\u4fe1,\u4e2d\u95f4\u8fc7\u8ba1\u7b97\u673a\u6216\u8005router, \u4f8b\u5982wifi\u7b2c\u4e00\u8df3\u662f\u8fc7wifi\u63a5\u5165\u70b9\u8def\u7531\u5668"]}),"\n",(0,i.jsx)(s.p,{children:"\u8def\u7531\u5668\u8f6c\u53d1:\u8f6c\u53d1\u8868\u6a21\u5f0f\u5339\u914d(\u6700\u5927\u524d\u7f00\u5339\u914d)"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u5728\u5730\u5740\u5339\u914d\u8fc7\u7a0b\u4e2d,\u4e0d\u80fd\u548c\u8def\u7531\u8868\u4e2d\u4efb\u4f55\u6761\u76ee\u6240\u5339\u914d,packet\u5c06\u88ab\u4e22\u5f03\u3002"}),"\n",(0,i.jsx)(s.p,{children:"\u3010\u4e00\u4e2a\u540d\u4e3a Destination Unreachable(\u76ee\u6807\u4e0d\u53ef\u8fbe)\u7684ICMP\u4fe1\u606f\u5c06\u53d1\u56de\u7ed9\u6e90\u5730\u5740\u3011"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"TCP \u4e09\u6b21\u63e1\u624b(3-way handshake)"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"client \\-> server SYN \u8bf7\u6c42"}),"\n",(0,i.jsx)(s.li,{children:"server \\-> client SYN/ACK \u786e\u8ba4\u8bf7\u6c42"}),"\n",(0,i.jsx)(s.li,{children:"client \\-> server ACK \u786e\u8ba4\u8bf7\u6c42"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"packet switching:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Independently"})," for each arriving packet, pick its outgoing link. If the link is free, send it. Else ",(0,i.jsx)(s.strong,{children:"hold the packet"})," for later."]}),"\n",(0,i.jsx)(s.p,{children:"\u65e9\u671f\u7684\u8df3\u8dc3\u662f\u8fd9\u6837\u7684,\u6bcf\u4e00\u4e2a\u8def\u7531\u5668\u5c06src_ip\u6539\u6210\u81ea\u5df1(\u8fd9\u5c31\u662fNAT,\u7f51\u7edc\u5730\u5740\u8f6c\u6362,\u5c06\u5927\u91cf\u7684\u79c1\u6709IP\u9690\u85cf\u5728\u5c11\u91cf\u516c\u6709IP\u91cc\u9762),\u7136\u540e\u7ee7\u7eed\u5f80\u4e0b\u8d70"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"\u5b89\u5168\u7f51\u5173\u5904\u4e8e\u79c1\u6709\u7f51\u7edc\u548c\u516c\u6709\u7f51\u7edc\u7684\u8fde\u63a5\u5904\u3002\u5f53\u5185\u90e8PC(10.1.1.2)\u5411\u5916\u90e8\u670d\u52a1\u5668(202.1.1.2)\u53d1\u9001\u4e00\u4e2aIP\u53051\u65f6,IP\u5305\u5c06\u901a\u8fc7\u5b89\u5168\u7f51\u5173\u3002\u5b89\u5168\u7f51\u5173\u67e5\u770b\u5305\u5934\u5185\u5bb9,\u53d1\u73b0\u8be5IP\u5305\u662f\u53d1\u5411\u516c\u6709\u7f51\u7edc\u7684,\u7136\u540e\u5b83\u5c06IP\u53051\u7684\u6e90\u5730\u574010.1.1.2\u6362\u6210\u4e00\u4e2a\u53ef\u4ee5\u5728Internet\u4e0a\u9009\u8def\u7684\u516c\u6709\u5730\u5740202.1.1.1,\u5e76\u5c06\u8be5IP\u5305\u53d1\u9001\u5230\u5916\u90e8\u670d\u52a1\u5668,\u4e0e\u6b64\u540c\u65f6,\u5b89\u5168\u7f51\u5173\u8fd8\u5728\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u8868\u4e2d\u8bb0\u5f55\u8fd9\u4e00\u6620\u5c04\u3002\u5916\u90e8\u670d\u52a1\u5668\u7ed9\u5185\u90e8PC\u53d1\u9001IP\u53051\u7684\u5e94\u7b54\u62a5\u65872(\u5176\u521d\u59cb\u76ee\u7684\u5730\u5740\u4e3a202.1.1.1),\u5230\u8fbe\u5b89\u5168\u7f51\u5173\u540e,\u5b89\u5168\u7f51\u5173\u518d\u6b21\u67e5\u770b\u5305\u5934\u5185\u5bb9,\u7136\u540e\u67e5\u627e\u5f53\u524d\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u8868\u7684\u8bb0\u5f55,\u7528\u5185\u90e8PC\u7684\u79c1\u6709\u5730\u574010.1.1.2\u66ff\u6362\u76ee\u7684\u5730\u5740\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d,\u5b89\u5168\u7f51\u5173\u5bf9PC\u548cServer\u6765\u8bf4\u662f\u900f\u660e\u7684\u3002\u5bf9\u5916\u90e8\u670d\u52a1\u5668\u6765\u8bf4,\u5b83\u8ba4\u4e3a\u5185\u90e8PC\u7684\u5730\u5740\u5c31\u662f202.1.1.1,\u5e76\u4e0d\u77e5\u905310.1.1.2\u8fd9\u4e2a\u5730\u5740\u3002\u56e0\u6b64,NAT\u201c\u9690\u85cf\u201d\u4e86\u4f01\u4e1a\u7684\u79c1\u6709\u7f51\u7edc\u3002"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u4f46\u5b89\u5168\u95ee\u9898\u6bd4\u8f83\u5927,\u8def\u7531\u5668\u4e0d\u5e0c\u671b\u76ee\u6807\u77e5\u9053\u81ea\u5df1\u7684ip, \u5c31\u6539\u6210\u5168dst, \u6bcf\u6b21\u8df3\u8dc3\u90fd\u5c06src\u6539\u4e3a\u4e0b\u4e00\u8df3\u7684ip"}),"\n",(0,i.jsx)(s.p,{children:"\u7ed3\u679c"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u7b80\u5355\u7684packet\u4f20\u64ad"}),"\n",(0,i.jsx)(s.li,{children:"\u9ad8\u6548\u7684\u94fe\u63a5\u5171\u4eab"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"No per-flow state required:"}),"\n",(0,i.jsx)(s.p,{children:"\u4e24\u7aef\u4e0d\u9700\u8981\u77e5\u9053router\u7684state, router\u4e0d\u9700\u8981\u5b58\u50a8\u5176\u4ed6\u7684state(\u56e0\u800c\u4e0d\u9700\u8981\u8003\u8651\u6e05\u9664\u9519\u8bef\u7684\u72b6\u6001)"}),"\n",(0,i.jsx)(s.p,{children:"\u7531\u4e8e\u662f\u4ee5\u5305\u4f5c\u4e3a\u6700\u5c0f\u5355\u4f4d,\u94fe\u63a5\u5171\u4eab\u548c\u6d41\u91cf\u5206\u914d\u5f88\u7b80\u5355->\u6839\u672c\u4e0d\u9700\u8981\u7ba1\u8c01\u4f20\u8fc7\u6765\u7684,\u6709\u5305\u5c31\u53d1"}),"\n",(0,i.jsx)(s.p,{children:"Layering \u5206\u5c42:"}),"\n",(0,i.jsx)(s.p,{children:"seperation concerns"}),"\n",(0,i.jsx)(s.p,{children:"\u6a21\u5757\u5316,\u91cd\u7528,\u660e\u786e\u7684\u4e0a\u4e0b\u8fb9\u754c,\u5173\u6ce8\u70b9\u5206\u79bb,Peer-to-peer communication"}),"\n",(0,i.jsx)(s.p,{children:"\u88c5\u5305\u662f\u7075\u6d3b\u7684"}),"\n",(0,i.jsx)(s.p,{children:"VPN example"}),"\n",(0,i.jsx)(s.p,{children:"\u4ece\u91cc\u5230\u5916HTTP data \\-> TCP(to web) ->IP(to web) \\-> TLS(to VPN)->TCP(to VPN)->IP(to VPN)\\-> Ethernet(to next hop)"}),"\n",(0,i.jsx)(s.p,{children:"\u5b57\u8282\u5e8f,\u5185\u5b58:\u7f51\u7edc\u5b57\u8282\u5e8f,\u5927\u7aef\u5e8f"}),"\n",(0,i.jsx)(s.p,{children:"IPv4"}),"\n",(0,i.jsx)(s.p,{children:"32\u4f4d a.b.c.d 192.168.0.1"}),"\n",(0,i.jsxs)(s.p,{children:["netmask \u5b50\u7f51\u63a9\u7801:",(0,i.jsx)(s.strong,{children:"apply this mask, if it matches, in te same network"})," (if IP_A & mask == IP_B & mask,\u5728\u4e00\u4e2a\u5b50\u7f51\u91cc\u9762)"]}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982 netmast 255.255.255.0 \u610f\u5473\u7740\u524d24bit match"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"\u7b2c\u4e00\u8df3\u65f6,\u5982\u679cSrc_IP \u548c Dst_IP\u5728\u540c\u4e00\u5b50\u7f51\u5185,\u4e0d\u8d70\u5916\u9762\u8def\u7531\u5668"})," \\-> 127.0.0.1 \u548c 127.X.X.X"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"> ifconfig\n...\ninet 127.0.0.1  netmask 255.0.0.0\n...\n"})}),"\n",(0,i.jsx)(s.p,{children:"\u5730\u5740\u7ed3\u6784(historical):"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/05/BQAF9LH7EI1tZo8.png",alt:"image-20240905234039196"})}),"\n",(0,i.jsx)(s.p,{children:"\u95ee\u9898:\u4e0d\u591f\u7075\u6d3b"}),"\n",(0,i.jsxs)(s.p,{children:["\u76ee\u524d",":CIDR"," Classless Inter-Domain Routing"]}),"\n",(0,i.jsx)(s.p,{children:"171.64.0.0/16  /16\u610f\u5473\u774016\u4f4d\u5b50\u7f51\u63a9\u7801,171.64.0.0 ~ 171.64.255.255\u90fd\u662f"}),"\n",(0,i.jsx)(s.p,{children:"ICANN ip\u5730\u5740\u5206\u914d"}),"\n",(0,i.jsx)(s.p,{children:"Longest Prefix Match(\u6700\u957f\u524d\u7f00\u5339\u914d)"}),"\n",(0,i.jsx)(s.p,{children:"\u8f6c\u53d1\u8868\u5b9e\u9645\u4e0a\u662f a set of CIDR entries"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"dest"}),(0,i.jsx)(s.th,{children:"link"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"0.0.0.0/0 (x.x.x.x, default, \u6bcf\u4e2arouter\u90fd\u6709)"}),(0,i.jsx)(s.td,{children:"1"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"171.33.0.0/16 (171.33.x.x)"}),(0,i.jsx)(s.td,{children:"5"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"Address Resolution Protocol(ARP) \u5730\u5740\u89e3\u6790\u534f\u8bae"}),"\n",(0,i.jsx)(s.p,{children:"\u89e3\u51b3\u95ee\u9898:\u6211\u6709IP, \u90a3\u53d1\u9001\u5230\u54ea\u4e2a\u786c\u4ef6\uff1f(Link\u5c42,\u63cf\u8ff0\u7279\u5b9a\u7f51\u5361,\u6709\u552f\u4e00ID)"}),"\n",(0,i.jsx)(s.p,{children:"eg 48bit Ethernet 00:13:72:4c:d9:6a"}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982,\u6709\u4e00\u4e2a\u7f51\u5173gateway\u4ea4\u6362\u673a,\u4ed6\u6709\u4e0d\u540c\u7684\u63a5\u53e3,\u5bf9\u5e94\u4e0d\u540c\u7684ip"}),"\n",(0,i.jsx)(s.p,{children:"\u4eceIP_A -> IP_B\u7684\u5185\u90e8\u8bf7\u6c42,IP_A\u5148\u7531\u5b50\u7f51\u63a9\u7801\u628a\u8bf7\u6c42\u53d1\u5230gateway\u63a5\u53e3A, gateway\u8bc6\u522bpacket\u7684dst_IP\u4e4b\u540e\u901a\u8fc7\u63a5\u53e3B\u53d1\u51fa,\u518d\u7531\u5b50\u7f51\u63a9\u7801\u53d1\u9001\u5230IP_B"}),"\n",(0,i.jsx)(s.p,{children:"ARP link \u548c network\u5c42\u4e4b\u95f4,\u7f13\u5b58 ip <-> link \u5730\u5740\u7684mapping"}),"\n",(0,i.jsx)(s.p,{children:"\u7b80\u5355\u7684 request-reply \u7ed3\u6784"}),"\n",(0,i.jsx)(s.p,{children:"\u8981\u53d1\u9001\u6d88\u606f\u7ed9ip X, \u5148\u67e5\u7f13\u5b58, \u5982\u679c\u6ca1\u6709, sent request to link layer broadcast address \u201c\u8c01\u6709IP X?\u201d"}),"\n",(0,i.jsx)(s.p,{children:'\u5f53IP_X\u63a5\u6536\u5230\u6570\u636e\u7684\u65f6\u5019\u7ed9Src\u53d1\u201c\u6211\u6709IP X"(\u4e0d\u8d70\u5e7f\u64ad)'}),"\n",(0,i.jsx)(s.h2,{id:"unit-2-transport",children:"Unit 2: Transport"}),"\n",(0,i.jsx)(s.p,{children:"The TCP Service Model"}),"\n",(0,i.jsx)(s.p,{children:"Reliable byte delivery service"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Acknowledgments indicate correct delivery"}),"\n",(0,i.jsx)(s.li,{children:"Checksums detect corrupted data"}),"\n",(0,i.jsx)(s.li,{children:"Sequance numbers detect missing data"}),"\n",(0,i.jsx)(s.li,{children:"Flow-control prevents overruning receiver"}),"\n",(0,i.jsx)(s.li,{children:"Congestion Control \u62e5\u5835\u63a7\u5236"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"TCP Segment Format"}),"\n",(0,i.jsx)(s.p,{children:'Unique TCP connection: IP DA, IP SA, Protocol ID="TCP", Source Port, Destation Port'}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/06/sNe1a4CtuPxMKB2.png",alt:"image-20240906195851377"})}),"\n",(0,i.jsx)(s.p,{children:"\u901a\u8fc7sequence \u548cacknowledgment sequence\u53ef\u4ee5\u786e\u5b9a\u524dN\u4e2a\u5b57\u8282\u5df2\u7ecf\u6b63\u786e\u53d1\u9001,sequence\u662fTCP Data\u7684\u9996\u4e2a\u5b57\u8282\u5728TCP\u8bd5\u56fe\u53d1\u9001\u7684\u5b57\u8282\u6d41\u4e2d\u4f4d\u7f6e"}),"\n",(0,i.jsx)(s.p,{children:"FIN flag \u6807\u5fd7\u5173\u95ed,\u5173\u95edTCP\u8fde\u63a5\u7684\u8fc7\u7a0b\u5c31\u662f\u4e00\u65b9A\u5148\u53d1FIN, \u5173\u95edA-\\>B\u7684\u7ba1\u9053, \u4e4b\u540eB\u786e\u5b9a\u53d1\u9001\u5b8c\u6570\u636e\u540e\u53d1\u9001FIN\u5230A, \u5173\u95edB\u5230A\u7ba1\u9053\u3002 PSH\u6307\u793a\u7acb\u523b\u53d1\u9001\u65b0\u6570\u636e\u800c\u4e0d\u662f\u7b49\u5f85\u66f4\u591a\u8001\u6570\u636e"}),"\n",(0,i.jsx)(s.p,{children:"window-based flow control"}),"\n",(0,i.jsx)(s.p,{children:"retransmission and timeouts"}),"\n",(0,i.jsx)(s.p,{children:"UDP Service Model"}),"\n",(0,i.jsx)(s.p,{children:"UDP \u6807\u5934\u53ea\u6709\u56db\u4e2a\u6bb5:"}),"\n",(0,i.jsx)(s.p,{children:"Source Port, Destination Port, Checksum, Length"}),"\n",(0,i.jsx)(s.p,{children:"No connection established"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Packets may show up in any order!!!"})}),"\n",(0,i.jsx)(s.p,{children:"\u6ca1\u6709\u786e\u8ba4,\u6ca1\u6709\u68c0\u6d4b\u4e22\u5305\u548c\u4e71\u5e8f\u7684\u673a\u5236,\u6ca1\u6709\u6d41\u91cf\u63a7\u5236"}),"\n",(0,i.jsx)(s.p,{children:"ICMP Internet Control Message Protocal"}),"\n",(0,i.jsx)(s.p,{children:"Communicates network layer info between end hosts and routers"}),"\n",(0,i.jsx)(s.p,{children:"Reports error conditions"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Reporting Message"}),"\n",(0,i.jsx)(s.li,{children:"Unreliable - no retries"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5178\u578b\u7684ICMP IP header | ICMP header | ICMP data"}),"\n",(0,i.jsx)(s.p,{children:"ICMP header\u91cc\u9762\u4e3b\u8981\u5c31\u662f type \u548c code, \u4e24\u8005\u5408\u8d77\u6765\u63cf\u8ff0\u4e86\u4e00\u4e2amessage(\u901a\u8fc7\u5bf9\u7167\u8868, \u4f8b\u5982 )"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"0-Echo\u54cd\u5e94"}),(0,i.jsx)(s.th,{children:"0"}),(0,i.jsx)(s.th,{children:"Echo\u54cd\u5e94\u62a5\u6587"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"3-\u76ee\u7684\u4e0d\u53ef\u8fbe"}),(0,i.jsx)(s.td,{children:"0"}),(0,i.jsx)(s.td,{children:"\u76ee\u6807\u7f51\u7edc\u4e0d\u53ef\u8fbe\u62a5\u6587"})]})})]}),"\n",(0,i.jsx)(s.p,{children:"\u7528\u4e8e ping, traceroute\u7b49"}),"\n",(0,i.jsx)(s.p,{children:"traceroute\u600e\u4e48\u5b9e\u73b0\uff1f\u5f88\u7cbe\u5de7\u7684\u8bbe\u8ba1"}),"\n",(0,i.jsx)(s.p,{children:"clientA-\\>B A\u53d1\u9001\u4e00\u4e2aTTL\u4e3a1\u7684UDP message,\u7136\u540e\u7b2c\u4e00\u4e2arouter\u63a5\u53d7,TTL\u4e3a0, \u51b3\u5b9a\u4e22\u5f03\u5e76\u56de\u4f20\u4e00\u4e2aICMP\u6d88\u606f"}),"\n",(0,i.jsx)(s.table,{children:(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"11-ICMP\u8d85\u65f6"}),(0,i.jsx)(s.th,{children:"0"}),(0,i.jsx)(s.th,{children:"TTL\u8d85\u65f6\u62a5\u6587"})]})})}),"\n",(0,i.jsx)(s.p,{children:"clientA\u62ff\u5230\u8fd9\u4e2a\u62a5\u6587\u5c31\u5f97\u5230\u4e86\u7b2c\u4e00\u4e2arouter\u8282\u70b9\u7684\u4fe1\u606f,\u4e4b\u540e\u5c31\u53ef\u4ee5\u53d1\u9001\u4e00\u4e2aTTL=2\u7684...\u4ee5\u6b64\u7c7b\u63a8"}),"\n",(0,i.jsx)(s.p,{children:"End-To-End Principle"}),"\n",(0,i.jsx)(s.p,{children:"Error Detection"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Checksum:\u7b80\u5355\u5c06data \u52a0\u548c,\u5f31\u4f46\u5feb"}),"\n",(0,i.jsx)(s.li,{children:"CRC\u6821\u9a8c:\u8ba1\u7b97\u591a\u9879\u5f0f\u4f59\u6570 \u5f3a\u4e00\u4e9b,\u6162\u4e00\u4e9b,\u7ea0\u9519\u4e00\u4f4d,\u67e5\u95192\u4f4d"}),"\n",(0,i.jsx)(s.li,{children:"\u6d88\u606f\u9a8c\u8bc1\u7801MAC -> TLS, \u9700\u8981\u5bc6\u94a5 \u5269\u4e0b\u7684\u4e00\u70b9\u95ee\u9898\u5728\u4e0e\u4e00\u4e2ak\u4f4d\u7684\u7801\u5982\u679c\u53d1\u751f\u5355\u4f4d\u7ffb\u8f6c,\u67092^-k\u7684\u53ef\u80fd\u68c0\u6d4b\u4e0d\u51fa\u6765,\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u4e0a\u53ef\u80fd\u4e0d\u5982CRC"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"IP/UDP/TCP Checksum: \u62a5\u5934\u4e2d\u6240\u6709\u5176\u4ed616\u4f4d\u5b57\u7684\u53cd\u7801\u548c\u768416\u4f4d\u53cd\u7801"}),"\n",(0,i.jsx)(s.p,{children:"\u68c0\u9a8c,\u6574\u4e2aIP\u6807\u5934\u7684\u6c42\u548c\u7ed3\u679c\u5e94\u8be5\u4e3a0(\u4fee\u6539\u6807\u5934\u6bd4\u5982TTL\u65f6\u9700\u8981\u91cd\u65b0\u8ba1\u7b97)"}),"\n",(0,i.jsx)(s.p,{children:"\u5feb,\u4f46\u53ea\u4fdd\u8bc1\u67e51\u4f4d\u9519"}),"\n",(0,i.jsx)(s.p,{children:"Link Layer\u5e7f\u6cdb\u4f7f\u7528CRC"}),"\n",(0,i.jsx)(s.p,{children:"MAC"}),"\n",(0,i.jsx)(s.p,{children:"\u6709\u9650\u72b6\u6001\u673a FSM"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://code.wandoer.com/wp-content/uploads/2019/03/tcpfsm.jpg",alt:"FSM"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://upload.wikimedia.org/wikipedia/en/5/57/Tcp_state_diagram.png",alt:"img"})}),"\n",(0,i.jsx)(s.p,{children:"Flow Control"}),"\n",(0,i.jsx)(s.p,{children:"sender\u53ef\u4ee5send 500000\u4e2apacket/s"}),"\n",(0,i.jsx)(s.p,{children:"receiver \u53ea\u80fdreceive 200000\u4e2a"}),"\n",(0,i.jsx)(s.p,{children:"\u539f\u5219\u662fsender\u51cf\u5c11\u53d1\u9001\u7684\u5305\u6570\u91cf,receiver give feedback"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"stop & wait sender\u53d1\u4e00\u4e2a\u5c31\u7b49\u4e00\u4e2aACK, \u9664\u975e\u8d85\u65f6\u6ca1\u6709\u63a5\u53d7ACK\u91cd\u53d1,receiver\u63a5\u4e00\u4e2a\u56de\u4e00\u4e2aACK"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u6709\u4e00\u4e2a\u95ee\u9898\u662fACK Delay"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679csender\u53d1\u4e86\u4e00\u4e2a\u5305A0,\u4f46ACK\u5728timeout\u4e86,\u5c1d\u8bd5\u91cd\u53d1A1\u540e\u624d\u6536\u5230,\u4e8e\u662fsender\u7ee7\u7eed\u53d1\u4e0b\u4e00\u4e2a\u5305B0,sender\u5982\u4f55\u533a\u5206\u6b64\u65f6\u63a5\u53d7\u5230\u7684ACK\u662fA1\u7684ACK\u8fd8\u662fB0\u7684ACK?"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u79cd\u90e8\u5206\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u52a0\u5165\u4e00\u4e9b\u6807\u5fd7\u4f4d\u6765\u6807\u8bc6\u662f\u8fd9\u4e2apacket\u662f\u590d\u5236\u8fd8\u662f\u539f\u59cb\u6570\u636e,\u4f46\u8fd8\u662f\u6709\u4e00\u4e9b\u95ee\u9898,\u4f8b\u5982\u8fd9\u6837\u5047\u8bbe\u4e86\u7f51\u7edc\u4f20\u8f93\u7684\u6570\u636e\u4e0d\u662f\u590d\u5236\u7684,\u8fd8\u6709\u65e0\u6cd5\u89e3\u51b3\u957f\u5ef6\u8fdf\u7684\u95ee\u9898(\u5047\u8bbe\u6709k\u4e2a\u6807\u5fd7\u4f4d,\u6700\u591a\u8bb0\u5f55\u7b2c2^k^\u6b21\u91cd\u53d1,\u5982\u679c\u6709\u8d85\u8fc72^k^\u6b21timeout\u7684\u5ef6\u8fdf,\u5c31\u8fd8\u662f\u4f1a\u51fa\u73b0\u65e0\u6cd5\u533a\u5206\u91cd\u53d1\u548c\u65b0\u5305\u7684\u95ee\u9898)"}),"\n",(0,i.jsx)(s.p,{children:"\u5f53\u7136\u901a\u8fc7\u52a8\u6001\u8c03\u8282timeout\u548c\u628aACK\u505a\u6210\u4e00\u4e2a\u591f\u957f\u7684\u6807\u5fd7(\u6bd4\u5982\u4e0b\u9762\u7684\u5e8f\u5217\u53f7)\u662f\u53ef\u4ee5\u505a\u7684,\u6bd4\u5982\u4e0b\u6587\u7684\u6ed1\u52a8\u7a97\u53e3\u5c31\u662fstop & wait\u7684\u6cdb\u5316,"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"linux \u4e0b\u8fd9\u4e2atimeout\u88ab\u52a8\u6001\u5730(\u901a\u8fc7\u6d4b\u91cf\u53d1\u51fa\u5230ACK\u7684\u65f6\u95f4\u91c7\u6837\u7b49\u65b9\u6cd5)\u8c03\u8282\u4e3a\u7565\u5927\u4e8e\u4f20\u8f93\u65f6\u95f4,\u4e3a\u4e86\u5904\u7406\u7f51\u7edc\u7684\u6ce2\u52a8\u6027,\u5982\u679c\u53d1\u73b0\u4e00\u4e2a\u5305\u91cd\u4f20\u4e4b\u540e\u8fd8\u662f\u4e22,\u5c31\u628atimeout\u8bbe\u7f6e\u4e3a\u539f\u6765\u76842\u500d"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5bf9\u4e8e\u91cd\u590d\u7684\u66f4\u4f18\u5904\u7406\u8fd8\u4f1a\u6709SACK\u5b57\u6bb5(\u9009\u62e9\u6027\u786e\u8ba4),receiver\u56de\u4f20\u6570\u636e\u8868\u660e\u54ea\u91cc\u662f\u590d\u5236\u4e86,sender\u77e5\u9053\u4e4b\u540e\u5c31\u7ee7\u7eed\u53d1\u9001\u4e86"}),"\n",(0,i.jsx)(s.p,{children:"\u66f4\u5927\u7684\u95ee\u9898\u5728\u4e8e\u901f\u5ea6,\u5047\u8bbe\u4e24\u5730\u670950ms\u5ef6\u8fdf,\u6765\u56de100ms, \u4e00\u4e2a\u5305\u6bd4\u59821.5KB, \u8fd9\u6837\u7684\u7f51\u7edc\u6700\u5927\u53ea\u80fd\u670915KB\u7684\u901f\u7387\uff01"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"sliding window"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5141\u8bb8\u591a\u4e2a\u672a\u786e\u8ba4\u7684\u7247\u6bb5 (multiple un-acked segments)"}),"\n",(0,i.jsx)(s.p,{children:"\u5c06\u4e00\u4e9b\u7ed1\u8d77\u6765\u7684\u7247\u6bb5\u53eb\u505awindow,\u59cb\u7ec8\u4fdd\u6301\u7ba1\u9053\u901f\u7387\u62c9\u6ee1"}),"\n",(0,i.jsx)(s.p,{children:"\u4ec0\u4e48\u610f\u601d\uff1f\u539f\u5148\u53ea\u80fd\u67091\u4e2a\u5305\u5728\u8def\u4e0a,\u73b0\u5728\u53ef\u4ee5\u6709n\u4e2a"}),"\n",(0,i.jsx)(s.p,{children:"Sender"}),"\n",(0,i.jsx)(s.p,{children:"\u6bcf\u4e2a\u7247\u6bb5\u90fd\u6709\u4e00\u4e2a\u5e8f\u5217\u53f7(SeqNo)"}),"\n",(0,i.jsxs)(s.p,{children:["\u7ef4\u62a4\u4e09\u4e2a\u53d8\u91cf",":Send"," window size(SWS),Last ack received(LAR), Last seg sent(LSS)"]}),"\n",(0,i.jsxs)(s.p,{children:["\u7ef4\u6301\u7684\u8981\u6c42",":LSS-LAR"," <= SWS, \u4fdd\u8bc1\u4e2d\u95f4\u98de\u7684\u5305 <= SWS \u4e2a (\u4e00\u4e2aSWS\u5927\u5c0f\u7684buffer"]}),"\n",(0,i.jsx)(s.p,{children:"Receiver"}),"\n",(0,i.jsxs)(s.p,{children:["\u8fd8\u662f\u7ef4\u62a4\u4e09\u4e2a\u53d8\u91cf",":RWS",", last acceptable seg(LAS), last seg received (LSR)"]}),"\n",(0,i.jsx)(s.p,{children:"\u8981\u6c42 LAS - LSR <= RWS, \u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u7a97\u53e3\u662f5, \u4e0a\u4e00\u4e2a\u63a5\u53d7\u7684\u662f3, \u4e0d\u4f1a\u63a5\u53d79\u4ee5\u540e\u7684SeqNo\u7684\u5305,\u5e76\u4e14 LAS <= LSE + RWS\u90fd\u63a5\u53d7,\u4e5f\u5c31\u662f\u8bf49\u4e4b\u524d\u7684\u90fd\u662f\u53ef\u4ee5\u7684,\u6bd4\u59822,\u4f1a\u63a5\u53d7\u5e76\u56de\u4e00\u4e2aACK = \u4e0b\u4e00\u4e2a\u5b57\u8282"}),"\n",(0,i.jsx)(s.p,{children:"\u4e5f\u5c31\u662f\u8bf4 \u7b2c\u4e00\u4e2a\u5305\u5047\u5982\u662f 0-999\u5b57\u8282 ACK \u5c31\u662f1000"}),"\n",(0,i.jsx)(s.p,{children:"\u4e0b\u6587\u4e2d ack \u5ffd\u7565\u6389\u8fd9\u4e2a\u503c\u533a\u522b \u53051,ACK1\u53ea\u8868\u793a\u903b\u8f91\u4e0a\u7684\u7b2c\u4e00\u4e2a\u5305\u548c\u7b2c\u4e00\u4e2aACK"}),"\n",(0,i.jsx)(s.p,{children:"(\u903b\u8f91\u4e0a\u4e0b\u4e00\u4e2a\u5305,\u4f8b\u5982\u53d1\u90011,2\u4e22,345,\u56de\u7684ACK\u662f1 222)"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u4f55\u77e5\u9053\u5305\u4e22\u4e86"}),"\n",(0,i.jsx)(s.p,{children:"\u76ee\u524d\u7684\u65b9\u6cd5\u5c31\u662f\u7b49\u8d85\u65f6,\u4f8b\u59822\u4e22\u4e86\u4e00\u76f4\u7b49ACK 3,\u5230timeout\u4e86\u91cd\u53d12"}),"\n",(0,i.jsx)(s.p,{children:"\u6709\u6ca1\u6709\u66f4\u597d\u7684\u65b9\u6cd5\u5462\uff1f\u6bd4\u5982\u6211\u5728\u53d112345,2\u4e22\u4e86,\u56deACK1 222, \u8fde\u7eed3\u4e2a2\u8868\u660e\u786e\u5b9e\u662f2\u4e22\u4e86,\u90a3\u5c31\u53ef\u4ee5\u4e0d\u7528\u7b49\u8d85\u65f6\u7acb\u523b\u89e6\u53d1\u91cd\u4f20(TCP\u5feb\u901f\u91cd\u4f20)"}),"\n",(0,i.jsx)(s.p,{children:"\u90a3\u5982\u679cACK\u4e22\u4e86\u5462\uff1f"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u662f\u524d\u9762\u7684ACK\u4e22\u4e86\u65e0\u6240\u8c13,\u6700\u540e\u4e00\u4e2aACK\u5c31\u8868\u660e\u8fd9\u4e2a\u4e4b\u524d\u7684\u6240\u6709\u90fd\u5df2\u7ecf\u63a5\u53d7,\u4e0d\u7136\u5c31\u91cd\u53d1\u5457"}),"\n",(0,i.jsx)(s.p,{children:"\u91cd\u4f20\u591a\u5c11\uff1f"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Go-back-N \u4e00\u4e2a\u5305loss,\u6574\u4e2awindow\u91cd\u4f20 \u5bf9\u7f51\u7edc\u60c5\u51b5\u60b2\u89c2"}),"\n",(0,i.jsx)(s.li,{children:"Selective repeat \u53ea\u53d1loss\u7684 \u5bf9\u7f51\u7edc\u60c5\u51b5\u4e50\u89c2"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u770b\u5b9e\u9645\u60c5\u51b5,\u4e0d\u4e00\u5b9a\u54ea\u4e2a\u5feb,\u8fd9\u662f\u4e00\u4e2atrade-off"}),"\n",(0,i.jsx)(s.p,{children:"RWS <= SWS"}),"\n",(0,i.jsx)(s.p,{children:"\u6240\u4ee5\u8fd9\u91cc\u9762\u7684"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/06/sNe1a4CtuPxMKB2.png",alt:"image-20240906195851377"})}),"\n",(0,i.jsx)(s.p,{children:"window size\u5c31\u662f\u6ed1\u52a8\u7a97\u53e3\u7684\u5927\u5c0f,Seq \u548c ACK Seq\u5c31\u662f\u4e0a\u6587\u6240\u8ff0\u7684\u5e8f\u5217\u53f7"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u4e2a\u53d1\u9001\u7b2c4000-4999\u5b57\u8282\u7684\u5305,seqNo\u4f1a\u662f4000, Ack\u4f1a\u662f4999+1=5000=\u4e0b\u4e00\u4e2a\u5305\u5e94\u8be5\u7684seqNo"}),"\n",(0,i.jsx)(s.p,{children:"RSVD: reserved"}),"\n",(0,i.jsx)(s.p,{children:"Hlen,\u4e5f\u53eboffset,\u8868\u660edata\u6bb5\u4ece\u54ea\u91cc\u5f00\u59cb"}),"\n",(0,i.jsxs)(s.p,{children:["Flags",":ACK","\u8868\u793aACK \u662f\u5426\u6709\u6548(\u7b2c\u4e00\u4e2a\u53d1\u51fa\u5305\u7684ack\u5c31\u65e0\u610f\u4e49,\u5176\u4ed6\u90fd\u6709\u610f\u4e49), SYN/FIN \u4f4d\u638c\u7ba1TCP\u8fde\u63a5(\u7b2c\u4e00\u4e2a\u5305, ack not set,syn set)"]}),"\n",(0,i.jsx)(s.p,{children:"\u6240\u4ee5\u540e\u9762\u4f20\u56de\u7684\u5c31\u662fsyn/ack ,\u4ece\u7b2c\u4e8c\u4e2a\u5305\u5f00\u59cb\u5c31\u7ed3\u675f\u4e86syn\u4e14\u6709\u5408\u6cd5ack,\u5c31\u662fack"}),"\n",(0,i.jsx)(s.p,{children:"RST: reset the connection"}),"\n",(0,i.jsx)(s.p,{children:"TCP Setup/Teardown"}),"\n",(0,i.jsx)(s.p,{children:"Setup"}),"\n",(0,i.jsx)(s.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f,seqNo\u901a\u5e38\u4e0d\u4ece0\u5f00\u59cb(\u5b89\u5168\u539f\u56e0),\u6240\u4ee5\u7b2c\u4e00\u6b21\u63e1\u624b"}),"\n",(0,i.jsxs)(s.p,{children:["active \u5e26\u4e0a {SYN, S",(0,i.jsx)(s.del,{children:"A"}),"} (A means active) \u6211\u7684\u5e8f\u5217\u5f00\u59cb\u662fS",(0,i.jsx)(s.del,{children:"a"})]}),"\n",(0,i.jsxs)(s.p,{children:["passive \u56de\u590d{SYN, S",(0,i.jsx)(s.del,{children:"P"}),", ACK, S",(0,i.jsx)(s.del,{children:"a+1"}),"} (P means passive) \u8868\u660e\u6211\u7684\u5e8f\u5217\u5f00\u59cb\u662fS",(0,i.jsx)(s.del,{children:"p"})]}),"\n",(0,i.jsxs)(s.p,{children:["active \u56de\u590d {S",(0,i.jsx)(s.del,{children:"a+1"}),", ACK, S",(0,i.jsx)(s.del,{children:"P+1"}),"}"]}),"\n",(0,i.jsx)(s.p,{children:"\u4ee5\u4e0a\u4e3a 0\u5b57\u8282 data"}),"\n",(0,i.jsx)(s.p,{children:"Teardown"}),"\n",(0,i.jsx)(s.p,{children:"\u4f7f\u7528FIN bit"}),"\n",(0,i.jsxs)(s.p,{children:["A->B FIN,seq S",(0,i.jsx)(s.del,{children:"a"}),", ack S",(0,i.jsx)(s.del,{children:"b"})]}),"\n",(0,i.jsxs)(s.p,{children:["B->A ack S",(0,i.jsx)(s.del,{children:"a+1"})]}),"\n",(0,i.jsxs)(s.p,{children:["B->A FIN, seq S",(0,i.jsx)(s.del,{children:"b"}),", ack S",(0,i.jsx)(s.del,{children:"a+1"})]}),"\n",(0,i.jsxs)(s.p,{children:["A->B ack S",(0,i.jsx)(s.del,{children:"b+1"})]}),"\n",(0,i.jsx)(s.p,{children:"cleaning up safely"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679cteardown\u7684\u90e8\u5206(final ack)\u4e22\u5305\u600e\u4e48\u529e\uff1f-> \u4e0d\u7ba1\u4e22\u4e0d\u4e22,\u5728\u53d1\u51faFIN\u4e4b\u540e,active \u90fd\u4f1a\u5230TIME_WAIT\u72b6\u6001,\u5927\u7ea6\u4f1akeep socket twice the maxium segment lifetime,\u4e4b\u540e\u5173\u6389\u5e76\u91cd\u7f6e"}),"\n",(0,i.jsx)(s.h2,{id:"unit-3-packet-switching",children:"Unit 3: Packet Switching"}),"\n",(0,i.jsx)(s.p,{children:"Circuit Switching \u7535\u8bdd"}),"\n",(0,i.jsx)(s.p,{children:"Problems"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Inefficient (for brusty req)"}),"\n",(0,i.jsx)(s.li,{children:"Diverse Rates"}),"\n",(0,i.jsx)(s.li,{children:"State Management"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Packet Switching"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u901a\u8fc7\u8def\u7531\u8868\u72ec\u7acb\u8def\u7531"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u6240\u6709\u7684\u5305\u5171\u4eab\u76f8\u540c\u7684\u6700\u5927\u8fde\u63a5\u901f\u7387(router\u9700\u8981\u5927buffer\u6765\u6536\u5305)"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"router\u65e0\u8fde\u63a5\u72b6\u6001"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u597d\u5904:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"efficient use of expensive links \u5171\u4eab\u901f\u7387\u4f7frouter\u4e0d\u95f2\u7f6e"}),"\n",(0,i.jsx)(s.li,{children:"resilience to failure of links & routers, no state -> \u8f7b\u677e\u5207\u6362\u7ebf\u8def"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Delays"}),"\n",(0,i.jsxs)(s.p,{children:["Propagation Delay ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.msub,{children:[(0,i.jsx)(s.mi,{children:"t"}),(0,i.jsx)(s.mi,{children:"l"})]}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsxs)(s.mfrac,{children:[(0,i.jsx)(s.mi,{children:"l"}),(0,i.jsx)(s.mi,{children:"c"})]})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"t_l=\\frac{l}{c}"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.7651em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(s.span,{})})})]})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.2251em",verticalAlign:"-0.345em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(s.span,{className:"mfrac",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.8801em"},children:[(0,i.jsxs)(s.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"c"})})})]}),(0,i.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(s.span,{style:{top:"-3.394em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"})})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.345em"},children:(0,i.jsx)(s.span,{})})})]})}),(0,i.jsx)(s.span,{className:"mclose nulldelimiter"})]})]})]})]})," \u8ddd\u79bb l / \u5149\u901fc"]}),"\n",(0,i.jsxs)(s.p,{children:["Packetization Delay ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.msub,{children:[(0,i.jsx)(s.mi,{children:"t"}),(0,i.jsx)(s.mi,{children:"p"})]}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsxs)(s.mfrac,{children:[(0,i.jsx)(s.mi,{children:"p"}),(0,i.jsx)(s.mi,{children:"r"})]})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"t_p=\\frac{p}{r}"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.9012em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"p"})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(s.span,{})})})]})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.0925em",verticalAlign:"-0.345em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(s.span,{className:"mfrac",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.7475em"},children:[(0,i.jsxs)(s.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"r"})})})]}),(0,i.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(s.span,{style:{top:"-3.4461em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"p"})})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.345em"},children:(0,i.jsx)(s.span,{})})})]})}),(0,i.jsx)(s.span,{className:"mclose nulldelimiter"})]})]})]})]})," \u5305\u957f\u5ea6p / \u6bcf\u79d2\u80fd\u653e\u5230\u8fde\u63a5\u4e0a\u7684bit\u6570r"]}),"\n",(0,i.jsx)(s.p,{children:"Queueing Delay \u5728\u8def\u7531\u5668\u7684buffer queue\u4e4b\u4e2d\u6392\u961f\u7b49\u5f85\u53d1\u5c04\u65f6\u95f4"}),"\n",(0,i.jsxs)(s.p,{children:["End-to-end delay \u5bf9\u6240\u6709\u7ecf\u8fc7\u7684router r",(0,i.jsx)(s.del,{children:"i"}),"  ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"t"}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsxs)(s.msub,{children:[(0,i.jsx)(s.mo,{children:"\u2211"}),(0,i.jsx)(s.mi,{children:"i"})]}),(0,i.jsx)(s.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(s.mfrac,{children:[(0,i.jsx)(s.mi,{children:"p"}),(0,i.jsxs)(s.msub,{children:[(0,i.jsx)(s.mi,{children:"r"}),(0,i.jsx)(s.mi,{children:"i"})]})]}),(0,i.jsx)(s.mo,{children:"+"}),(0,i.jsxs)(s.mfrac,{children:[(0,i.jsxs)(s.msub,{children:[(0,i.jsx)(s.mi,{children:"l"}),(0,i.jsx)(s.mi,{children:"i"})]}),(0,i.jsx)(s.mi,{children:"c"})]}),(0,i.jsx)(s.mo,{children:"+"}),(0,i.jsxs)(s.msub,{children:[(0,i.jsx)(s.mi,{children:"Q"}),(0,i.jsx)(s.mi,{children:"i"})]}),(0,i.jsx)(s.mo,{stretchy:"false",children:"("}),(0,i.jsx)(s.mi,{children:"t"}),(0,i.jsx)(s.mo,{stretchy:"false",children:")"}),(0,i.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"t=\\sum_i (\\frac{p}{r_i}+\\frac{l_i}{c} + Q_i(t))"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6151em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.1951em",verticalAlign:"-0.4451em"}}),(0,i.jsxs)(s.span,{className:"mop",children:[(0,i.jsx)(s.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.162em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.2997em"},children:(0,i.jsx)(s.span,{})})})]})})]}),(0,i.jsx)(s.span,{className:"mopen",children:"("}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(s.span,{className:"mfrac",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.7475em"},children:[(0,i.jsxs)(s.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsxs)(s.span,{className:"mord mtight",children:[(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"r"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.357em",marginLeft:"-0.0278em",marginRight:"0.0714em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(s.span,{})})})]})})]})})})]}),(0,i.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(s.span,{style:{top:"-3.4461em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"p"})})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.4451em"},children:(0,i.jsx)(s.span,{})})})]})}),(0,i.jsx)(s.span,{className:"mclose nulldelimiter"})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"+"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.2412em",verticalAlign:"-0.345em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(s.span,{className:"mfrac",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.8962em"},children:[(0,i.jsxs)(s.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"c"})})})]}),(0,i.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(s.span,{style:{top:"-3.4101em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsxs)(s.span,{className:"mord mtight",children:[(0,i.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"},children:"l"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.3281em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.357em",marginLeft:"-0.0197em",marginRight:"0.0714em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.5em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size3 size1 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.143em"},children:(0,i.jsx)(s.span,{})})})]})})]})})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.345em"},children:(0,i.jsx)(s.span,{})})})]})}),(0,i.jsx)(s.span,{className:"mclose nulldelimiter"})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"+"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord mathnormal",children:"Q"}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(s.span,{})})})]})})]}),(0,i.jsx)(s.span,{className:"mopen",children:"("}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"t"}),(0,i.jsx)(s.span,{className:"mclose",children:"))"})]})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"\u524d\u4e24\u4e2a\u662f\u56fa\u5b9a\u7684,queueing delay\u662f\u968f\u673a\u7684,\u5bfc\u81f4\u4e86\u7aef\u5230\u7aef\u65f6\u95f4\u5177\u6709\u4e00\u5b9a\u7684\u6ce2\u52a8\u6027"}),"\n",(0,i.jsx)(s.p,{children:"Real-Time Apps \u4e3a\u4e86\u907f\u514dqueueing delay\u5e26\u6765\u7684\u4f53\u9a8c\u4e0b\u964d,\u4f1a\u5f15\u5165"}),"\n",(0,i.jsx)(s.p,{children:"Playback buffers \u89c6\u9891\u7f13\u51b2\u533a"}),"\n",(0,i.jsx)(s.p,{children:"playback buffer -> video decoder -> screen"}),"\n",(0,i.jsx)(s.p,{children:"\u4e5f\u4e0d\u662f\u56fa\u5b9a\u503c,\u4f1a\u589e\u5927buffer\u6765\u5c3d\u91cf\u4e0d\u8981\u505c"}),"\n",(0,i.jsx)(s.p,{children:"queue model: FIFO"}),"\n",(0,i.jsx)(s.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f\u5b57\u8282\u6570\u968f\u65f6\u95f4\u7684\u53d8\u5316\u662f\u5206\u6bb5\u7684(\u5305\u4e00\u4e2a\u4e2a\u6765),\u8fd1\u4f3c\u53ef\u4ee5\u8ba4\u4e3a\u6bcf\u4e00\u6bb5\u662f\u76f4\u7ebf"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Small packet help reduce end-to-end delay"})}),"\n",(0,i.jsx)(s.p,{children:"\u5c0f\u5305\u7684\u60c5\u51b5\u4e0b \u5404\u4e2a\u4e2d\u95f4router\u7684Queue delay + Packetization delay\u53ef\u4ee5\u5e76\u884c,\u5982\u56fe,\u7c7b\u4f3ccpu\u6d41\u6c34\u7ebf, \u5173\u952e\u662f\u4e00\u4e2a\u5305\u662f\u6700\u5c0f\u4f20\u8f93\u5355\u4f4d"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/07/WqRdP1ebG42tUzB.png",alt:"image-20240907163508951"})}),"\n",(0,i.jsx)(s.p,{children:"Statistical Multiplexing Gain"}),"\n",(0,i.jsx)(s.p,{children:"\u7531\u4e8e\u4ece\u4e00\u4e2alink\u8f93\u5165\u7684packet\u7684\u901f\u7387A\u5177\u6709\u6ce2\u52a8\u6027\u548c\u968f\u673a\u6027,\u8bbe\u8981\u4f7f\u4ed6\u4e0d\u4e22\u5305\u9700\u8981R\u7684\u8f93\u51fa\u901f\u7387"}),"\n",(0,i.jsx)(s.p,{children:"\u5047\u8bbe\u6709\u53e6\u4e00\u4e2alink \u8f93\u5165B, \u4e5f\u9700\u8981R,\u540c\u65f6\u63a5\u53d7AB\u7684\u8def\u7531\u5668\u9700\u8981\u7684\u8f93\u51fa\u901f\u7387R' < 2R, \u56e0\u4e3aAB\u7684\u6700\u5927\u503c\u65f6\u95f4\u70b9\u5927\u6982\u7387\u4e0d\u91cd\u53e0"}),"\n",(0,i.jsx)(s.p,{children:"\u8ba9\u6211\u4eec\u5728\u5904\u7406\u591a\u8def\u6d41\u91cf\u7684\u65f6\u5019\u53cd\u800c\u66f4\u9ad8\u6548"}),"\n",(0,i.jsx)(s.p,{children:"Queues With Random Arrival Processes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Burstiness increase delay -> \u5305\u4e0d\u91cd\u53e0,\u5e73\u5747delay\u4f4e"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Determinism minimizes delay -> \u5982\u679cqueue\u4e3a\u7a7a,\u5c31\u65e0\u6cd5\u5229\u7528\u8f93\u51fa,\u4e0d\u786e\u5b9a\u7684\u5230\u6765\u65f6\u95f4\u52a0\u5267\u62e5\u6324"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Little's Result \u5e73\u5747\u5230\u8fbe\u7387",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"\u03bb"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\lambda"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"\u03bb"})]})})]})," \u5e73\u5747\u6392\u961f\u8005\u6570\u91cfL,\u5e73\u5747\u6392\u961f\u5ef6\u8fdfd, L = ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"\u03bb"}),(0,i.jsx)(s.mo,{children:"\u2217"}),(0,i.jsx)(s.mi,{children:"d"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\lambda * d"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"\u03bb"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"\u2217"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"d"})]})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"M/M/1 queue"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["\u5c06\u6536\u5305\u4e8b\u4ef6\u8fd1\u4f3c\u4e3a\u6cca\u677e\u8fc7\u7a0b,\u76f8\u4e92\u72ec\u7acb\u4e14t\u65f6\u95f4\u5185\u5230\u8fbe\u7684\u5305\u6570n, E(n)=",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"\u03bb"}),(0,i.jsx)(s.mi,{children:"t"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\lambda t"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"\u03bb"}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"t"})]})})]})]}),"\n",(0,i.jsxs)(s.p,{children:["(\u6ce8\u610f\u7f51\u7edc",(0,i.jsx)(s.strong,{children:"\u5305"}),"\u5b9e\u9645\u5f88\u7a81\u53d1,\u4e0d\u662f\u6cca\u677e\u8fc7\u7a0b,\u4f46\u8fd9\u4e2amodel work for new ",(0,i.jsx)(s.strong,{children:"flows"}),", \u65b0\u8fde\u63a5\u662f\u8fd1\u4f3c\u6cca\u677e\u7684)"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/07/M4icDXqmZLtk7uG.png",alt:"image-20240907171142326"})}),"\n",(0,i.jsx)(s.p,{children:"\u5f53\u5165\u5305\u901f\u7387\u63a5\u8fd1\u51fa\u5305\u901f\u7387\u65f6,\u7b49\u5f85\u65f6\u95f4\u4f1a\u5927\u5e45\u5ea6\u4e0a\u6da8"}),"\n",(0,i.jsxs)(s.p,{children:["\u5e73\u5747\u6392\u961f\u8005\u6570\u91cf\u5c31\u662f ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"\u03bb"}),(0,i.jsx)(s.mo,{children:"\u2217"}),(0,i.jsx)(s.mi,{children:"d"}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsxs)(s.mfrac,{children:[(0,i.jsx)(s.mi,{children:"\u03bb"}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"\u03bc"}),(0,i.jsx)(s.mo,{children:"\u2212"}),(0,i.jsx)(s.mi,{children:"\u03bb"})]})]})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\lambda * d = \\frac{\\lambda}{\\mu - \\lambda}"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"\u03bb"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(s.span,{className:"mbin",children:"\u2217"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"d"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1.3612em",verticalAlign:"-0.4811em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,i.jsx)(s.span,{className:"mfrac",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsxs)(s.span,{className:"vlist",style:{height:"0.8801em"},children:[(0,i.jsxs)(s.span,{style:{top:"-2.655em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(s.span,{className:"mord mtight",children:[(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"\u03bc"}),(0,i.jsx)(s.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"\u03bb"})]})})]}),(0,i.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,i.jsxs)(s.span,{style:{top:"-3.394em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(s.span,{className:"mord mtight",children:(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"\u03bb"})})})]})]}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.4811em"},children:(0,i.jsx)(s.span,{})})})]})}),(0,i.jsx)(s.span,{className:"mclose nulldelimiter"})]})]})]})]})]}),"\n",(0,i.jsx)(s.p,{children:"packet switch \u4ea4\u6362\u673a"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u4e2a\u5305\u6765\u4e4b\u540e -> \u67e5\u5730\u5740 -> \u66f4\u65b0header -> \u8fdb\u5165\u6392\u961f -> \u53d1\u9001"}),"\n",(0,i.jsx)(s.p,{children:"Internet router"}),"\n",(0,i.jsx)(s.p,{children:"1, \u5982\u679cDA \u4e0d\u7b49\u4e8e\u81ea\u5df1,\u4e22"}),"\n",(0,i.jsx)(s.p,{children:"2, \u68c0\u67e5ip version\u548cdatagram\u957f\u5ea6"}),"\n",(0,i.jsx)(s.p,{children:"3, \u51cf\u5c11TTL, \u66f4\u65b0\u6821\u9a8c\u548c"}),"\n",(0,i.jsx)(s.p,{children:"4, TTL == 0?"}),"\n",(0,i.jsx)(s.p,{children:"5, \u67e5\u8def\u7531\u8868, IP DA\u51b3\u5b9a\u4e0b\u4e00\u8df3, \u627e\u5230\u5bf9\u5e94\u7684Ethernet DA, \u53d1\u9001\u5230\u7535\u7ebf"}),"\n",(0,i.jsx)(s.p,{children:"IP match -> binary TRIE \u6216\u8005 \u4e09\u8fdb\u5236\u53ef\u5bfb\u5740\u5185\u5b58-> 01X\u66b4\u529b\u5e76\u884c\u6bd4\u8f83,\u5f88\u5feb"}),"\n",(0,i.jsx)(s.p,{children:"Ethernet match -> hash"}),"\n",(0,i.jsx)(s.p,{children:"Input Queued Packet Switch"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u4e2a\u6709 N \u4e2a\u8f93\u5165\u53e3\u7684\u4ea4\u6362\u673a,\u6bcf\u53d1\u9001\u4e00\u4e2apacket\u8017\u65f6R,\u6700\u574f\u60c5\u51b5\u4e0b\u7684\u8f93\u51fadelay\u662f(N+1) * R (\u5047\u8bbe\u8f93\u51fa\u901f\u7387\u8db3\u591f\u5927)"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u628a\u6392\u961f\u653e\u5728\u8f93\u5165,\u6700\u574f\u60c5\u51b5\u4e0bdelay,\u7406\u60f3\u72b6\u6001\u4e0b\u53ef\u4ee5\u964d\u4f4e\u52302R"}),"\n",(0,i.jsx)(s.p,{children:"\u4f46\u95ee\u9898\u662f,\u5982\u679c\u9a6c\u4e0a\u8981\u8f93\u51fa\u7684\u51e0\u4e2a\u5305\u662f\u540c\u4e00\u4e2a\u8f93\u51fa\u53e3,\u4e00\u4e2a\u8f93\u51fa\u53e3\u540c\u65f6\u53ea\u80fd\u8f93\u51fa\u4e00\u4e2a,\u5c31\u548c\u539f\u6765\u7684\u6ca1\u6709\u533a\u522b\u4e86"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662fVirtual Output Queues,\u5728\u6bcf\u4e2a\u8f93\u5165\u53e3\u90fd\u505aM\u4e2a\u961f\u5217,M\u662f\u8f93\u51fa\u53e3\u7684\u6570\u91cf,\u6bcf\u6b21\u8f93\u51fa\u90fd\u4eceM\u4e2a\u4e0d\u540c\u7684\u8f93\u51fa\u53e3\u53d6"}),"\n",(0,i.jsx)(s.p,{children:"\u4e3e\u4e86\u4e00\u4e2a\u6709\u8da3\u7684\u4f8b\u5b50\u662f\u7ea2\u7eff\u706f\u8f66\u9053,\u8f66\u5728\u8fdb\u5165\u8def\u53e3\u524d(\u201c\u8f93\u5165\u53e3\u201d)\u5206\u597d\u961f\u5217,\u540c\u65f6\u8f93\u51fa\u7684\u5c31\u53ef\u4ee5\u589e\u52a0,\u6392\u961f\u65f6\u95f4\u5c31\u53ef\u4ee5\u51cf\u5c11,\u4f46\u8981\u6c42\u7684\u9053\u8def\u5bbd\u5ea6\u53d8\u591a"}),"\n",(0,i.jsx)(s.p,{children:"FIFO\u7684\u95ee\u9898\u548c\u5176\u4ed6\u9009\u9879"}),"\n",(0,i.jsx)(s.p,{children:"\u7ecf\u5178\u6392\u961f\u95ee\u9898,\u5982\u679c\u6709\u4e00\u4e2a\u5927\u5305\u5835\u7740,\u6240\u6709\u5305\u7684\u6392\u961f\u65f6\u95f4\u90fd\u4f1a\u589e\u52a0"}),"\n",(0,i.jsx)(s.p,{children:"strict priority"}),"\n",(0,i.jsx)(s.p,{children:"\u5f88\u7b26\u5408\u76f4\u89c9,\u540c\u4e00\u4e2a\u8f93\u5165\u53e3\u518d\u6765\u51e0\u4e2a\u961f\u5217,\u5e76\u5206\u597d\u4f18\u5148\u7ea7,\u540c\u4e00\u4e2a\u7aef\u53e3\u63a5\u53d7\u591a\u4e2a\u961f\u5217\u8f93\u5165\u7684\u65f6\u5019\u603b\u662f\u4f18\u5148\u53d6\u9ad8\u4f18\u5148\u7ea7\u7684\u5305"}),"\n",(0,i.jsx)(s.p,{children:"\u4e5f\u662f\u7ecf\u5178\u95ee\u9898:\u997f\u6b7b,\u4f46\u95ee\u9898\u4e0d\u50cfsys\u90a3\u6837\u4e25\u91cd,\u997f\u6b7b\u5c31\u997f\u6b7b\u4e86(),\u5e7f\u6cdb\u5e94\u7528"}),"\n",(0,i.jsx)(s.p,{children:"\u6216\u8005weight priority,\u89e3\u51b3\u997f\u6b7b\u95ee\u9898"}),"\n",(0,i.jsxs)(s.p,{children:["\u53d6\u6bcf\u4e2a\u961f\u5217\u7684\u6982\u7387 p =  w",(0,i.jsx)(s.del,{children:"i"})," / sum(w",(0,i.jsx)(s.del,{children:"i"}),") (\u7528Round\u65b9\u6cd5)"]}),"\n",(0,i.jsx)(s.p,{children:"\u8003\u8651\u5230\u6bcf\u4e2a\u5305\u7684\u5927\u5c0f\u4e0d\u4e00\u6837,\u7406\u8bba\u4e0a\u6982\u7387\u5e94\u8be5\u5e94\u7528\u5230\u5b57\u8282\u4e0a\u800c\u4e0d\u662f\u5305\u4e0a,\u4f46\u53c8\u4e0d\u80fd\u62c6\u5f00\u5305\u53d1\u9001,\u600e\u4e48\u505a\u5462\uff1f"}),"\n",(0,i.jsx)(s.p,{children:"WFQ, \u5229\u7528\u6211\u4eec\u5728\u77e5\u9053\u5305\u5927\u5c0f\u8fd9\u4e2a\u4e8b\u5b9e"}),"\n",(0,i.jsx)(s.p,{children:"\u5728\u6bcf\u4e2a\u961f\u5217\u8ba1\u6570(virtual_time),\u6743\u91cd\u4e3aw\u7684\u961f\u5217\u5728\u53d1\u9001\u4e00\u4e2asize\u5927\u5c0f\u7684\u5305\u540e,self.vt += size / w, \u4e4b\u540e\u628aself.vt push\u8fdb\u6700\u5c0f\u5806"}),"\n",(0,i.jsx)(s.p,{children:"\u8c03\u5ea6\u4e0b\u4e00\u4e2a\u5305\u65f6\u4ece\u6700\u5c0f\u5806\u91ccpop()\u5c31\u884c"}),"\n",(0,i.jsx)(s.p,{children:"rate guarantees (Guaranteed Delay)"}),"\n",(0,i.jsx)(s.p,{children:"RSVP  RFC2205"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/07/eOjCAPm8Wfdv6Lz.png",alt:"image-20240907230305637"})}),"\n",(0,i.jsx)(s.p,{children:"\u7ed9\u51fa\u8fde\u63a5\u603b\u8017\u65f610ms\u4e0a\u754c, \u4f20\u8f93\u65f6\u95f4 \u8def\u7a0b/c = 5ms, \u6253\u5305\u65f6\u95f4=\u6bcf\u4e2a\u5305\u7684\u5b57\u8282\u6570/\u6570\u636e\u7ebf\u6700\u5927\u901f\u5ea6 = 0.48ms"}),"\n",(0,i.jsx)(s.p,{children:"\u5269\u4e0b\u6700\u591a4.52ms\u7684\u6392\u961f\u5ef6\u8fdf, \u5206\u57283\u4e2arouter, \u8981\u4fdd\u8bc1\u4e0d\u4e22\u5305, \u5c31\u9700\u8981\u81f3\u5c11 15 Mb * 4.52 / 3ms = 24000bit = 3KB\u7684 buffer"}),"\n",(0,i.jsx)(s.p,{children:"buffer\u7684\u8bbe\u8ba1\u5728 \u201c\u7ed9\u5b9a\u4e00\u5b9a\u6700\u5927\u5ef6\u8fdf\u7684\u60c5\u51b5\u4e0b,\u4e0d\u5141\u8bb8\u4e22\u5305\u201d"}),"\n",(0,i.jsx)(s.h2,{id:"unit-4-congestion-control",children:"Unit 4: Congestion Control"}),"\n",(0,i.jsx)(s.p,{children:"\u5835\u585e\u63a7\u5236"}),"\n",(0,i.jsx)(s.p,{children:"tcp\u5835\u585e\u63a7\u5236"}),"\n",(0,i.jsx)(s.p,{children:"\u5835\u585e\u662f\u4e0d\u53ef\u907f\u514d\u7684"}),"\n",(0,i.jsx)(s.p,{children:"\u5835\u585e\u5e26\u6765\u4e22\u5305,\u7531\u4e8e\u91cd\u4f20\u7b49,\u4f1a\u5e26\u6765\u66f4\u591a\u7684\u6570\u636e\u6d41\u91cf,\u8fdb\u4e00\u6b65\u52a0\u6df1\u5835\u585e"}),"\n",(0,i.jsx)(s.p,{children:"max-min fair: \u4e0d\u80fd\u901a\u8fc7\u51cf\u5c11\u53e6\u4e00\u4e2a\u6d41\u7684\u901f\u7387\u7684\u65b9\u6cd5\u589e\u52a0\u5176\u4e2d\u4e00\u4e2a\u6d41\u7684\u901f\u7387\u65f6"}),"\n",(0,i.jsx)(s.p,{children:"\u5148\u524d\u7684\u60f3\u6cd5"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u7b80\u5355\u7684\u5728\u5404\u4e2a\u53ef\u80fd\u7684router\u4e0a\u5e73\u5747\u5206\u914d\u6d41\u91cf \u95ee\u9898\u5728\u4e8e\u6ca1\u6709\u4efb\u4f55\u53cd\u9988\u673a\u5236"}),"\n",(0,i.jsx)(s.li,{children:"network-based \u663e\u5f0f\u53cd\u9988ECN,\u5f53router\u5835\u585e\u53d1\u751f\u7684\u65f6\u5019,\u7ed9\u6570\u636e\u6e90\u53d1\u9001\u5305\u6307\u793a\u62e5\u5835"}),"\n",(0,i.jsx)(s.li,{children:"end-host-based \u901a\u8fc7\u5728\u53d1\u9001\u7aef\u89c2\u5bdf\u7f51\u7edc\u7684\u884c\u4e3a(\u53d1\u9001\u7684\u8bf7\u6c42\u662f\u5426\u8d85\u65f6\uff1f\u662f\u5426\u4e22\u5305\uff1f)\u8c03\u6574\u53d1\u9001\u901f\u5ea6"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5b9e\u9645\u7684TCP\u91c7\u7528end-host based"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"TCP varies the number of oudstanding packets in the network bt varying window size:"}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Window size = min{Advertised Window(given by receiver), Congestion Window}"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"AIMD(Additive Increase Multiplicative Decrease)"}),"\n",(0,i.jsx)(s.p,{children:"If a packet receive OK : W <- W + 1/W"}),"\n",(0,i.jsx)(s.p,{children:"If a packet is dropped(at Window size W): W <- W/2"}),"\n",(0,i.jsx)(s.p,{children:"\u79f0\u4e3atcp\u952f\u9f7f\u6216\u8005AIMD\u952f\u9f7f"}),"\n",(0,i.jsx)(s.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f,\u5b9e\u9645\u4e0a\u5728\u52a0\u7684\u4e2d\u95f4\u8fc7\u7a0b\u4e2d,\u7f51\u7edc\u901f\u7387\u5c31\u5df2\u7ecf\u62c9\u6ee1\u4e86,\u540e\u9762\u518d\u52a0\u5b9e\u9645\u4e0a\u662f\u5728\u55c5\u63a2router\u7684\u7f13\u51b2\u533a\u5927\u5c0f"}),"\n",(0,i.jsx)(s.p,{children:"single flow AIMD"}),"\n",(0,i.jsx)(s.p,{children:"\u524d\u671f router buffer\u7a7a"}),"\n",(0,i.jsx)(s.p,{children:"RTT = constant"}),"\n",(0,i.jsx)(s.p,{children:"\u541e\u5410\u91cfT=W=dN/dt"}),"\n",(0,i.jsx)(s.p,{children:"dW/dN = 1/W , dW/dt = T/W = const"}),"\n",(0,i.jsx)(s.p,{children:"W,T \u6b63\u6bd4\u4e8et"}),"\n",(0,i.jsx)(s.p,{children:"\u5f53W\u5927\u4e8e\u8f93\u51fa\u901f\u7387R(\u5e38\u6570), router buffer\u5f00\u59cb\u79ef\u7d2f"}),"\n",(0,i.jsx)(s.p,{children:"dW / dt = R/W \u21d2 W = sqrt (Rt+C)"}),"\n",(0,i.jsx)(s.p,{children:"\u6b64\u65f6\u541e\u5410\u91cf\u4e3aR,RTT=k* buffersize+D"}),"\n",(0,i.jsx)(s.p,{children:"\u8d8b\u52bf\u4e0a\u548cW\u76f8\u540c(\u4f46\u4e0d\u5b8c\u5168\u4e00\u6837,\u56e0\u4e3aT\u8f93\u5165=R+buffersize\u53d8\u5316\u7387=W/RTT),\u53ef\u4ee5\u5f97\u5230buffer size \u968f\u65f6\u95f4\u53d8\u5316"}),"\n",(0,i.jsx)(s.p,{children:"multi flows AIMD"}),"\n",(0,i.jsx)(s.p,{children:"\u5728\u591a\u9053\u6570\u636e\u6d41\u7684\u60c5\u51b5\u4e0b,\u4e4b\u524d\u7684AIMD\u4e0d\u662f\u5f88\u9002\u7528"}),"\n",(0,i.jsx)(s.p,{children:"\u95ee\u9898\u5728\u4e8e\u51cf\u5c11\u7684\u65f6\u673a\u4e0d\u662f\u6240\u6709\u6d41\u540c\u6b65\u7684,\u90e8\u5206\u6d41\u51cf\u5c11\u540ebuffer\u53c8\u4e0d\u6ee1,\u5176\u4ed6\u6d41\u5c31\u4e0d\u51cf\u5c11,\u603b\u4f53\u53d1\u751f\u4e22\u5305\u7684\u65f6\u95f4\u5c31\u5f88\u5206\u6563\u968f\u673a,\u5bfc\u81f4\u5b8f\u89c2\u4e0arouter\u7684buffer\u4e00\u76f4\u8d8b\u4e8e\u6ee1\u7684"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:e(98727).A+"",width:"1516",height:"842"})}),"\n",(0,i.jsx)(s.p,{children:"\u591a\u6d41\u65f6 \u541e\u5410\u91cfT\u4e5f\u4e0d\u518d\u7b49\u4e8e(\u5ffd\u7565\u5e38\u6570)\u7a97\u53e3\u5927\u5c0fW(\u591a\u4e2a\u6d41\u7684\u5e73\u5747)"}),"\n",(0,i.jsx)(s.p,{children:"(buffer\u59cb\u7ec8\u8d8b\u4e8e\u6ee1\u7684)"}),"\n",(0,i.jsx)(s.p,{children:"\u603b\u541e\u5410\u91cf\u8fd1\u4f3c\u6052\u7b49\u4e8eR"}),"\n",(0,i.jsx)(s.p,{children:"RTT\u4e5f\u8fd1\u4f3c\u4e3a\u5e38\u6570"}),"\n",(0,i.jsx)(s.p,{children:"\u90a3\u4e48\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6d41,\u90fd\u662fW/2 \u2192 W \u2192 W/2\u7684\u6d41\u7a0b"}),"\n",(0,i.jsx)(s.p,{children:"\u53c8\u7531\u4e8ebuffer\u662f\u6ee1\u7684,RTT\u6052\u5b9a,dW/dt = T/W = 1/ RTT = const ,\u76f4\u7ebf"}),"\n",(0,i.jsx)(s.p,{children:"\u5e73\u5747\u541e\u5410 T\u2018 = 3/4 Wmax/RTT"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u6b21\u4e22\u5305\u524d\u53d1\u9001\u7684\u5305\u6570A = 3/8 Wmax^2 ,\u5219\u4e22\u5305\u7387p=1/A"}),"\n",(0,i.jsx)(s.p,{children:"\u5219T\u2019 =  sqrt(3/2) * 1/RTT*sqrt(p)"}),"\n",(0,i.jsx)(s.p,{children:"\u8003\u8651\u5230\u6bcf\u4e2a\u5305\u5b57\u8282\u6570\u4e0d\u540c,\u518d\u4e58\u4e00\u4e2a\u5e73\u5747\u5b57\u8282\u6570MSS"}),"\n",(0,i.jsx)(s.p,{children:"T\u2019 = sqrt(3/2) * MSS/RTT*sqrt(p)"}),"\n",(0,i.jsx)(s.p,{children:"\u4e5f\u5c31\u662f\u8bf4,AIMD\u5bf9\u4e24\u4e2a\u91cf\u654f\u611f: RTT(\u670d\u52a1\u5668\u6709\u591a\u8fdc,router \u6392\u961f\u65f6\u95f4\u591a\u5927)\u548c \u4e22\u5305\u7387p"}),"\n",(0,i.jsx)(s.p,{children:"TCP\u5835\u585e\u63a7\u5236"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:e(93898).A+"",width:"1116",height:"588"})}),"\n",(0,i.jsx)(s.p,{children:"\u65e9\u671fTCP(\u6ca1\u6709\u5835\u585e\u63a7\u5236)\u7684\u95ee\u9898\u5728\u4e8e,\u7aef\u7684\u901f\u7387\u8d85\u8fc7router\u7684\u901f\u7387\u592a\u591a,receiver\u8fd4\u56de\u7684windows size\u5b9e\u9645\u4e0a\u8fdc\u8fdc\u8d85\u8fc7\u4e86\u7f51\u7edc\u5b9e\u9645\u80fd\u5bb9\u7eb3\u7684\u5927\u5c0f,\u4e0d\u65ad\u4e22\u5305\u91cd\u4f20"}),"\n",(0,i.jsx)(s.p,{children:"TCP Tahoe: \u52a0\u4e0acongestion window, timeout estimation\u548cself-clocking"}),"\n",(0,i.jsx)(s.p,{children:"congestion window\u4e2d\u7684\u4e8c\u9636\u6bb5congestion control"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Slow start:\u5728\u8fde\u63a5\u5efa\u7acb\u6216\u8005\u53d1\u751f\u4e22\u5305\u65f6,AIMD\u524d\u9762\u7ebf\u6027\u589e\u52a0\u7591\u4f3c\u6709\u70b9\u592a\u6162\u4e86,\u52a0\u901f\u4e00\u4e0b"}),"\n",(0,i.jsx)(s.li,{children:"Congestion avoidance: AIMD"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Slow Start"}),"\n",(0,i.jsx)(s.p,{children:"Window starts at Maximum Segment Size MSS"}),"\n",(0,i.jsx)(s.p,{children:"Increase window by MSS for each ACK packet"}),"\n",(0,i.jsx)(s.p,{children:"dW/dt = dN/dt  = W \u21d2 W = exp(t)"}),"\n",(0,i.jsx)(s.p,{children:"\u6307\u6570\u589e\u52a0\u8bd5\u63a2\u541e\u5410\u4e0a\u9650"}),"\n",(0,i.jsx)(s.p,{children:"Congestion avoidance"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Increase by MSS^2/congestion window for each ACK"}),"\n",(0,i.jsx)(s.li,{children:"Behavior: increase by MSS each RTT"}),"\n",(0,i.jsx)(s.li,{children:"Linear increase"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5728\u4e24\u79cd\u72b6\u6001\u95f4\u5207\u6362\u4f7f\u75283\u4e2a\u4fe1\u53f7\u4f5c\u4e3a\u4fe1\u606f:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Inc ACK: \u4f20\u8f93\u826f\u597d"}),"\n",(0,i.jsx)(s.li,{children:"Dup ACK: \u53d1\u751f\u4e22\u5305/\u5ef6\u8fdf"}),"\n",(0,i.jsx)(s.li,{children:"Timeout: \u7f51\u7edc\u5d29\u6e83"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:e(24481).A+"",width:"1267",height:"664"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:e(49107).A+"",width:"1220",height:"763"})}),"\n",(0,i.jsx)(s.p,{children:"Timeout Estimation"}),"\n",(0,i.jsx)(s.p,{children:"\u592a\u5c0f,\u4f1a\u9891\u7e41\u8d85\u65f6,\u56de\u5230slow start,\u5f71\u54cd\u901f\u5ea6"}),"\n",(0,i.jsx)(s.p,{children:"\u592a\u957f,\u4f1a\u9891\u7e41\u91cd\u53d1,\u5f71\u54cd\u901f\u5ea6"}),"\n",(0,i.jsx)(s.p,{children:"\u6311\u6218\u5728\u4e8eRTT\u662f\u9ad8\u5ea6\u52a8\u6001\u4e14\u8d1f\u8f7d\u76f8\u5173\u7684"}),"\n",(0,i.jsx)(s.p,{children:"\u65e9\u671f\u7684\u7b97\u6cd5"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:e(94236).A+"",width:"1002",height:"639"})}),"\n",(0,i.jsx)(s.p,{children:"\u95ee\u9898\u5728\u4e8e\u5047\u8bbe\u4e86RTT\u7684\u65b9\u5dee\u4e0d\u662f\u5f88\u5927,\u4f46\u8fd9\u662f\u4e0d\u5bf9\u7684"}),"\n",(0,i.jsx)(s.p,{children:"\u5927\u65b9\u5dee\u4e0b\u7684RTT\u4f1a\u9891\u7e41\u5e26\u6765\u8fc7\u5c0f\u6216\u8005\u8fc7\u5927\u7684\u95ee\u9898"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:e(77125).A+"",width:"1257",height:"694"})}),"\n",(0,i.jsx)(s.p,{children:"\u5c06\u65b9\u5dee\u7eb3\u5165\u8003\u8651,\u5b9e\u9a8c\u6548\u679c\u597d"}),"\n",(0,i.jsx)(s.p,{children:"self-clocking"}),"\n",(0,i.jsx)(s.p,{children:"\u5e94\u8be5\u53eb\u4e00\u4e2a\u539f\u5219/\u5b9e\u73b0\u65b9\u5f0f,\u4f53\u73b0\u4e3aTCP\u7684\u5835\u585e\u7a97\u53e3\u4e0d\u7531\u5916\u90e8\u65f6\u949f\u51b3\u5b9a,\u800c\u662f\u6839\u636e\u6536\u5230\u7684ACK\u9891\u7387\u81ea\u52a8\u6539\u53d8\u53d1\u9001\u901f\u7387(\u5373\u524d\u9762\u7684slow start\u548cAIMD)"}),"\n",(0,i.jsx)(s.p,{children:"TCP Reno"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"3-Dup ACK\u4e0d\u518d\u8fd4\u56de\u52301,\u8fd4\u56de1/2 * Wmax (fast recovery)"}),"\n",(0,i.jsx)(s.li,{children:"\u5f533-Dup\u7684\u65f6\u5019\u7acb\u523b\u91cd\u4f20"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["(\u4e0d\u7b49\u5f85\u91cd\u4f20\u8ba1\u65f6\u5668\u8d85\u65f6, \u5e76\u4e14\u7acb\u523b\u589e\u5927\u5835\u585e\u7a97\u53e31/2 * ssthreld + 3,\u4e5f\u5c31\u662f\u628a\u8fd9\u4e2aDup\u7684\u5305\u7acb\u523b\u52a0\u5230\u8fd9\u4e00\u6b21\u91cd\u4f20\u4e4b\u4e2d,\u6df7\u5165\u6b63\u5e38\u7684\u53d1\u9001\u6d41,\u4e0d\u7b49\u5f85\u51e0\u6b21RTT\u6269\u5927window size)\n",(0,i.jsx)(s.img,{alt:"alt text",src:e(6766).A+"",width:"1483",height:"801"})]}),"\n",(0,i.jsx)(s.h2,{id:"unit-5-nat-application",children:"Unit 5: NAT Application"}),"\n",(0,i.jsx)(s.p,{children:"DNS, HTTP, BitTorrent"}),"\n",(0,i.jsx)(s.p,{children:"NAT \u5f53\u5185\u90e8\u63a5\u53e3\u6536\u5305\u65f6,\u6539\u5199\u6e90\u5730\u5740\u4e3aNAT\u7684\u5916\u90e8\u63a5\u53e3\u5730\u5740"}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982\u5bb6\u5eadwifi \u591a\u8bbe\u5907\u8fde\u63a5\u5b9e\u9645\u4e0a\u5171\u4eab\u76f8\u540c\u7684IP"}),"\n",(0,i.jsx)(s.p,{children:"NAT \u539f\u5219\u4e0a\u662f\u4e00\u4e2amap"}),"\n",(0,i.jsxs)(s.p,{children:["\u770b\u770b\u81ea\u5df1\u7684public IP ",(0,i.jsx)(s.a,{href:"https://whatismyipaddress.com/",children:"https://whatismyipaddress.com/"})]}),"\n",(0,i.jsx)(s.p,{children:"\u8fd8\u6709\u4e2a\u5185\u7f51IP\u7684\u5e38\u8bc6"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"\u79c1\u6709IP\u5730\u5740\u662f\u5728\u4e92\u8054\u7f51\u4e0a\u4e0d\u88ab\u8def\u7531\u7684IP\u5730\u5740,\u4e13\u4e3a\u5185\u90e8\u7f51\u7edc\u4f7f\u7528\u3002\u79c1\u6709IP\u5730\u5740\u8303\u56f4\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u6bb5:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"10.0.0.0 - 10.255.255.255"}),":\u8fd9\u4e2a\u8303\u56f4\u5185\u7684IP\u5730\u5740\u88ab\u5212\u5206\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684A\u7c7b\u7f51\u7edc,\u901a\u5e38\u7528\u4e8e\u5927\u578b\u4f01\u4e1a\u6216\u7ec4\u7ec7\u7684\u5185\u90e8\u7f51\u7edc\u3002"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"172.16.0.0 - 172.31.255.255"}),":\u8fd9\u4e2a\u8303\u56f4\u5185\u7684IP\u5730\u5740\u662f14\u4e2a\u8fde\u7eed\u7684B\u7c7b\u7f51\u7edc,\u5e38\u7528\u4e8e\u4e2d\u7b49\u89c4\u6a21\u7684\u7ec4\u7ec7\u3002"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"192.168.0.0 - 192.168.255.255"}),":\u8fd9\u4e2a\u8303\u56f4\u5185\u7684IP\u5730\u5740\u662f256\u4e2a\u8fde\u7eed\u7684C\u7c7b\u7f51\u7edc,\u901a\u5e38\u7528\u4e8e\u5bb6\u5ead\u6216\u5c0f\u578b\u4f01\u4e1a\u7f51\u7edc\u3002"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"NAT \u5206\u7c7b"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Full Cone NAT"}),"\n",(0,i.jsx)(s.li,{children:"Restricted Cone NAT"}),"\n",(0,i.jsx)(s.li,{children:"Port Restricted Cone NAT"}),"\n",(0,i.jsx)(s.li,{children:"Symmetric NAT"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u533a\u522b\u5728\u4e8eFull Cone NAT\u53ea\u662f\u4e00\u4e2amap,\u4e0d\u505a\u5b89\u5168\u68c0\u67e5"}),"\n",(0,i.jsx)(s.p,{children:"\u5141\u8bb8\u4e0d\u662fDst IP\u7684\u4e3b\u673a\u901a\u8fc7NAT\u7684\u5916\u90e8\u63a5\u53e3\u7ed9\u5185\u90e8\u63a5\u53e3\u53d1\u5305,\u5141\u8bb8\u5916\u90e8\u4e3b\u52a8\u8fde\u63a5\u5185\u90e8"}),"\n",(0,i.jsx)(s.p,{children:"Restricted Cone\u53ea\u5141\u8bb8Dst IP\u7684\u4e3b\u673a\u53d1\u5305,\u540c\u65f6\u5fc5\u987b\u5185\u90e8\u5148\u8fde\u63a5\u5916\u90e8"}),"\n",(0,i.jsx)(s.p,{children:"Port \u5c31\u662f\u4e0d\u4ec5\u8981\u6c42IP\u76f8\u540c,\u8fd8\u8981\u6c42\u7aef\u53e3\u53f7\u4e5f\u76f8\u540c"}),"\n",(0,i.jsx)(s.p,{children:"Symmetric \u7684\u4e0d\u540c\u70b9\u5728\u5185\u90e8,\u5728Port\u7684\u57fa\u7840\u4e0a,\u5982\u679c\u5185\u90e8\u4e00\u4e2a{IP,port}\u5c1d\u8bd5\u8fde\u63a5\u4e24\u4e2a\u4e0d\u540c\u7684\u5916\u90e8{IP,port}, NAT\u4f1a\u7ed9\u8fd9\u4e2a\u5185\u90e8\u7684\u5206\u914d\u4e24\u4e2a\u4e0d\u540c\u7684{IP, port},\u7136\u540e\u548c\u5916\u90e8\u4e00\u5bf9\u4e00\u94fe\u63a5"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u4e0d\u7b26\u5408\u8981\u6c42,\u6709\u7684\u4e0d\u7ffb\u8bd1,\u6709\u7684\u4f1a\u8fd4\u56de\u4e00\u4e2aICMP\u9519\u8bef"}),"\n",(0,i.jsx)(s.p,{children:"Symmetric\u6709\u4e00\u4e9b\u95ee\u9898"}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982\u6709\u6e38\u620f\u7684\u591a\u4eba\u5728\u7ebf\u670d\u52a1\u5668\u628a\u4e0d\u540c\u7684\u6e38\u620f\u5185\u5730\u56fe\u670d\u52a1\u653e\u5728\u4e0d\u540c\u7684\u7aef\u53e3/IP\u4e0a\u6765\u5206\u6d41,\u5f53\u540c\u65f6\u9700\u8981\u4e24\u79cd\u670d\u52a1\u7684\u65f6\u5019,\u5efa\u7acb\u4e86\u4e24\u4e2a\u8fde\u63a5,server\u6ca1\u6709\u529e\u6cd5\u77e5\u9053\u8fd9\u4e24\u4e2a\u8fde\u63a5\u90fd\u662f\u540c\u4e00\u4e2a\u4e1c\u897f\u53d1\u51fa\u6765\u7684(\u7aef\u53e3\u4e0d\u4e00\u6837)"}),"\n",(0,i.jsx)(s.p,{children:"static mapping"}),"\n",(0,i.jsx)(s.p,{children:"NAT hairmapping NAT\u56de\u6d41"}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982,\u5728\u5185\u7f51\u4e2d\u6709\u4e00\u53f0\u670d\u52a1\u5668S,\u5176\u901a\u8fc7NAT\u66b4\u9732\u7ed9\u5916\u9762\u7684DNS,\u5185\u7f51\u6709\u4e00\u4e2a\u5ba2\u6237\u7aefC\u60f3\u8981\u8bbf\u95eeS,\u5982\u679c\u4f7f\u7528DNS\u7684\u8bdd,\u5f97\u5230\u7684\u662fS\u66b4\u9732\u7ed9\u5916\u9762\u7684NAT IP\u3002\u8fd9\u4e2a\u65f6\u5019,\u8d70\u5916\u9762\u8fd8\u662f\u8d70\u91cc\u9762\uff1f"}),"\n",(0,i.jsx)(s.p,{children:"NAT hairmapping\u6709\u591a\u79cd\u53ef\u80fd\u7684\u914d\u7f6e,\u4e00\u79cd\u8ba9\u5185\u90e8\u8bbf\u95ee\u8d70\u5916\u90e8,\u727a\u7272\u6027\u80fd\u6362\u53d6\u5bf9\u5185\u5b89\u5168\u6027,\u4e00\u79cd\u662f\u4e3b\u52a8\u8bc6\u522b\u5185\u90e8\u5230\u5916\u90e8\u7684\u8bf7\u6c42,\u5e76\u628a\u5b83\u653e\u5728\u5185\u90e8\u89e3\u51b3\u4e0d\u8d70NAT"}),"\n",(0,i.jsx)(s.p,{children:"\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\u66f4\u4e25\u91cd\u7684\u95ee\u9898\u5728\u4e8e\u5982\u679c\u60f3\u8981\u8d70\u91cc\u9762,B\u5411\u5916\u90e8IP\u53d1\u9001\u5305,\u5374\u4ece\u5185\u90e8IP\u63a5\u53d7\u5305,IP\u4e0d\u540c\u6839\u672c\u4e0d\u4f1a\u63a5\u53d7"}),"\n",(0,i.jsx)(s.p,{children:"NAT\u5e26\u6765\u7684\u95ee\u9898"}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982B\u60f3\u8981\u4e0eNAT\u540e\u9762\u7684A\u901a\u4fe1,\u4f46mapping\u91cc\u9762\u6ca1\u6709,\u4e0d\u80fd\u4e3b\u52a8\u8fde,\u4e5f\u4e0d\u4f1a\u7528A\u7684NAT\u52a0B\u7684mapping"}),"\n",(0,i.jsxs)(s.p,{children:["Connection Reversal, ",(0,i.jsx)(s.img,{src:"https://www.researchgate.net/profile/Bryan-Ford/publication/1959162/figure/fig3/AS:669491117711375@1536630529609/NAT-Traversal-by-Connection-Reversal.png",alt:"NAT Traversal by Connection Reversal"})]}),"\n",(0,i.jsx)(s.p,{children:"\u516c\u7f51B->\u4e2d\u8f6cR->\u8bf7\u6c42\u5185\u7f51A,A->B\u8fde\u63a5,\u56e0\u4e3a\u8fd9\u4e2a\u8bf7\u6c42\u662f\u53cd\u5411\u7684(B\u60f3\u8981\u8fdeA,\u4f46\u5b9e\u9645\u4e0a\u53d8\u6210A\u8fdeB),\u6240\u4ee5\u53ebConnection Reversal"}),"\n",(0,i.jsx)(s.p,{children:"Relay \u4e2d\u7ee7,A\u3001B\u90fd\u5728\u5185\u7f51,\u901a\u8fc7\u4e2d\u7ee7R\u505a\u8f6c\u53d1"}),"\n",(0,i.jsx)(s.p,{children:"\u8981\u6c42\u52a0\u5bc6(\u9664\u975e\u4fe1\u4efbR),\u4e14\u6d88\u8017\u670d\u52a1\u5668\u6027\u80fd"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img6.png",alt:""})}),"\n",(0,i.jsx)(s.p,{children:"NAT Hole-Punching NAT\u6253\u6d1e(\u4e00\u822c\u7528\u4e8eUDP)"}),"\n",(0,i.jsxs)(s.p,{children:["\u4e24\u4e2aClient\u90fd\u5728NAT\u540e\u9762,\u53c2\u8003\u8fd9\u7bc7\u6587\u7ae0",(0,i.jsx)(s.a,{href:"https://mthli.xyz/p2p-hole-punching/",children:"https://mthli.xyz/p2p-hole-punching/"})]}),"\n",(0,i.jsxs)(s.p,{children:["\u4e3b\u8981\u6b65\u9aa4",":ClientA",",B\u7ed9\u4e2d\u95f4\u516c\u7f51\u670d\u52a1\u5668S\u6ce8\u518c\u81ea\u5df1\u7684\u5185\u7f51\u5730\u5740,\u5e76\u901a\u8fc7\u83b7\u53d6\u5bf9\u65b9\u7684\u516c\u7f51IP\u3001\u5185\u7f51IP, \u4e4b\u540eA\u5411\u7740B\u53d1\u8bf7\u6c42\u6253\u901aA\u7684NAT(\u52a0\u4e0aB\u7684\u516c\u7f51IP\u7684mapping),B\u5411A\u53d1\u8bf7\u6c42\u6253\u901aB\u7684NAT(\u52a0\u4e0aA\u7684NAT\u7684\u516c\u7f51IP\u7684mapping),\u4e4b\u540eAB\u5c31\u53ef\u4ee5\u6b63\u5e38\u901a\u8bdd\u4e86(\u96a7\u9053\u6253\u901a)"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img8.png",alt:""})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img9.png",alt:""})}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679cNAT\u4e0d\u4e00\u6837\u6df1,\u6709\u591a\u5c42\u6df1\u5462\uff1f"}),"\n",(0,i.jsx)(s.p,{children:"AB\u5728\u53d1\u9001\u81ea\u5df1\u4fe1\u606f,\u5f97\u5230\u5bf9\u65b9\u4fe1\u606f\u7684\u65f6\u5019\u9700\u8981\u628a\u4e00\u8def\u4e0a\u6bcf\u4e00\u7ea7NAT\u7684\u516c\u7f51IP\u5e26\u51fa,\u800c\u5728\u6253\u6d1e\u7684\u65f6\u5019\u9700\u8981\u4ece\u5916\u5230\u5185\u4e00\u7ea7\u7ea7\u6253(\u7531\u4e8e\u7f3a\u4e4f\u62d3\u6251\u4fe1\u606f,\u5f80\u5f80\u4e0d\u662f\u6700\u4f18,\u4e5f\u53ef\u80fd\u4f1a\u8d85\u65f6)"}),"\n",(0,i.jsx)(s.p,{children:"\u6ce8\u610f"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Since ",(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img3.png",alt:"A"})," and ",(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img4.png",alt:"B"})," are on different private networks and their respective private IP addresses are not globally routable, the messages sent to these endpoints will reach either the wrong host or no host at all. ",(0,i.jsxs)(s.strong,{children:["Because many NATs also act as DHCP servers, handing out IP addresses in a fairly deterministic way from a private address pool usually determined by the NAT vendor by default, it is quite likely in practice that ",(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img3.png",alt:"A"}),"'s messages directed at ",(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img4.png",alt:"B"}),"'s private endpoint will reach ",(0,i.jsx)(s.em,{children:"some"})," (incorrect) host on ",(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img3.png",alt:"A"}),"'s private network that happens to have the same private IP address as ",(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img4.png",alt:"B"})," does."]})," ",(0,i.jsxs)(s.strong,{children:["Applications must therefore authenticate all messages in some way to filter out such stray traffic robustly. The messages might include application-specific names or cryptographic tokens, for example, or at least a random nonce pre-arranged through ",(0,i.jsx)(s.img,{src:"https://bford.info/pub/net/p2pnat/img5.png",alt:"S"}),"."]})]}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.h4,{id:"tcp-hole-punching-tcp\u6253\u5b54",children:"TCP Hole Punching TCP\u6253\u5b54"}),"\n",(0,i.jsxs)(s.p,{children:["Establishing peer-to-peer TCP connections between hosts behind NATs is slightly more complex than for UDP, but TCP hole punching is remarkably similar at the protocol level. Since it is not as well-understood, it is currently supported by fewer existing NATs. When the NATs involved ",(0,i.jsx)(s.em,{children:"do"})," support it, however, TCP hole punching is just as fast and reliable as UDP hole punching. Peer-to-peer TCP communication across well-behaved NATs may in fact be ",(0,i.jsx)(s.em,{children:"more"})," robust than UDP communication, because unlike UDP, the TCP protocol's state machine gives NATs on the path a standard way to determine the precise lifetime of a particular TCP session.\n\u5728 NAT \u540e\u9762\u7684\u4e3b\u673a\u4e4b\u95f4\u5efa\u7acb\u70b9\u5bf9\u70b9 TCP \u8fde\u63a5\u6bd4 UDP \u7a0d\u5fae\u590d\u6742\u4e00\u4e9b,\u4f46 TCP \u6253\u6d1e\u5728\u534f\u8bae\u7ea7\u522b\u975e\u5e38\u76f8\u4f3c\u3002\u7531\u4e8e\u5b83\u8fd8\u6ca1\u6709\u88ab\u5f88\u597d\u5730\u7406\u89e3,\u76ee\u524d\u652f\u6301\u5b83\u7684\u73b0\u6709 NAT \u8f83\u5c11\u3002\u7136\u800c,\u5f53\u6d89\u53ca\u7684 NAT",(0,i.jsx)(s.em,{children:"\u652f\u6301"}),"\u65f6,TCP \u6253\u6d1e\u4e0e UDP \u6253\u6d1e\u4e00\u6837\u5feb\u901f\u4e14\u53ef\u9760\u3002\u4e8b\u5b9e\u4e0a,\u8de8\u884c\u4e3a\u826f\u597d\u7684 NAT \u7684\u70b9\u5bf9\u70b9 TCP \u901a\u4fe1\u53ef\u80fd\u6bd4 UDP \u901a\u4fe1",(0,i.jsx)(s.em,{children:"\u66f4"}),"\u7a33\u5065,\u56e0\u4e3a\u4e0e UDP \u4e0d\u540c,TCP \u534f\u8bae\u7684\u72b6\u6001\u673a\u4e3a\u8def\u5f84\u4e0a\u7684 NAT \u63d0\u4f9b\u4e86\u4e00\u79cd\u6807\u51c6\u65b9\u6cd5\u6765\u786e\u5b9a\u7279\u5b9a TCP \u4f1a\u8bdd\u7684\u7cbe\u786e\u751f\u547d\u5468\u671f\u3002"]}),"\n",(0,i.jsx)(s.h4,{id:"sockets-and-tcp-port-reuse-\u5957\u63a5\u5b57\u548c-tcp-\u7aef\u53e3\u91cd\u7528",children:"Sockets and TCP Port Reuse \u5957\u63a5\u5b57\u548c TCP \u7aef\u53e3\u91cd\u7528"}),"\n",(0,i.jsxs)(s.p,{children:["The main practical challenge to applications wishing to implement TCP hole punching is not a protocol issue but an application programming interface (API) issue. Because the standard Berkeley sockets API was designed around the client/server paradigm, the API allows a TCP stream socket to be used to initiate an outgoing connection via ",(0,i.jsx)(s.code,{children:"connect()"}),", or to listen for incoming connections via ",(0,i.jsx)(s.code,{children:"listen()"})," and ",(0,i.jsx)(s.code,{children:"accept()"}),", ",(0,i.jsx)(s.em,{children:"but not both"}),". Further, TCP sockets usually have a one-to-one correspondence to TCP port numbers on the local host: after the application binds one socket to a particular local TCP port, attempts to bind a second socket to the same TCP port fail.\n\u5bf9\u4e8e\u5e0c\u671b\u5b9e\u73b0 TCP \u6253\u6d1e\u7684\u5e94\u7528\u7a0b\u5e8f\u6765\u8bf4,\u4e3b\u8981\u7684\u5b9e\u9645\u6311\u6218\u4e0d\u662f\u534f\u8bae\u95ee\u9898,\u800c\u662f\u5e94\u7528\u7a0b\u5e8f\u7f16\u7a0b\u63a5\u53e3 (API) \u95ee\u9898\u3002\u7531\u4e8e\u6807\u51c6 Berkeley \u5957\u63a5\u5b57 API \u662f\u56f4\u7ed5\u5ba2\u6237\u7aef/\u670d\u52a1\u5668\u8303\u4f8b\u8bbe\u8ba1\u7684,\u56e0\u6b64\u8be5 API \u5141\u8bb8\u4f7f\u7528 TCP \u6d41\u5957\u63a5\u5b57\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u53d1\u8d77\u4f20\u51fa\u8fde\u63a5: ",(0,i.jsx)(s.code,{children:"connect()"})," ,\u6216\u8005\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u4fa6\u542c\u4f20\u5165\u8fde\u63a5 ",(0,i.jsx)(s.code,{children:"listen()"})," \u548c ",(0,i.jsx)(s.code,{children:"accept()"})," ,",(0,i.jsx)(s.em,{children:"\u4f46\u4e0d\u80fd\u4e24\u8005\u517c\u800c\u6709\u4e4b"}),"\u3002\u6b64\u5916,TCP \u5957\u63a5\u5b57\u901a\u5e38\u4e0e\u672c\u5730\u4e3b\u673a\u4e0a\u7684 TCP \u7aef\u53e3\u53f7\u4e00\u4e00\u5bf9\u5e94:\u5e94\u7528\u7a0b\u5e8f\u5c06\u4e00\u4e2a\u5957\u63a5\u5b57\u7ed1\u5b9a\u5230\u7279\u5b9a\u672c\u5730 TCP \u7aef\u53e3\u540e,\u5c1d\u8bd5\u5c06\u7b2c\u4e8c\u4e2a\u5957\u63a5\u5b57\u7ed1\u5b9a\u5230\u540c\u4e00 TCP \u7aef\u53e3\u4f1a\u5931\u8d25\u3002"]}),"\n",(0,i.jsxs)(s.p,{children:["For TCP hole punching to work, however, we need to use a single local TCP port to listen for incoming TCP connections and to initiate multiple outgoing TCP connections concurrently. Fortunately, all major operating systems support a special TCP socket option, commonly named ",(0,i.jsx)(s.code,{children:"SO_REUSEADDR"}),", which allows the application to bind multiple sockets to the same local endpoint as long as this option is set on all of the sockets involved. BSD systems have introduced a ",(0,i.jsx)(s.code,{children:"SO_REUSEPORT"})," option that controls port reuse separately from address reuse; on such systems ",(0,i.jsx)(s.em,{children:"both"})," of these options must be set.\n\u7136\u800c,\u4e3a\u4e86\u8ba9 TCP \u6253\u6d1e\u53d1\u6325\u4f5c\u7528,\u6211\u4eec\u9700\u8981\u4f7f\u7528\u5355\u4e2a\u672c\u5730 TCP \u7aef\u53e3\u6765\u4fa6\u542c\u4f20\u5165 TCP \u8fde\u63a5\u5e76\u540c\u65f6\u542f\u52a8\u591a\u4e2a\u4f20\u51fa TCP \u8fde\u63a5\u3002\u5e78\u8fd0\u7684\u662f,\u6240\u6709\u4e3b\u8981\u64cd\u4f5c\u7cfb\u7edf\u90fd\u652f\u6301\u7279\u6b8a\u7684 TCP \u5957\u63a5\u5b57\u9009\u9879,\u901a\u5e38\u79f0\u4e3a",(0,i.jsx)(s.code,{children:"SO_REUSEADDR"})," ,\u53ea\u8981\u5728\u6240\u6709\u6d89\u53ca\u7684\u5957\u63a5\u5b57\u4e0a\u8bbe\u7f6e\u6b64\u9009\u9879,\u5b83\u5c31\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u5c06\u591a\u4e2a\u5957\u63a5\u5b57\u7ed1\u5b9a\u5230\u540c\u4e00\u672c\u5730\u7aef\u70b9\u3002 BSD\u7cfb\u7edf\u5f15\u5165\u4e86",(0,i.jsx)(s.code,{children:"SO_REUSEPORT"}),"\u9009\u9879,\u53ef\u4ee5\u4e0e\u5730\u5740\u91cd\u7528\u5206\u5f00\u63a7\u5236\u7aef\u53e3\u91cd\u7528\uff1b\u5728\u6b64\u7c7b\u7cfb\u7edf\u4e0a,\u5fc5\u987b\u8bbe\u7f6e\u8fd9",(0,i.jsx)(s.em,{children:"\u4e24\u4e2a"}),"\u9009\u9879\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["\u66f4\u591a\u7ec6\u8282\u53ef\u4ee5\u770b ",(0,i.jsx)(s.a,{href:"https://bford.info/pub/net/p2pnat/",children:"https://bford.info/pub/net/p2pnat/"})]}),"\n",(0,i.jsx)(s.p,{children:"\u7531\u4e8eS\u548cA\u662f\u4e24\u4e2a\u5916\u90e8\u8282\u70b9,\u6240\u4ee5S\u8bd5\u63a2\u51fa\u7684ip, port\u8981\u80fd\u7528,\u8fd8\u8981\u6c42B\u7684NAT\u4e0d\u662fsymmetric\u7684,A\u4e5f\u4e00\u6837"}),"\n",(0,i.jsx)(s.p,{children:"\u6559\u6388\u8fd8\u63d0\u51fa\u4e86\u4e2a\u5f88\u5e7d\u9ed8\u7684\u95ee\u9898\u662f"}),"\n",(0,i.jsx)(s.p,{children:"\u8981\u6c42NAT\u652f\u6301\u6253\u6d1e(\u751a\u81f3\u5176\u4ed6\u90a3\u4e9b\u9ad8\u7ea7\u63aa\u65bd)\u662f\u8fdd\u80ccp2p\u7684,\u9700\u8981NAT\u7684\u652f\u6301,NAT\u539f\u5219\u4e0a\u4e0d\u4f1a\u4e3a\u4e0d\u6d41\u884c\u7684\u65b0\u534f\u8bae\u63d0\u4f9b\u6253\u6d1e\u652f\u6301(\u9700\u8981NAT\u8d77\u7801\u77e5\u9053\u54ea\u91cc\u662fIP,\u54ea\u91cc\u662fport,etc),\u800c\u5728\u73b0\u5728\u5e7f\u6cdb\u4f7f\u7528NAT\u7684\u60c5\u51b5\u4e0b,\u4e0d\u652f\u6301\u7a7f\u8fc7NAT\u7684\u534f\u8bae\u96be\u4ee5\u6d41\u884c\u8d77\u6765,\u6b7b\u5faa\u73af\u4e86"}),"\n",(0,i.jsx)(s.p,{children:"NAT Debate:"}),"\n",(0,i.jsx)(s.p,{children:"Pros:\u5b89\u5168\u6027,\u5730\u5740\u91cd\u7528"}),"\n",(0,i.jsx)(s.p,{children:"Cons:\u4e0d\u662fp2p\u4f9d\u8d56\u5927\u89c4\u6a21\u7684\u786c\u4ef6\u652f\u6301,\u7edf\u4e00\u89c4\u8303\u7684\u56f0\u96be,\u6dfb\u52a0\u65b0\u884c\u4e3a\u7684\u56f0\u96be,\u5e94\u7528\u7a0b\u5e8f\u7f16\u5199\u589e\u52a0\u7684\u56f0\u96be"}),"\n",(0,i.jsx)(s.p,{children:"NAT Operations"}),"\n",(0,i.jsx)(s.p,{children:"RFC 4787 UDP"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'A NAT MUST have an "Endpoint-Independent Mapping" behavior(mapping\u548c\u5916\u90e8\u7aef\u53e3\u65e0\u5173,\u7981\u6b62symmetric NAT)'}),"\n",(0,i.jsx)(s.li,{children:"......"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"RFC 5382 TCP"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u4e00\u6837,\u7981\u6b62symmetric NAT"}),"\n",(0,i.jsx)(s.li,{children:"\u5fc5\u987b\u5141\u8bb8\u540c\u65f6\u7684\u5f00\u542fTCP\u8fde\u63a5(A\u6253\u6d1e\u8fde\u63a5B\u7684public IP,SYN;\u7136\u540eB\u8fde\u63a5A\u7684public IP,SYN\u3002\u6b64\u65f6\u9700\u8981\u80fd\u8fde\u63a5,\u6253\u6d1e\u5b8c\u6210,NAT\u5fc5\u987b\u5141\u8bb8\u4e14\u6b63\u786e\u5904\u7406A SYN, B SYN\u8fd9\u79cdTCP State)(NAT\u4e0d\u9650\u5236\u4efb\u4f55\u904d\u5386TCP\u72b6\u6001\u56fe\u7684\u8fde\u63a5\u5b9e\u73b0\u65b9\u5f0f)"}),"\n",(0,i.jsx)(s.li,{children:"\u6536\u5230\u6ca1\u6709map\u7684TCP SYN\u65f6\u5fc5\u987b\u81f3\u5c11\u4fdd\u75596s\u624d\u53ef\u4ee5\u53d1\u9001ICMP\u54cd\u5e94 (\u5982\u679c\u4e00\u4e2a\u5728\u8303\u56f4\u5916\u7684\u6253\u6d1e\u7528TCP SYN\u4f20\u5165,\u7136\u540e\u7ed9\u4ed6\u62d2\u4e86,\u81ea\u5df1\u8fd9\u8fb9\u5c1d\u8bd5\u6253\u5bf9\u9762\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5bf9\u9762TCP\u8fde\u63a5\u5173\u95ed\u5220\u4e86\u8fd9\u4e2amapping\u6253\u6d1e\u5931\u8d25)"}),"\n",(0,i.jsx)(s.li,{children:"......"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"HTTP:"}),"\n",(0,i.jsx)(s.p,{children:"REQ/RES API"}),"\n",(0,i.jsx)(s.p,{children:"text protocal, document-centric"}),"\n",(0,i.jsx)(s.p,{children:"HTTP Req Format:"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:"method | URL | version"}),"\n",(0,i.jsx)(s.p,{children:"header field name | value"}),"\n",(0,i.jsx)(s.p,{children:"..."}),"\n",(0,i.jsx)(s.p,{children:"header field name | value"}),"\n",(0,i.jsx)(s.p,{children:"blank line"}),"\n",(0,i.jsx)(s.p,{children:"body"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:"HTTP/1.0"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Open connection"}),"\n",(0,i.jsx)(s.li,{children:"Issue GET"}),"\n",(0,i.jsx)(s.li,{children:"Server closes connection after response"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"HTTP/1.0 Speed"}),"\n",(0,i.jsx)(s.p,{children:"Latency 50ms"}),"\n",(0,i.jsx)(s.p,{children:"Req size:1 seg, Res 2 seg"}),"\n",(0,i.jsx)(s.p,{children:"Seg packetization delay: 10ms, full duplex(\u5168\u53cc\u5de5,\u6536\u53d1\u4e92\u4e0d\u5f71\u54cd)"}),"\n",(0,i.jsx)(s.p,{children:"Maximum open connections: 2"}),"\n",(0,i.jsx)(s.p,{children:"window\u8db3\u591f\u5927"}),"\n",(0,i.jsx)(s.p,{children:"Case 1: Single Page"}),"\n",(0,i.jsx)(s.p,{children:"SYN: 50 + SYN/ACK 50 + ACK/req 60 + res/70 = 230ms"}),"\n",(0,i.jsx)(s.p,{children:"Case 2: page loads 2 images"}),"\n",(0,i.jsx)(s.p,{children:"step1(page): Setup 100ms, req/res 130ms"}),"\n",(0,i.jsx)(s.p,{children:"step2(images): Setup 100ms,produce 2 response, 100 + 60 + 2*20+50 = 250ms"}),"\n",(0,i.jsx)(s.p,{children:"\u603b\u5171250 + 100 + 130 = 480ms"}),"\n",(0,i.jsx)(s.p,{children:"TCP\u8fde\u63a5\u5360\u4e86\u5f88\u5927\u7684\u5f00\u9500,HTTP\u65e0\u72b6\u6001\u5f71\u54cdTCP\u670d\u7528"}),"\n",(0,i.jsx)(s.p,{children:"HTTP/1.1 Keep-Alive"}),"\n",(0,i.jsx)(s.p,{children:"1.0 \u7684\u95ee\u9898"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u591a\u8fde\u63a5\u6bcf\u6b21\u90fd\u8981Setup\u592a\u6162\u4e86"}),"\n",(0,i.jsx)(s.li,{children:"\u5f88\u591a\u7684\u4f20\u8f93\u5927\u5c0f\u90fd\u5f88\u5c0f,TCP \u7684window size\u96be\u4ee5\u53d8\u5927(Slow Start & AIMD)"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"HTTP/1.1"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Added Connection header for req"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"keep-alive: \u544a\u8bc9server\u4e0d\u8981\u5173\u95ed\u8fd9\u4e2aconnection"}),"\n",(0,i.jsx)(s.li,{children:"close: \u544a\u8bc9server\u5173\u95ed"}),"\n",(0,i.jsx)(s.li,{children:"Server can always ignore"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Added Connection header for res"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"keep-alive: \u544a\u8bc9client\u4e0d\u4f1a\u5173\u95ed\u8fd9\u4e2aconnection"}),"\n",(0,i.jsx)(s.li,{children:"close: \u544a\u8bc9client\u4f1a\u5173\u95ed"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Added Keep-Alive header for res"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u544a\u8bc9client connection\u53ef\u80fd\u88ab\u7ef4\u6301\u6253\u5f00\u591a\u4e45"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"SPDY"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"req pipelining"}),"\n",(0,i.jsx)(s.li,{children:"remove redundant headers"}),"\n",(0,i.jsx)(s.li,{children:"Becoming basis of HTTP/2.0"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"BitTorrent"}),"\n",(0,i.jsx)(s.p,{children:"\u4ed6\u8bb2\u7684\u592a\u5feb\u4e86"}),"\n",(0,i.jsx)(s.p,{children:"bt\u79cd\u5b50\u539f\u7406\u8fd8\u53ef\u4ee5\u53c2\u8003"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://jaminzhang.github.io/p2p/BitTorrent-Principle-Introduction/",children:"https://jaminzhang.github.io/p2p/BitTorrent-Principle-Introduction/"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.cnblogs.com/HMingR/p/13703917.html",children:"https://www.cnblogs.com/HMingR/p/13703917.html"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.zhihu.com/question/49829233/answer/160765176",children:"https://www.zhihu.com/question/49829233/answer/160765176"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://zh.wikipedia.org/wiki/BitTorrent_(%E5%8D%8F%E8%AE%AE)",children:"https://zh.wikipedia.org/wiki/BitTorrent_(%E5%8D%8F%E8%AE%AE)"})}),"\n",(0,i.jsx)(s.p,{children:"DNS"}),"\n",(0,i.jsx)(s.p,{children:"\u539f\u7406\u7ec6\u8282(\u5c42\u6b21\u7cfb\u7edf)\u76f4\u63a5\u770bb\u7ad9\u6216\u8005\u5c0f\u6797\u5c31\u884c,\u6ca1\u4ec0\u4e48\u65b0\u4e1c\u897f"}),"\n",(0,i.jsx)(s.p,{children:"\u8bbe\u8ba1\u65f6 DNS\u5e94\u8be5\u662f"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u8bfb\u8fdc\u8fdc\u591a\u4e8e\u5199"}),"\n",(0,i.jsx)(s.li,{children:"\u5f31\u4e00\u81f4\u6027\u8981\u6c42"}),"\n",(0,i.jsx)(s.li,{children:"\u53ef\u8f83\u957f\u671f\u7f13\u5b58"}),"\n",(0,i.jsx)(s.li,{children:"\u5355\u70b9\u6545\u969c\u4e0d\u5f71\u54cd\u6574\u4e2a\u7cfb\u7edf\u5de5\u4f5c"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5206\u5e03\u5f0f,\u591aDNS server -> \u5f3a\u5927\u7684DDoS\u6297\u6027"}),"\n",(0,i.jsx)(s.p,{children:"DNS cache poisoning \u7be1\u6539DNS resolver\u91cc\u9762\u7684cache\u6307\u5411\u6076\u610f\u7f51\u7ad9"}),"\n",(0,i.jsx)(s.p,{children:"DNS info -> Resource Records (RR)"}),"\n",(0,i.jsx)(s.p,{children:"name [TTL] [class] [type] rdata"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"name: domain name"}),"\n",(0,i.jsx)(s.li,{children:"TTL: time to live (in seconds)"}),"\n",(0,i.jsx)(s.li,{children:"class: for extensibility, usually IN 1(Internet)"}),"\n",(0,i.jsx)(s.li,{children:"type: type, two critical: A(Ipv4 address) and (NS name server)"}),"\n",(0,i.jsx)(s.li,{children:"rdata: data depends on type"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"DNS Message"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/13/1zgXxURw2JEaHhO.png",alt:"image-20240913220108331"})}),"\n",(0,i.jsx)(s.p,{children:"dns name compression"}),"\n",(0,i.jsx)(s.p,{children:"\u6574\u4e2aDNS\u5305 < 512\u5b57\u8282"}),"\n",(0,i.jsx)(s.p,{children:"Other Kinds of Records"}),"\n",(0,i.jsx)(s.p,{children:"CNAME: to create an alias DNS name"}),"\n",(0,i.jsx)(s.p,{children:"SOA: start of authority"}),"\n",(0,i.jsx)(s.p,{children:"TXT: some text(for extension)"}),"\n",(0,i.jsx)(s.p,{children:"PTR: map address to name"}),"\n",(0,i.jsx)(s.p,{children:"AAAA: Ipv6"}),"\n",(0,i.jsx)(s.p,{children:"DHCP"}),"\n",(0,i.jsx)(s.p,{children:"\u4e0eIP\u901a\u4fe1\u81f3\u5c11\u9700\u8981:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"IP\u5730\u5740"}),"\n",(0,i.jsx)(s.li,{children:"\u5b50\u7f51\u63a9\u7801"}),"\n",(0,i.jsx)(s.li,{children:"\u7f51\u5173 Gateway router, \u4f20\u51fa\u53bb\u7684\u7b2c\u4e00\u8df3"}),"\n",(0,i.jsx)(s.li,{children:"[optional] DNS"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u95ee\u9898:\u4ece\u4e00\u4e2a\u65b0\u7535\u8111,\u5982\u4f55\u5f97\u5230\u8fd9\u4e9b\u503c\uff1f"}),"\n",(0,i.jsx)(s.p,{children:"\u66fe\u7ecf:\u624b\u5de5\u914d\u7f6e"}),"\n",(0,i.jsxs)(s.p,{children:["\u73b0\u5728",":DHCP","\u534f\u8bae,Dynamic Host Configuration Protocal"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://info.support.huawei.com/info-finder/encyclopedia/zh/DHCP.html",children:"https://info.support.huawei.com/info-finder/encyclopedia/zh/DHCP.html"})}),"\n",(0,i.jsx)(s.p,{children:"\u5e38\u89c1\u7684DHCP\u670d\u52a1\u5668:\u8def\u7531\u5668/\u5149\u732b"}),"\n",(0,i.jsx)(s.p,{children:"\u8bfe\u7a0b\u8bb2\u5f97\u8fdc\u4e0d\u5982\u52a8\u753b\u6e05\u695a"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://www.bilibili.com/video/BV1Gd4y1n7Xz/?share_source=copy_web&vd_source=60f8c73d5ef551168e0bbb088ac46073",children:"https://www.bilibili.com/video/BV1Gd4y1n7Xz/?share_source=copy_web&vd_source=60f8c73d5ef551168e0bbb088ac46073"})}),"\n",(0,i.jsx)(s.p,{children:"\u865a\u62df\u673a\u7684\u7f51\u7edc\u6a21\u5f0f:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["\u7f51\u7edc\u5730\u5740\u8f6c\u6362NAT, \u7406\u89e3\u4e3a\u4e3a\u6bcf\u4e00\u4e2a\u865a\u62df\u673a\u865a\u62df\u4e86\u4e00\u4e2aDHCP\u670d\u52a1\u5668\u4f5c\u4e3a\u4e00\u4e2a",(0,i.jsx)(s.strong,{children:"\u53ea\u51fa\u4e0d\u8fdb"}),"\u7684NAT,\u7ed9\u865a\u62df\u673a\u5206\u914d\u4e86\u865a\u62df\u8bbe\u5907MAC, \u865a\u62df\u673a\u5185\u8fde\u63a5\u5916\u90e8ok(\u5bbf\u4e3b\u673a\u4f1a\u4f5c\u4e3aNAT\u8fdb\u884c\u8f6c\u53d1), host\u8fde\u63a5\u865a\u62df\u673a\u4e0d\u884c(NAT\u5916\u516c\u7f51\u8fde\u5185\u7f51), \u865a\u62df\u673a\u4e4b\u95f4\u4e0d\u80fd\u4e92\u8fde(\u6709\u81ea\u5df1\u72ec\u7acb\u7684DHCP)(\u4e0d\u8003\u8651\u7aef\u53e3\u8f6c\u53d1\u7b49)"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"NAT\u7f51\u7edc,\u5728\u865a\u62df\u673a\u524d\u52a0\u4e00\u53f0\u865a\u62df\u4ea4\u6362\u673a,\u4ea4\u6362\u673a\u8fde\u63a5\u5bbf\u4e3b\u673a,DHCP\u5730\u5740\u3001\u7f51\u5173\u5730\u5740\u4e0d\u518d\u4e00\u6837,\u8fd9\u6837\u865a\u62df\u673a\u53ef\u4ee5\u8fde\u63a5\u865a\u62df\u673a,\u5176\u4ed6\u540c\u4e0a"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u6865\u63a5(\u7f51\u5361),\u628a\u865a\u62df\u673a\u653e\u5728\u5bbf\u4e3b\u673a\u7684\u5c40\u57df\u7f51\u91cc\u9762,\u4e5f\u4f5c\u4e3a\u4e00\u4e2a\u201c\u72ec\u7acb\u8bbe\u5907\u201d\u53bb\u8fde\u63a5\u5bbf\u4e3b\u673a\u5668\u8fde\u63a5\u7684DHCP server,\u6d88\u8017\u5bbf\u4e3b\u6240\u5728\u5c40\u57df\u7f51\u7684IP\u5730\u5740,\u6b64\u65f6\u5168\u90e8\u53ef\u4ee5\u8fde"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u5185\u90e8\u7f51\u7edc:\u53ef\u4ee5\u4e92\u76f8ping, \u4e0d\u80fdping\u5bbf\u4e3b\u548c\u5916\u90e8\u7f51\u7edc,\u4e00\u4e2a\u9694\u79bb\u7684\u5185\u90e8\u7f51\u7edc"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Host-only(\u4ec5\u4e3b\u673a):\u865a\u62df\u673a\u548c\u5bbf\u4e3b\u6784\u6210\u7684\u5185\u90e8\u7f51\u7edc,\u865a\u62df\u673a\u4e0d\u80fd\u8fde\u5916\u90e8\u4e92\u8054\u7f51\u548c\u88ab\u8fde,\u6bd4\u5982docker\u91c7\u7528host-only\u591a"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"unit-6-routing",children:"Unit 6: Routing"}),"\n",(0,i.jsx)(s.p,{children:"Approaches"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Flooding \u5728\u6bcf\u4e2a\u8282\u70b9\u5e7f\u64ad,\u6548\u7387\u4f4e,\u4f46\u80fd\u4fdd\u8bc1\u53ef\u8fbe\u6027,\u4ec5\u5728\u5bf9\u7f51\u7edc\u62d3\u6251\u4e00\u65e0\u6240\u77e5\u65f6\u8003\u8651"}),"\n",(0,i.jsx)(s.li,{children:"Source routing \u53e6\u4e00\u4e2a\u6781\u7aef,\u7aef\u70b9\u5b8c\u5168\u77e5\u9053\u5185\u90e8\u7684\u62d3\u6251,\u8fdb\u800c\u76f4\u63a5\u6307\u5b9a\u4e00\u6761\u8def"}),"\n",(0,i.jsx)(s.li,{children:"Forwarding table \u6838\u5fc3\u5728\u4e8e\u5982\u4f55\u586b\u5145\u8fd9\u4e9b\u8f6c\u53d1\u8868"}),"\n",(0,i.jsx)(s.li,{children:"Spanning tree \u4e00\u79cd\u586b\u5145\u8f6c\u53d1\u8868\u7684\u65b9\u6cd5,\u53ef\u4ee5\u662f\u8ddd\u79bb\u7684\u6700\u5c0f\u751f\u6210\u6811,\u8df3\u6570\u7684\u6700\u5c0f\u751f\u6210\u6811,\u5ef6\u8fdf\u7684\u6700\u5c0f\u751f\u6210\u6811......"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5b9e\u9645\u4e0a\u91c7\u7528\u7684\u8def\u7531\u7b97\u6cd5\u4e5f\u79f0\u8def\u7531\u534f\u8bae"}),"\n",(0,i.jsx)(s.p,{children:"Metrics"}),"\n",(0,i.jsx)(s.p,{children:"Shortest path spanning trees"}),"\n",(0,i.jsx)(s.p,{children:"Other types of routing"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Multipath \u6700\u5c0f\u751f\u6210\u6811\u7684\u95ee\u9898\u5728\u4e8e\u6709\u4e9b\u8282\u70b9\u7684\u7684\u5ea6\u4f1a\u5f88\u9ad8,\u541e\u5410\u538b\u529b\u5f88\u5927,\u5c06\u4e0d\u540c\u7684\u5305\u5206\u914d\u5230\u4e0d\u540c\u8def\u5f84\u4e0a\u5747\u5300\u8d1f\u8f7d"}),"\n",(0,i.jsx)(s.li,{children:"Multicast \u591a\u4e2a\u76ee\u6807\u4f18\u5316\u7684\u60c5\u51b5,\u4f8b\u5982,\u5e7f\u64ad,\u60f3\u8981\u4ee5\u5c3d\u53ef\u80fd\u5c11\u7684\u4f20\u8f93\u4ee3\u4ef7\u53d1\u9001\u5230\u5927\u91cf\u4e3b\u673a"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Bellman-Ford \u7b97\u6cd5"}),"\n",(0,i.jsx)(s.p,{children:"\u8fd9\u91cc\u4ed6\u7528\u7684\u201c\u5230X\u7684\u6700\u5c0f\u751f\u6210\u6811\u201d\u5b9e\u9645\u4e0a\u662fX\u7684\u5355\u6e90\u6700\u77ed\u8def\u5f84\u6811"}),"\n",(0,i.jsx)(s.p,{children:"\u5206\u5e03\u5f0fBellman-Ford"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"\u521d\u59cb\u6240\u6709\u70b9\u5230\u6e90\u7684\u8ddd\u79bb\u8bbe\u4e3a\u65e0\u7a77,\u8bb0\u4e3a\u8ddd\u79bb\u5411\u91cfC=(C1,C2,...)"}),"\n",(0,i.jsx)(s.li,{children:"\u6bcf\u8fc7T\u65f6\u95f4,\u5c06C\u53d1\u9001\u5230\u6240\u6709\u90bb\u8fb9"}),"\n",(0,i.jsx)(s.li,{children:"\u5982\u679c\u53d1\u73b0\u53d1\u9001\u8fc7\u6765\u7684Ci\u6bd4\u81ea\u5df1\u7684Ci\u5c0f,\u66f4\u65b0\u81ea\u5df1\u7684Ci"}),"\n",(0,i.jsx)(s.li,{children:"\u91cd\u590d23"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u8fd0\u884c\u65f6\u95f4:\u6700\u957f\u65e0\u5faa\u73af\u8def\u5f84"}),"\n",(0,i.jsx)(s.p,{children:"\u6536\u655b\u6027:\u4e00\u5b9a\u6536\u655b"}),"\n",(0,i.jsxs)(s.p,{children:["\u5f53\u8fde\u63a5\u7684cost\u6539\u53d8/\u8fde\u63a5\u6302\u4e86",":Bad"," news travel slowly(Count to Infinity Problem)"]}),"\n",(0,i.jsx)(s.p,{children:"R1->R2->R3->R4\u7684\u56fe,R3->R4\u65ad\u4e86,R3\u4f1a\u628aR3-R4\u66f4\u65b0\u4e3aR2-R3 + R2-R4\u7684\u503c\u800c\u4e0d\u662f\u65e0\u7a77\uff01"}),"\n",(0,i.jsxs)(s.p,{children:["\u8fd9\u6837Ri->R4\u7684\u503c\u90fd\u662f\u6162\u6162\u589e\u52a0,",(0,i.jsx)(s.strong,{children:"\u5bf9\u5207\u65ad\u5b8c\u5168\u4e0d\u654f\u611f"})]}),"\n",(0,i.jsx)(s.p,{children:"\u89e3\u51b3\u65b9\u6cd5\u6709\u5f88\u591a:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u8bbe\u7f6e\u201c\u65e0\u7a77\u201d\u4e3a\u4e00\u4e2a\u5c0f\u7684\u503c,\u8fed\u4ee3\u5230\u8d85\u8fc7\u5b83\u5c31\u662f\u65e0\u7a77,\u505c\u6b62,\u8ba4\u4e3a\u622a\u65ad"}),"\n",(0,i.jsx)(s.li,{children:"split horizon: R2\u4eceR3\u5904\u5f97\u5230\u6700\u5c0f\u7684cost, \u4e0d\u53cd\u5411\u4f20\u56deR3(\u6216\u4f20\u56de\u65e0\u7a77)"}),"\n",(0,i.jsx)(s.li,{children:"......"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"split horizon\u4e0d\u4e00\u5b9a\u603b\u662f\u6709\u6548\u7684,\u6bd4\u8f83\u5bb9\u6613\u6784\u9020\u4f8b\u5b50"}),"\n",(0,i.jsx)(s.p,{children:"Bellman Ford \u7b97\u6cd5\u548csplit horizon\u7b49\u673a\u5236\u6784\u6210\u4e86\u7b2c\u4e00\u4ee3\u8def\u7531\u534f\u8bae(Routing Infomation Protocol, RIP)"}),"\n",(0,i.jsx)(s.p,{children:"\u4f18\u70b9\u662f\u8def\u7531\u5668\u7684\u8ba1\u7b97\u91cf\u5f88\u5c0f"}),"\n",(0,i.jsx)(s.p,{children:"Dijkstra\u7b97\u6cd5 \u5927\u5bb6\u90fd\u5f88\u719f\u4e86"}),"\n",(0,i.jsx)(s.p,{children:"\u6ce8\u610f\u4e00\u4e0bDijkstra\u5728cost\u6539\u53d8\u6216\u8005link\u51fa\u9519\u7684\u65f6\u5019\u9700\u8981\u5bf9\u6240\u6709\u8282\u70b9\u91cd\u65b0\u8ba1\u7b97\u5355\u6e90\u6700\u77ed\u8def\u5f84"}),"\n",(0,i.jsx)(s.p,{children:"\u8ba1\u7b97\u91cf\u5927,\u4f46\u9519\u8bef\u7acb\u5373\u4f20\u64ad"}),"\n",(0,i.jsx)(s.p,{children:"OSPF(Open Shortest Path First)\u534f\u8bae\u7684\u57fa\u7840"}),"\n",(0,i.jsx)(s.p,{children:"Hierarchy and Autonomous Systems(AS)"}),"\n",(0,i.jsx)(s.p,{children:"\u524d\u9762\u628a\u4e92\u8054\u7f51\u770b\u6210\u8def\u7531\u5668\u7684\u96c6\u5408,\u5bf9\u4e5f\u4e0d\u5bf9"}),"\n",(0,i.jsx)(s.p,{children:"\u6838\u5fc3\u95ee\u9898\u662f\u89c4\u6a21\u592a\u5927\u4e86,\u5bfc\u81f4\u4ea4\u6362\u548c\u540c\u6b65\u5f00\u9500\u592a\u5927,\u5373\u4f7f\u6309\u7167O(E)\u4e5f\u4e0d\u73b0\u5b9e, \u5b9e\u9645\u4e0a\u662f\u591a\u4e2a\u5c0f\u96c6\u5408\u8fde\u63a5\u8d77\u6765"}),"\n",(0,i.jsx)(s.p,{children:"\u6bcf\u4e00\u4e2a\u5c0f\u96c6\u5408\u79f0\u4e3a\u4e00\u4e2aAS,AS\u5185\u90e8\u81ea\u5df1\u51b3\u5b9a\u8def\u7531\u534f\u8bae,\u901a\u8fc7\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u51fa\u53e3\u548c\u5916\u90e8\u8fde\u63a5"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/15/KEXth5DIPTyBqfG.png",alt:"image-20240915210137838"})}),"\n",(0,i.jsx)(s.p,{children:"\u5728AS\u4e4b\u95f4,\u5fc5\u987b\u4f7f\u7528BGP-4(Border Gateway Protocol, rfc 1771)"}),"\n",(0,i.jsx)(s.p,{children:"AS\u7684\u7c92\u5ea6\u5927\u6982\u5728\u5927\u5b66\u6821,\u5927\u4f01\u4e1a\u8fd9\u6837"}),"\n",(0,i.jsx)(s.p,{children:"\u627e\u627e\u4ea4\u5927\u7684AS"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"\u276f traceroute electsys.sjtu.edu.cn\ntraceroute to electsys.sjtu.edu.cn (202.120.35.189), 30 hops max, 60 byte packets\n 1  * * *\n 2  * * 10.3.2.217 (10.3.2.217)  4.413 ms\n 3  10.32.31.246 (10.32.31.246)  4.915 ms  4.895 ms  4.874 ms\n 4  10.32.73.226 (10.32.73.226)  4.305 ms  4.732 ms  4.090 ms\n 5  202.120.35.189 (202.120.35.189)  4.033 ms  4.014 ms  3.995 ms\n\n\u276f whois 202.120.35.189                                               \n% [whois.apnic.net]                                                  \n% Whois data copyright terms    http://www.apnic.net/db/dbcopyright.h\ntml                                                                  \n                                                                     \n% Information related to '202.112.0.0 - 202.121.255.255'             \n                                                                     \n% Abuse contact for '202.112.0.0 - 202.121.255.255' is 'abuse@cernet.\nedu.cn'                                                              \n                                                                     \ninetnum:        202.112.0.0 - 202.121.255.255                        \nnetname:        CERNET-CN                                            \ndescr:          China Education and Research Network                 \ndescr:          China Education and Research Network Center          \ndescr:          Tsinghua University                                  \ndescr:          Beijing, 100084                                      \ncountry:        CN                                                   \nadmin-c:        CER-AP                                               \ntech-c:         CER-AP                                               \nabuse-c:        AC1685-AP                                            \nstatus:         ALLOCATED PORTABLE                                   \nremarks:        origin AS4538                                        \nmnt-by:         APNIC-HM                                             \nmnt-lower:      MAINT-CERNET-AP                                      \nmnt-routes:     MAINT-CERNET-AP                                      \nmnt-irt:        IRT-CERNET-AP                                        \nlast-modified:  2020-09-03T09:16:29Z                                 \nsource:         APNIC                                                \n                                                                     \nirt:            IRT-CERNET-AP                                        \naddress:        Network Research Center,                             \naddress:        Main Bldg, Tsinghua Univ                             \naddress:        Beijing 100084, China                                \nphone:          +86-10-62784301                                      \nfax-no:         +86-10-62785933                                      \ne-mail:         abuse@cernet.edu.cn                                  \nabuse-mailbox:  abuse@cernet.edu.cn                                  \nadmin-c:        CER-AP                                               \ntech-c:         CER-AP                                               \nauth:           # Filtered                                           \nremarks:        timezone GMT+8                                       \nremarks:        http://www.ccert.edu.cn                              \nremarks:        abuse@cernet.edu.cn was validated on 2024-07-04      \nmnt-by:         MAINT-CERNET-AP                                      \nlast-modified:  2024-07-04T04:10:10Z                                 \nsource:         APNIC                                                \n                                                                     \nrole:           ABUSE CERNETAP                                       \naddress:        Network Research Center,                             \naddress:        Main Bldg, Tsinghua Univ                             \naddress:        Beijing 100084, China                                \ncountry:        ZZ                                                   \nphone:          +86-10-62784301                                      \ne-mail:         abuse@cernet.edu.cn                                  \nadmin-c:        CER-AP                                               \ntech-c:         CER-AP                                               \nnic-hdl:        AC1685-AP                                            \nremarks:        Generated from irt object IRT-CERNET-AP              \nremarks:        abuse@cernet.edu.cn was validated on 2024-07-04      \nabuse-mailbox:  abuse@cernet.edu.cn                                  \nmnt-by:         APNIC-ABUSE                                          \nlast-modified:  2024-07-04T04:10:19Z                                 \nsource:         APNIC                                                \n                                                                     \nrole:           CERNET Helpdesk                                      \naddress:        CERNET Center                                        \naddress:        Beijing 100084, China                                \ncountry:        CN                                                   \nphone:          +86-10-6278-4049                                     \nfax-no:         +86-10-6278-5933                                     \ne-mail:         helpdesk@cernet.edu.cn                               \nremarks:        abuse@cernet.edu.cn                                  \nadmin-c:        XL1-CN                                               \ntech-c:         SZ2-AP                                               \nnic-hdl:        CER-AP                                               \nmnt-by:         MAINT-CERNET-AP                                      \nlast-modified:  2020-09-03T09:14:12Z                                 \nsource:         APNIC                                                \n                                                                     \n% This query was served by the APNIC Whois Service version 1.88.25 (W\nHOIS-AU1)                                                            \n          \n"})}),"\n",(0,i.jsx)(s.p,{children:"\u662f\u4e2d\u56fd\u6559\u80b2\u548c\u79d1\u7814\u8ba1\u7b97\u673a\u7f51\u7edc()"}),"\n",(0,i.jsxs)(s.p,{children:["mac\u4e0a\u652f\u6301",(0,i.jsx)(s.code,{children:"traceroute -a"}),"\u4f46\u662fubuntu\u597d\u50cf\u4e0d\u652f\u6301"]}),"\n",(0,i.jsx)(s.p,{children:"Interior Routing Protocols"}),"\n",(0,i.jsx)(s.p,{children:"RIP:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u4f7f\u7528\u5206\u5e03\u5f0fBellman-Ford"}),"\n",(0,i.jsx)(s.li,{children:"\u6bcf30s\u66f4\u65b0\u4e00\u6b21"}),"\n",(0,i.jsx)(s.li,{children:"\u6ca1\u6709\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,i.jsx)(s.li,{children:"\u66fe\u7ecf\u5e7f\u6cdb\u4f7f\u7528,\u73b0\u5728\u591a\u88abOSPF\u548cISIS\u53d6\u4ee3"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"OSPF:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u8fde\u63a5\u4fe1\u606f\u76f4\u63a5\u66b4\u529bflooding"}),"\n",(0,i.jsx)(s.li,{children:"\u6bcf\u4e00\u4e2a\u8def\u7531\u5668\u90fd\u8dd1Dijkstra"}),"\n",(0,i.jsx)(s.li,{children:"\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,i.jsx)(s.li,{children:"\u5f88\u591a\u590d\u6742\u7684\u7ec6\u8282(doge)"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u5355\u4e2a\u51fa\u53e3\u7684AS\u975e\u5e38\u7b80\u5355"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u6bcf\u4e00\u4e2a\u8def\u7531\u5668\u7684default routing(\u8def\u7531\u8868\u7b2c\u4e00\u9879)\u90fd\u662f\u51fa\u53e3"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u8def\u7531\u8868\u901a\u5e38\u5f88\u5c0f"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u591a\u51fa\u53e3:"}),"\n",(0,i.jsx)(s.p,{children:"\u5fc5\u987b\u6307\u5b9a\u6bcf\u4e00\u4e2arouter\u7684\u51fa\u53e3\u548c\u5bf9\u5e94\u524d\u7f00"}),"\n",(0,i.jsx)(s.p,{children:"Approach 1: hot-patato routing, \u5206\u914d\u79bb\u8def\u7531\u5668\u6700\u8fd1\u7684\u51fa\u53e3"}),"\n",(0,i.jsx)(s.p,{children:"Approach 2: \u5206\u914d\u79bb\u76ee\u6807\u6700\u8fd1\u7684\u51fa\u53e3"}),"\n",(0,i.jsx)(s.p,{children:"BGP-4 \u5c1d\u8bd5\u89e3\u51b3\u7684\u95ee\u9898:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u7f51\u7edc\u62d3\u6251\u590d\u6742"}),"\n",(0,i.jsx)(s.li,{children:"AS \u7684 COST \u4e94\u82b1\u516b\u95e8,\u6240\u4ee5\u4e0d\u53ef\u80fd\u627e\u6700\u77ed\u8def\u5f84,\u627e\u5230\u4e00\u7ec4\u8def\u5f84\u5c31\u884c"}),"\n",(0,i.jsx)(s.li,{children:"\u6709\u4e9bAS\u4e0d\u4fe1\u4efb\u5176\u4ed6\u7684\u4e00\u4e9bAS,\u9690\u79c1\u4fdd\u62a4"}),"\n",(0,i.jsx)(s.li,{children:"\u4e0d\u540cAS\u7684\u7b56\u7565\u548c\u76ee\u6807\u4e0d\u540c"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"the structure of Internet"}),"\n",(0,i.jsx)(s.p,{children:"\u4ece Global ISP \u5230 Regional ISP \u5230 access ISP"}),"\n",(0,i.jsx)(s.p,{children:"BGP4"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/15/4bVGglyHLmp5sYk.png",alt:"image-20240915215047521"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/15/8Tax3UIWlM6gXKV.png",alt:"image-20240915215218659"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/15/erTnhlEjHGFxADw.png",alt:"image-20240915215328459"})}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982\u5546\u4e1a\u4e0a\u7684local pref\u53ef\u80fd\u662f"}),"\n",(0,i.jsx)(s.p,{children:"customer > peer > provider"}),"\n",(0,i.jsx)(s.p,{children:"Multicast"}),"\n",(0,i.jsx)(s.p,{children:"Reverse Path Broadcast(RPB)"}),"\n",(0,i.jsx)(s.p,{children:"aka Reverse Path Forwarding(RPF)"}),"\n",(0,i.jsx)(s.p,{children:"\u91cd\u7528\u5df2\u6709\u7684\u6700\u77ed\u8def\u5f84\u6811,Flooding\u4f46\u662f\u53ea\u5728\u6700\u77ed\u8def\u5f84\u6811\u4e0aFlooding"}),"\n",(0,i.jsx)(s.p,{children:"\u8fdb\u4e00\u6b65\u53ef\u4ee5\u7ed9\u6700\u77ed\u8def\u5f84\u6811\u52a0\u4e0a\u526a\u679d"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u8bf4\u5bf9\u6bcf\u4e2a\u8282\u70b9\u90fd\u7ef4\u62a4\u4e00\u4e2a\u6700\u77ed\u8def\u5f84\u6811\u5f00\u9500\u592a\u5927,\u4e5f\u53ef\u4ee5\u6bd4\u5982\u6240\u6709\u8282\u70b9\u90fd\u91c7\u7528\u4e2d\u95f4\u7684\u67d0\u4e2a\u8282\u70b9\u7684\u6700\u77ed\u8def\u5f84\u6811"}),"\n",(0,i.jsx)(s.p,{children:"\u591a\u64ad\u5e38\u5e38\u4e0d\u77e5\u9053\u4e5f\u96be\u4ee5\u77e5\u9053\u63a5\u53d7\u8005,\u8fd9\u65f6\u5019\u9700\u8981\u63a5\u53d7\u8005\u4e3b\u52a8\u8868\u793a\u63a5\u53d7\u6570\u636e\u5305\u7684\u610f\u613f"}),"\n",(0,i.jsx)(s.p,{children:"IGMP host\u548c\u76f4\u8fderouter\u7684\u534f\u8bae,host\u8981\u6c42router\u63a5\u53d7\u67d0\u4e9b\u591a\u64ad\u7ec4\u7684\u6570\u636e;router\u8f6e\u8be2host\u662f\u5426\u8fd8\u60f3\u8981"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u4e9b\u534f\u8bae DVMRP, PIM"}),"\n",(0,i.jsx)(s.p,{children:"multicast\u4f7f\u7528\u7684\u6bd4\u60f3\u8c61\u7684\u5c11, \u5e76\u4e14\u65e9\u671f\u6548\u7387\u786e\u5b9e\u4e0d\u9ad8,\u5e76\u4e14\u5b89\u5168\u3001\u63a7\u5236\u4e4b\u7c7b\u7684\u95ee\u9898\u4e5f\u5f88\u591a"}),"\n",(0,i.jsx)(s.p,{children:"Spanning Tree Protocol"}),"\n",(0,i.jsx)(s.p,{children:"Ethernet\u662f\u5982\u4f55\u907f\u514d\u5faa\u73af\u7684\uff1f(\u6ca1\u6709TTL\u5b57\u6bb5\u7684\u60c5\u51b5\u4e0b)\u2014\u2014\u6784\u5efa\u751f\u6210\u6811"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/15/cgl25yRxMDVLwp7.png",alt:"image-20240915221756676"})}),"\n",(0,i.jsx)(s.p,{children:"\u73b0\u5728\u7684\u7b97\u6cd5\u53c8\u6709\u5f88\u591a\u53d8\u5316\u548c\u6539\u8fdb"}),"\n",(0,i.jsx)(s.p,{children:"IPv6 128\u4f4d\u5730\u5740 16 * 8 8\u4e2a 4\u4e2a16\u8fdb\u5236 \u5b57\u6bcd\u5757"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.code,{children:"https://[2001:470:806d:1::9]:80"})}),"\n",(0,i.jsx)(s.p,{children:"\u5927\u5730\u5740\u7a7a\u95f4\u7b80\u5316\u914d\u7f6e\u548cIP\u5206\u914d\u95ee\u9898"}),"\n",(0,i.jsx)(s.h2,{id:"unit-7-physical-and-link",children:"Unit 7: Physical and Link"}),"\n",(0,i.jsx)(s.p,{children:"Link"}),"\n",(0,i.jsx)(s.p,{children:"\u8fde\u63a5\u5c42"}),"\n",(0,i.jsxs)(s.p,{children:["Channel capacity = B log",(0,i.jsx)(s.del,{children:"2"}),"(1+S/N)"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"B \u5e26\u5bbd,S \u4fe1\u53f7\u5f3a\u5ea6,N\u566a\u58f0"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u7535\u78c1\u6ce2->\u4fe1\u53f7:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Amplitude Shift Keying ASK\u632f\u5e45\u8c03\u5236"}),"\n",(0,i.jsx)(s.li,{children:"Freq Shift Keying FSK\u9891\u7387\u8c03\u5236"}),"\n",(0,i.jsx)(s.li,{children:"Phase Shift Keying PSK\u76f8\u4f4d\u8c03\u5236"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u6709\u7ebf\u7f51\u7edc\u4e00\u822cASK \u6162\u7684PAM-5,\u5feb\u7684PAM-16"}),"\n",(0,i.jsx)(s.p,{children:"\u632f\u5e45\u8c03\u5236\u9700\u8981\u73af\u5883\u5e72\u6270\u5c0f\u4e14\u7a33\u5b9a"}),"\n",(0,i.jsx)(s.p,{children:"\u7c7b\u4f3c\u65e0\u7ebf\u7f51\u7edc,\u73af\u5883\u5e72\u6270\u5927,\u5c31\u5e38\u7528PSK"}),"\n",(0,i.jsx)(s.p,{children:"BPSK two phases (0, pi)"}),"\n",(0,i.jsx)(s.p,{children:"QPSK (0, 90, 180, 270)"}),"\n",(0,i.jsx)(s.p,{children:"\u76f8\u4f4d\u7684\u4f18\u70b9\u6709\u4e00\u4e2a\u662f\u53ef\u4ee5\u5f88\u8f7b\u677e\u5730\u5f97\u5230\u4efb\u610f\u76f8\u4f4d\u7684\u6ce2"}),"\n",(0,i.jsx)(s.p,{children:"I/Q Moudulation \u4e00\u4e2a0,\u4e00\u4e2a180,\u7ebf\u6027\u53e0\u52a0"}),"\n",(0,i.jsx)(s.p,{children:"QAM \u540c\u65f6\u4f7f\u7528ASK\u548cPSK\u6765\u5f97\u5230\u7269\u7406\u5c42\u4e0a\u8868\u793a\u66f4\u591a\u4fe1\u606f\u7684\u7b26\u53f7"}),"\n",(0,i.jsx)(s.p,{children:"eg. 16-QAM for 3G"}),"\n",(0,i.jsx)(s.p,{children:"Bit Error and Coding"}),"\n",(0,i.jsx)(s.p,{children:"Bit Error \u566a\u58f0\u5fc5\u5b9a\u5e26\u6765\u9519\u8bef\u7684symbol"}),"\n",(0,i.jsx)(s.p,{children:"Coding \u901a\u8fc7\u5728\u7269\u7406\u5c42\u52a0\u5165\u5197\u4f59\u7684bit\u6765\u68c0\u9519\u7ea0\u9519"}),"\n",(0,i.jsx)(s.p,{children:"m/n code: m\u4f4dbit\u8f6c\u5316\u4e3an\u4f4d\u7269\u7406\u5c42bit 1/2 3/4"}),"\n",(0,i.jsx)(s.p,{children:"\u7269\u7406\u548c\u94fe\u8def\u539f\u7406"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u4f55\u5728\u6ca1\u6709\u5168\u5c40\u65f6\u949f\u7684\u60c5\u51b5\u4e0b\u4ece\u7535\u78c1\u6ce2\u5f97\u5230symbol(\u63a5\u53d7\u8005\u4e0d\u77e5\u9053\u53d1\u9001\u8005\u7684\u65f6\u949f)"}),"\n",(0,i.jsx)(s.p,{children:"\u5f02\u6b65\u901a\u4fe1:"}),"\n",(0,i.jsx)(s.p,{children:"\u6536\u5230Start\u7684\u4e0b\u964d\u6cbf\u4e4b\u540e\u5f00\u59cb\u6309\u7167\u81ea\u5df1\u7684\u65f6\u949f\u5468\u671f\u63a5\u53d7"}),"\n",(0,i.jsx)(s.p,{children:"\u9002\u7528\u4e8e \u6570\u636e\u91cf\u5c0f(\u79ef\u7d2f\u504f\u79fb\u5c11,\u65e0\u9700\u540c\u6b65)\u7684\u60c5\u51b5"}),"\n",(0,i.jsx)(s.p,{children:"\u4f8b\u5982\u7ea2\u5916\u9065\u63a7\u5668"}),"\n",(0,i.jsx)(s.p,{children:"\u540c\u6b65\u901a\u4fe1:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/14/sowvx1uN8WatKA6.png",alt:"image-20240914003537280"})}),"\n",(0,i.jsx)(s.p,{children:"\u4ece\u65f6\u949f\u6062\u590d\u5355\u5143\u901a\u8fc7\u8fc7\u6ee4\u7b49\u624b\u6bb5\u4ece\u53d1\u9001\u4fe1\u53f7\u4e2d\u5f97\u5230\u539f\u59cb\u65f6\u949f"}),"\n",(0,i.jsx)(s.p,{children:"\u4ee5\u539f\u59cb\u65f6\u949f\u901f\u7387\u538b\u5165FIFO, \u53e6\u4e00\u7aef\u4ee5\u63a5\u6536\u7aef\u7684\u65f6\u949f\u5f39\u51faFIFO"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u4e0d\u53d1\u9001\u539f\u59cb\u65f6\u949f\u4fe1\u53f7,\u8981\u5b8c\u6210clock recovery\u9700\u8981\u539f\u59cbdata\u6709\u4e0a\u5347/\u4e0b\u964d\u6cbf"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u4f55\u5904\u7406\u51680/\u51681\uff1f"}),"\n",(0,i.jsx)(s.p,{children:"Manchester Coding:"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["\u5728\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u4e2d,\u6bcf\u4e00\u4f4d\u7684\u4e2d\u95f4\u6709\u4e00\u8df3\u53d8,\u4f4d\u4e2d\u95f4\u7684\u8df3\u53d8\u65e2\u4f5c",(0,i.jsx)(s.a,{href:"https://baike.baidu.com/item/%E6%97%B6%E9%92%9F%E4%BF%A1%E5%8F%B7/0?fromModule=lemma_inlink",children:"\u65f6\u949f\u4fe1\u53f7"}),",\u53c8\u4f5c\u6570\u636e\u4fe1\u53f7\u3002"]}),"\n",(0,i.jsx)(s.p,{children:"\u66fc\u5f7b\u65af\u7279\u7f16\u7801\u6709\u4e24\u79cd\u76f8\u53cd\u7684\u7ea6\u5b9a\u3002"}),"\n",(0,i.jsx)(s.p,{children:"\u5176\u4e2d\u7684\u7b2c\u4e00\u79cd\u7ea6\u5b9a\u75311949\u5e74\u7531GE\u6258\u9a6c\u65af(GE Thomas)\u9996\u6b21\u51fa\u7248,\u968f\u540e\u6709\u4f17\u591a\u4f5c\u5bb6\u4f7f\u7528,\u4f8b\u5982,\u5b89\u8fea\xb7\u5854\u5357\u9c8d\u59c6(Andy Tanenbaum)\u3002 [3]\u5b83\u6307\u5b9a\u5bf9\u4e8e0\u4f4d,\u4fe1\u53f7\u7535\u5e73\u5c06\u4e3a\u4f4e\u9ad8\u7535\u5e73(\u5047\u8bbe\u5bf9\u6570\u636e\u8fdb\u884c\u5e45\u5ea6\u7269\u7406\u7f16\u7801)-\u5728\u4f4d\u5468\u671f\u7684\u524d\u534a\u6bb5\u4e3a\u4f4e\u7535\u5e73,\u5728\u540e\u534a\u6bb5\u4e3a\u9ad8\u7535\u5e73\u3002\u5bf9\u4e8e1\u4f4d,\u4fe1\u53f7\u7535\u5e73\u5c06\u4e3a\u9ad8-\u4f4e\u3002"}),"\n",(0,i.jsx)(s.p,{children:"\u7b2c\u4e8c\u79cd\u7ea6\u5b9a\u4e5f\u88ab\u4f17\u591a\u4f5c\u8005\u4f7f\u7528(\u4f8b\u5982William Stallings) [4],IEEE 802.4(\u4ee4\u724c\u603b\u7ebf)\u548cIEEE 802.3(\u4ee5\u592a\u7f51)\u6807\u51c6\u7684\u4f4e\u901f\u7248\u672c\u6240\u9075\u5faa\u3002\u5b83\u6307\u51fa\u903b\u8f910\u7531\u9ad8-\u4f4e\u4fe1\u53f7\u5e8f\u5217\u8868\u793a,\u903b\u8f911\u7531\u4f4e-\u9ad8\u4fe1\u53f7\u5e8f\u5217\u8868\u793a\u3002"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/14/xWHkfsrdiq6C9QV.png",alt:"image-20240914004311151"})}),"\n",(0,i.jsx)(s.p,{children:"\u95ee\u9898:\u4e2d\u95f4\u90a3\u4e2a\u8df3\u53d8\u4e3a\u4ec0\u4e48\u65e0\u5f71\u54cd\uff1f"}),"\n",(0,i.jsx)(s.p,{children:"\u7b54:\u5bf9\u9762\u4e5f\u9700\u8981\u6709\u5927\u6982\u9891\u7387,\u8fc7\u4e00\u4e2a\u8fc7\u6ee4\u5668(\u627e\u9891\u7387\u7684\u4e3b\u6210\u5206),\u65f6\u949f\u80fd\u5dee\u4e24\u500d\u8fd8\u662f\u592a\u79bb\u8c31\u4e86"}),"\n",(0,i.jsx)(s.p,{children:"Pros:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u4fdd\u8bc1\u4e00\u4e2abit\u4e00\u6b21\u8f6c\u6362"}),"\n",(0,i.jsx)(s.li,{children:"\u4fdd\u8bc1\u4e86 d.c balance (\u76f8\u7b49\u7684high/low, \u6709\u6548\u7535\u538b\u7a33\u5b9a)"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Cons: \u66fc\u5f7b\u65af\u7279\u7f16\u7801\u7684\u95ee\u9898\u662f\u6700\u574f\u9700\u8981\u4e24\u500d\u7684\u5e26\u5bbd"}),"\n",(0,i.jsx)(s.p,{children:"4b5b encoding"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/14/dCSU6vbEDLWKqtP.png",alt:"image-20240914005027325"})}),"\n",(0,i.jsx)(s.p,{children:"Coding"}),"\n",(0,i.jsx)(s.p,{children:"\u7269\u7406\u6027\u9519\u8bef\u7684\u6982\u7387\u4f4e\u4f46\u4e0d\u662f\u6ca1\u6709"}),"\n",(0,i.jsxs)(s.p,{children:["\u52a0\u5197\u4f59",":forward"," coding"]}),"\n",(0,i.jsx)(s.p,{children:"Reed Solomon \u7f16\u7801(CD, DVD, RAID6, ...)"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u4ecedata\u4e2d\u53d6k\u5757"}),"\n",(0,i.jsx)(s.li,{children:"\u8ba9\u8fd9k\u5757\u4f5c\u4e3a\u4e00\u4e2ak-1\u7684\u591a\u9879\u5f0ff\u7684\u7cfb\u6570"}),"\n",(0,i.jsx)(s.li,{children:"\u7528f\u8ba1\u7b97n\u4e2a\u4e0d\u540c\u70b9(n>=k)"}),"\n",(0,i.jsx)(s.li,{children:"\u628a\u8fd9n\u4e2a\u70b9\u4f5c\u4e3ak\u5757\u7684\u9644\u52a0\u4e5f\u53d1\u9001"}),"\n",(0,i.jsx)(s.li,{children:"n\u4e2a\u4e2d\u4efb\u610fk\u4e2a\u53ef\u4ee5\u6062\u590d\u539f\u59cb\u591a\u9879\u5f0f"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u6700\u591a\u6821\u6b63 (n-k)/2\u4e2aerror,\u53ef\u4ee5\u67e5\u6240\u6709\u9519"}),"\n",(0,i.jsx)(s.p,{children:"\u53ef\u4ee5\u901a\u8fc7interleaving\u6765\u63d0\u5347\u7ea0\u9519\u80fd\u529b,\u907f\u514dburst errors"}),"\n",(0,i.jsx)(s.p,{children:"The Link Layer"}),"\n",(0,i.jsx)(s.p,{children:"Ethernet\u4e0a\u901a\u8fc7\u4ecb\u8d28(\u7a7a\u6c14,\u603b\u7ebf\u7b49)\u8fde\u63a5\u7684\u591a\u53f0\u4e3b\u673a\u7684\u53d1\u4fe1\u534f\u8bae\uff1f"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Aloha \u975e\u5e38\u7b80\u5355,\u6709\u8bdd\u5c31\u76f4\u63a5\u5bf9\u4ecb\u8d28\u8bf4,\u51b2\u7a81(\u81ea\u5df1\u8bf4\u5b8c\u542c,\u5982\u679c\u4e0d\u4e00\u6837\u5c31\u51b2\u7a81\u4e86)\u5c31\u7a0d\u540e\u91cd\u53d1"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"CSMA/CD(\u5b9e\u9645\u4f7f\u7528\u7684) \u6bd4\u8f83Aloha,\u52a0\u4e861.\u8bf4\u524d\u5148\u542c\u6709\u6ca1\u6709\u5728\u8bf4(CS) 2.(CD)\u5982\u679c\u51b2\u7a81\u7acb\u523b\u505c\u6b62,\u51b2\u7a81\u540e\u6839\u636e\u5f53\u524d\u8d1f\u8f7d\u968f\u673a\u51b3\u5b9a\u91cd\u53d1\u65f6\u95f4(0, 2^n^)512 bit times"}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"\u66f4\u590d\u6742\u7684token ring\u4e4b\u7c7b\u7528\u7684\u4e0d\u662f\u5f88\u591a,\u5bb9\u9519\u6027\u4e5f\u4e0d\u662f\u5f88\u597d"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"CSMA/CD \u6709\u6700\u5c0f\u5305\u5927\u5c0f\u8981\u6c42"}),"\n",(0,i.jsx)(s.p,{children:"\u5982\u679c\u8ddd\u79bb\u6700\u8fdc\u4e24\u4e2a\u70b9\u8ddd\u79bbL, \u4f20\u8f93\u901f\u7387c, \u6bcf\u4e2a\u5305\u81f3\u5c11\u8981\u67092L/c\u8fd9\u4e48\u957f,\u5426\u5219collision\u4fe1\u53f7\u4f20\u8f93\u5230\u4e00\u4e2a\u5df2\u7ecf\u53d1\u5b8c\u5305\u7684\u8282\u70b9\u662f\u4ee4\u4eba\u7591\u60d1\u7684"}),"\n",(0,i.jsx)(s.p,{children:"Ethenet"}),"\n",(0,i.jsx)(s.p,{children:"\u66f4\u5feb\u7684Ethenet \u7531\u4e8e 2L/c \u7684\u9650\u5236,\u6570\u636e\u5305\u5927\u5c0f\u4e0d\u53d8,L\u53ea\u80fd\u7f29\u5c0f"}),"\n",(0,i.jsx)(s.p,{children:"\u65e9\u671f:\u4f7f\u7528Hub \u96c6\u7ebf\u5668"}),"\n",(0,i.jsx)(s.p,{children:"\u540e\u6765Ethenet\u8d8a\u6765\u8d8a\u5feb,\u51b2\u7a81\u589e\u52a0,L\u51cf\u5c11,\u9700\u8981\u8fdb\u884c\u66f4\u591a\u5206\u533a,\u4e0d\u518d\u80fd\u4e00\u4e2aHub\u5168\u7ba1,\u540c\u65f6\u82af\u7247\u6280\u672f\u5347\u7ea7,\u6210\u672c\u964d\u4f4e,\u5c31\u4ece\u7c97\u653e\u7ba1\u7406\u4ea7\u751f\u4e86\u4ea4\u6362\u673a"}),"\n",(0,i.jsx)(s.p,{children:"\u5e76\u4e14\u4ea4\u6362\u673a\u7684\u7ebf\u8fd8\u53ef\u4ee5\u505a\u6210\u5168\u53cc\u5de5,\u8fdb\u4e00\u6b65\u51cf\u5c11\u51b2\u7a81"}),"\n",(0,i.jsx)(s.p,{children:"Hubs to Switches"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"\u5bf9\u4e8e\u96c6\u7ebf\u5668\u800c\u8a00,\u4fe1\u53f7\u5c06\u6cbf\u5176\u7aef\u53e3\u8fdb\u884c\u4f20\u8f93,\u5e76\u5e7f\u64ad\u5230\u5176\u4ed6\u7aef\u53e3,\u6b63\u56e0\u5982\u6b64\u5bb9\u6613\u4ea7\u751f\u5e7f\u64ad\u98ce\u66b4,\u5f53\u7f51\u7edc\u89c4\u6a21\u8f83\u5927\u65f6\u5176\u6027\u80fd\u4f1a\u53d7\u5230\u5f71\u54cd\u3002\u800c\u4ea4\u6362\u673a\u53ea\u6709\u53d1\u51fa\u8bf7\u6c42\u7684\u7aef\u53e3\u548c\u76ee\u7684\u7aef\u53e3\u4e4b\u95f4\u624d\u4f1a\u76f8\u4e92\u54cd\u5e94,\u5e76\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u7aef\u53e3,\u56e0\u6b64\u4ea4\u6362\u673a\u80fd\u591f\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u6709\u6548\u6291\u5236\u5e7f\u64ad\u98ce\u66b4\u7684\u4ea7\u751f\u3002"}),"\n",(0,i.jsx)(s.p,{children:"\u6b64\u5916,\u96c6\u7ebf\u5668\u7684\u6240\u6709\u7aef\u53e3\u90fd\u662f\u5171\u4eab\u4e00\u6761\u5e26\u5bbd,\u5728\u540c\u4e00\u65f6\u523b\u53ea\u80fd\u6709\u4e24\u4e2a\u7aef\u53e3\u8fdb\u884c\u6570\u636e\u4f20\u8f93,\u5176\u4ed6\u7aef\u53e3\u90fd\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002\u800c\u4ea4\u6362\u673a\u7684\u6bcf\u4e2a\u7aef\u53e3\u90fd\u6709\u4e00\u6761\u72ec\u7acb\u7684\u5e26\u5bbd,\u5f53\u5404\u4e2a\u7aef\u53e3\u8fdb\u884c\u5de5\u4f5c\u65f6,\u6bcf\u4e2a\u7aef\u53e3\u4e4b\u95f4\u4e92\u4e0d\u53d7\u5f71\u54cd\u3002\u800c\u4e14\u4ea4\u6362\u673a\u4f1a\u4fdd\u7559\u4e0e\u4e4b\u8fde\u63a5\u7684\u6240\u6709\u8bbe\u5907\u7684MAC\u5730\u5740,\u53ef\u67e5\u8be2\u5230\u6570\u636e\u8f6c\u53d1\u5230\u4e86\u54ea\u4e2a\u7aef\u53e3\u4e0a\u3002\u4e5f\u5c31\u662f\u8bf4\u4ea4\u6362\u673a\u786e\u5207\u5730\u77e5\u9053\u5c06\u6570\u636e\u53d1\u9001\u5230\u4e86\u54ea\u4e2a\u7aef\u53e3,\u80fd\u6709\u6548\u8282\u7701\u7f51\u7edc\u54cd\u5e94\u65f6\u95f4\u3002\u4f46\u96c6\u7ebf\u5668\u5374\u6ca1\u6cd5\u533a\u5206\u5c06\u6570\u636e\u8f6c\u53d1\u5230\u4e86\u54ea\u4e2a\u7aef\u53e3\u3002"}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"\u533a\u522b"}),(0,i.jsx)(s.th,{children:"\u96c6\u7ebf\u5668"}),(0,i.jsx)(s.th,{children:"\u4ea4\u6362\u673a"}),(0,i.jsx)(s.th,{children:"\u8def\u7531\u5668"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u5de5\u4f5c\u5c42\u6b21"}),(0,i.jsx)(s.td,{children:"\u7269\u7406\u5c42"}),(0,i.jsx)(s.td,{children:"\u6570\u636e\u94fe\u8def\u5c42"}),(0,i.jsx)(s.td,{children:"\u7f51\u7edc\u5c42"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u4f5c\u7528"}),(0,i.jsx)(s.td,{children:"\u4fe1\u53f7\u653e\u5927\u548c\u4f20\u8f93\u4f5c\u7528,\u53ef\u5c06\u8ba1\u7b97\u673a\u7f51\u7edc\u8fde\u63a5\u5728\u4e00\u8d77\u3002"}),(0,i.jsx)(s.td,{children:"\u5c06\u4e00\u4e2a\u7f51\u7edc\u7aef\u53e3\u5206\u6210\u591a\u4e2a\u7f51\u7edc\u7aef\u53e3,\u7528\u4e8e\u8fde\u63a5\u66f4\u591a\u7684\u8bbe\u5907\uff1b\u540c\u65f6\u53ef\u7ba1\u7406\u7aef\u53e3\u548c\u914d\u7f6eVLAN\u5b89\u5168\u7ba1\u7406\u3002"}),(0,i.jsx)(s.td,{children:"\u8fde\u63a5\u4e0d\u540c\u7684\u7f51\u7edc,\u4ee5\u53ca\u9009\u62e9\u4fe1\u606f\u4f20\u8f93\u7684\u7ebf\u8def\u3002"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u6570\u636e\u4f20\u8f93\u5f62\u5f0f"}),(0,i.jsx)(s.td,{children:"\u7535\u4fe1\u53f7"}),(0,i.jsx)(s.td,{children:"\u5e27\u548c\u5305"}),(0,i.jsx)(s.td,{children:"\u5305"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u7aef\u53e3"}),(0,i.jsx)(s.td,{children:"4/12\u7aef\u53e3"}),(0,i.jsx)(s.td,{children:"\u591a\u7aef\u53e3,\u901a\u5e38\u57284~48\u7aef\u53e3\u6570\u4e4b\u95f4"}),(0,i.jsx)(s.td,{children:"2/4/5/8\u7aef\u53e3"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u4f20\u8f93\u65b9\u5f0f"}),(0,i.jsx)(s.td,{children:"\u6cdb\u6d2a\u3001\u5355\u64ad\u3001\u591a\u64ad\u6216\u5e7f\u64ad"}),(0,i.jsx)(s.td,{children:"\u5148\u5e7f\u64ad\u5728\u5355\u64ad\u6216\u591a\u64ad"}),(0,i.jsx)(s.td,{children:"\u5148\u5e7f\u64ad\u5728\u5355\u64ad\u548c\u591a\u64ad(\u53d6\u51b3\u4e8e\u9700\u6c42)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u8bbe\u5907\u7c7b\u578b"}),(0,i.jsx)(s.td,{children:"\u975e\u667a\u80fd\u8bbe\u5907"}),(0,i.jsx)(s.td,{children:"\u667a\u80fd\u8bbe\u5907"}),(0,i.jsx)(s.td,{children:"\u667a\u80fd\u8bbe\u5907"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u5e94\u7528"}),(0,i.jsx)(s.td,{children:"\u5c40\u57df\u7f51"}),(0,i.jsx)(s.td,{children:"\u5c40\u57df\u7f51"}),(0,i.jsx)(s.td,{children:"\u5c40\u57df\u7f51/\u57ce\u57df\u7f51/\u5e7f\u57df\u7f51"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u4f20\u8f93\u6a21\u5f0f"}),(0,i.jsx)(s.td,{children:"\u534a\u53cc\u5de5"}),(0,i.jsx)(s.td,{children:"\u534a\u53cc\u5de5/\u5168\u53cc\u5de5"}),(0,i.jsx)(s.td,{children:"\u5168\u53cc\u5de5"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u901f\u7387"}),(0,i.jsx)(s.td,{children:"10Mbps"}),(0,i.jsx)(s.td,{children:"10/100Mbps, 1Gbps"}),(0,i.jsxs)(s.td,{children:["1",(0,i.jsx)(s.del,{children:"100Mbps(\u65e0\u7ebf) 100"}),"1000Mbps(\u6709\u7ebf)"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"\u7528\u4e8e\u6570\u636e\u4f20\u8f93\u7684\u5730\u5740\u7c7b\u578b"}),(0,i.jsx)(s.td,{children:"MAC\u5730\u5740"}),(0,i.jsx)(s.td,{children:"MAC\u5730\u5740"}),(0,i.jsx)(s.td,{children:"IP\u5730\u5740"})]})]})]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/14/QfjLvwRaoA21Kn8.png",alt:"image-20240914014627891"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/14/Y6vkIzncm3XWigO.png",alt:"image-20240914014742672"})}),"\n",(0,i.jsx)(s.p,{children:"Wireless Networking"}),"\n",(0,i.jsx)(s.p,{children:"Radiates over space -> \u6700\u574fr^2^\u7684\u4fe1\u53f7\u8870\u51cf"}),"\n",(0,i.jsx)(s.p,{children:"Uncontrolled medium -> \u6613\u53d7\u5f71\u54cd,\u968f\u65f6\u53d8\u5316"}),"\n",(0,i.jsx)(s.p,{children:"can reflect"}),"\n",(0,i.jsx)(s.p,{children:"wifi \u5177\u6709\u9ad8\u4e22\u5305\u7387,\u4e14\u6ce2\u52a8\u5de8\u5927->\u5fc5\u987b\u8003\u8651tcp\u7b49\u91cd\u4f20\u673a\u5236"}),"\n",(0,i.jsx)(s.p,{children:"CSMA/CD\u5bf9wifi\u4e0d\u9002\u7528:\u6838\u5fc3\u5728\u4e8e\u78b0\u649e\u68c0\u67e5,\u5728\u65e0\u7ebf\u60c5\u51b5\u4e0b,\u81ea\u5df1\u76d1\u542c\u5230\u7684\u60c5\u51b5\u548c\u5b9e\u9645\u63a5\u53d7\u8005\u5904\u7684\u60c5\u51b5\u533a\u522b\u8f83\u5927(\u6bd4\u5982\u8870\u51cf\u592a\u591a\u4ee5\u81f3\u4e8e\u542c\u4e0d\u5230)"}),"\n",(0,i.jsx)(s.p,{children:"\u95ee\u9898\u6709:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u5982\u4f55\u533a\u5206\u662f\u78b0\u649e\u8fd8\u662f\u4fe1\u53f7\u8870\u51cf\u592a\u591a\u6ca1\u6536\u5230"}),"\n",(0,i.jsx)(s.li,{children:"Exposed terminal, B->A, C->D, \u5706\u5f62\u533a\u57df\u4ee5\u4e3a\u4fe1\u9053\u78b0\u649e,\u5b9e\u9645\u6ca1\u6709\u78b0\u649e\u53ef\u4ee5\u4f7f\u7528"}),"\n",(0,i.jsx)(s.li,{children:"Hidden terminal, \u4f8b\u5982A-B-C,\u4e2d\u95f4\u6709\u5c71, A\u611f\u77e5\u4e0d\u5230C, C\u611f\u77e5\u4e0d\u5230A,\u65e0\u6cd5\u78b0\u649e\u68c0\u6d4b"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://img2018.cnblogs.com/blog/1958143/202003/1958143-20200311121104859-1365284745.png",alt:"1583899442855"})}),"\n",(0,i.jsx)(s.p,{children:"CSMA/CA (collision avoidance)"}),"\n",(0,i.jsx)(s.p,{children:"\u628a\u78b0\u649e\u68c0\u6d4b\u6539\u6210\u78b0\u649e\u68c0\u67e5,\u5c1d\u8bd5\u53d1\u9001\u5305\u7684\u65f6\u5019\u5148\u7ed9\u76ee\u6807\u53d1\u9001\u4e00\u4e2a\u786e\u8ba4,\u5f53\u76ee\u6807\u8fd4\u56de\u786e\u8ba4\u65f6\u624d\u53d1\u5305,\u5426\u5219\u7b49\u5f85\u5e76\u91cd\u8bd5,\u5982\u679c\u7b49\u5f85\u592a\u4e45\u4e22\u5f03\u8fd9\u4e2a\u5305"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/14/xvTGNABhWOosK27.png",alt:"image-20240914185814619"})}),"\n",(0,i.jsxs)(s.p,{children:["\u53c2\u8003 ",(0,i.jsx)(s.a,{href:"https://www.cnblogs.com/cpaulyz/p/12461500.html",children:"https://www.cnblogs.com/cpaulyz/p/12461500.html"})]}),"\n",(0,i.jsx)(s.p,{children:"CSMA/CA\u5c1d\u8bd5\u964d\u4f4e\u78b0\u649e\u7684\u6982\u7387,\u4f46\u6ca1\u6709\u89e3\u51b3\u4e0a\u9762Exposed terminal\u7b49\u95ee\u9898"}),"\n",(0,i.jsxs)(s.p,{children:["\u5728CSMA/CA\u4e0a\u7684\u8865\u5145",":RTS","/CTS"]}),"\n",(0,i.jsx)(s.p,{children:"\u7b80\u8981\u6d41\u7a0b"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"\u5728\u9001\u771f\u7684\u5c01\u5305\u4e4b\u524d,\u5148\u5ee3\u64ad\u4e00\u500b request to send \u5c01\u5305\u3002\u9019\u500b\u5c01\u5305\u4e0d\u53ea\u6709\u76ee\u7684\u5730\u6703\u6536\u5230,\u767c\u9001\u8005\u50b3\u8f38\u7bc4\u570d\u5167\u7684\u5176\u4ed6\u88dd\u7f6e\u4e5f\u6703\u6536\u5230\u3002\u800c\u76ee\u7684\u5730\u5982\u679c\u9806\u5229\u6536\u5230\u9019\u500b RTS \u7684\u5c01\u5305,\u5247\u5fc5\u9808\u5ee3\u64ad\u4e00\u500b clear to send (CTS) \u5c01\u5305,\u4ee3\u8868\u5df2\u7d93\u6e96\u5099\u597d\u63a5\u6536\u5c01\u5305\u3002"}),"\n",(0,i.jsx)(s.p,{children:"\u4e26\u4e14\u898f\u5b9a:\u807d\u5230 CTS \u5ee3\u64ad\u7684\u90a3\u4e9b\u7bc0\u9ede,\u4e5f\u5c31\u662f\u4e0a\u5716\u4e2d\u7684\u7d05\u8272\u7bc0\u9ede,\u5728\u4e00\u6bb5\u8db3\u5920\u5411 \ud835\udc36 \u50b3\u8f38\u5b8c\u8a0a\u606f\u7684\u6642\u9593\u5167,\u90fd\u4e0d\u80fd\u5411 \ud835\udc36 \u50b3\u8f38\u8a0a\u606f"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/IEEE_802.11_RTS/CTS",children:"https://en.wikipedia.org/wiki/IEEE_802.11_RTS/CTS"})}),"\n",(0,i.jsxs)(s.p,{children:["\u8fd9\u4e2a\u8bb2\u5f97\u5f88\u597d ",(0,i.jsx)(s.a,{href:"https://hackmd.io/@0xff07/SJO5VTpmY",children:"https://hackmd.io/@0xff07/SJO5VTpmY"})]}),"\n",(0,i.jsx)(s.p,{children:"\u89e3\u51b3\u4e86Hidden terminal, \u5bf9\u53e6\u5916\u4e24\u4e2a\u6548\u679c\u4e0d\u662f\u5f88\u597d"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\u4f46\u662f\u5b9e\u9645\u7684WIFI\u7cfb\u7edf\u4e0d\u600e\u4e48\u7528,\u5f00\u9500\u95ee\u9898"})}),"\n",(0,i.jsx)(s.p,{children:"\u4f20\u8f93\u901f\u7387\u8d8a\u9ad8,\u5b9e\u9645\u6570\u636e\u9700\u8981\u7684\u65f6\u95f4\u8d8a\u5c11,\u5728\u4f20\u6570\u636e\u524d\u8fdb\u884cRTS/CTS\u6c9f\u901a\u7684\u5f00\u9500\u5c31\u8d8a\u5927,11Mbps\u7684\u65f6\u5019\u5df2\u7ecf\u5360\u4e8625%\u7684\u5f00\u9500"}),"\n",(0,i.jsx)(s.p,{children:"802.11 Format"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://s2.loli.net/2024/09/14/b2Pfe4ZFJndMxcS.png",alt:"image-20240914193159633"})}),"\n",(0,i.jsx)(s.p,{children:"duration\u53ef\u4ee5\u7528\u6765\u63d0\u4f9bCTS\u5bf9\u5176\u4ed6\u8282\u70b9\u9700\u8981\u7b49\u591a\u4e45\u7684\u901a\u77e5"}),"\n",(0,i.jsx)(s.p,{children:"wifi\u4e3a\u4e86\u5411\u524d\u517c\u5bb9\u6027"}),"\n",(0,i.jsx)(s.p,{children:"\u524d\u9762\u7684\u63a7\u5236\u5934\u662f\u4ee5\u6700\u4f4e\u901f\u73871mbps \u53d1\u9001\u7684,\u540e\u9762\u7684data\u6bb5\u624d\u53ef\u4ee5\u52a0\u901f"}),"\n",(0,i.jsx)(s.p,{children:"\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u901f\u7387\u4e0a\u4e0d\u53bb(2020\u7684144\u8bf4\u6700\u5927600mbps\u5de6\u53f3(for 802.11.n 2008))\u548cRTS/CTS\u5b9e\u9645\u4e0a\u5f00\u9500\u5f88\u5927\u7684\u539f\u56e0"}),"\n",(0,i.jsx)(s.p,{children:"Fragementation:"}),"\n",(0,i.jsx)(s.p,{children:"\u4e0d\u540c\u7684Link\u5c42\u5bf9\u5305\u7684\u5927\u5c0f\u6700\u5927\u9650\u5236\u662f\u4e0d\u540c\u7684"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u4e2a\u5927\u7684\u6570\u636e\u4f20\u8f93\u65f6\u4f1a\u88ab\u5206\u6210\u8bb8\u591a\u5c0f\u5305,\u800c\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u5982\u679c\u5206\u6210\u7684\u5c0f\u5305\u8fd8\u662f\u8d85\u8fc7\u4e86\u8fd9\u4e00\u6bb5\u7684\u4f20\u8f93\u9650\u5236,\u5c31\u4f1a\u7ee7\u7eed\u62c6\u5206,\u4f46\u76f4\u5230dst\u4e4b\u524d\u90fd\u4e0d\u4f1a\u88ab\u91cd\u65b0\u7ec4\u88c5\u3002"}),"\n",(0,i.jsx)(s.p,{children:"\u8fc7\u591a\u7684\u5c0f\u5305\u5e26\u6765\u4e86\u901f\u5ea6\u548c\u5bb9\u6613\u4e22\u5931(\u4e00\u65e6\u6709\u4e00\u4e2aIP\u5305\u62c6\u51fa\u6765\u7684\u51e0\u4e2a\u5c0f\u5305\u4e22\u5931\u5c31\u9700\u8981\u91cd\u53d1\u6574\u4e2aIP\u5305)\u7b49\u95ee\u9898,\u6240\u6709\u8981\u907f\u514d"}),"\n",(0,i.jsx)(s.p,{children:"\u4e00\u4e2a\u6280\u672f\u624b\u6bb5\u662f\u4f7f\u7528IP\u7684DF(don't fragment)bit,\u6307\u5b9a\u4e4b\u540e\u5982\u679c\u53d1\u73b0\u8fd8\u9700\u8981\u8fdb\u4e00\u6b65\u5206\u7247,\u5c31\u4e22\u5f03\u5e76\u8fd4\u56de\u4e00\u4e2aICMP error"}),"\n",(0,i.jsx)(s.p,{children:"\u5206\u7247\u7ec6\u8282\u53c2\u8003"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://packetpushers.net/blog/ip-fragmentation-in-detail/",children:"https://packetpushers.net/blog/ip-fragmentation-in-detail/"})}),"\n",(0,i.jsx)(s.p,{children:"\u73b0\u5728\u7684\u5206\u6bb5\u95ee\u9898\u5c11\u4e86\u5f88\u591a,\u4e00\u4e2a\u662f\u57fa\u672c\u4f7f\u7528Ethernet 1500MTU, \u4e8c\u4e2a\u662f\u4f1a\u63d0\u524d\u4f7f\u7528ICMP\u68c0\u6d4b\u8def\u5f84\u4e0a\u6700\u77ed\u7684MTU(maximium transmition unit),\u63a7\u5236\u5305\u5c0f\u4e8eMTU\u6765\u907f\u514d\u5206\u5757,\u4e0d\u8fc7\u5bf9\u4e8eUDP,\u53c2\u89c1\u4e0a\u9762\u7684blog,\u8fd8\u662f\u6709\u4e0d\u5c11\u95ee\u9898"}),"\n",(0,i.jsx)(s.h2,{id:"unit-8-security",children:"Unit 8: Security"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Secrecy"}),"\n",(0,i.jsx)(s.li,{children:"Integrity"}),"\n",(0,i.jsx)(s.li,{children:"Authentication"}),"\n",(0,i.jsx)(s.li,{children:"Uninterrupted communication"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u8fd9\u4e2a\u7ae0\u8282\u5efa\u8bae\u770b\u770b\u4ed6\u7684\u52a8\u753bdemo\u542c\u6545\u4e8b(bushi)"}),"\n",(0,i.jsx)(s.p,{children:"Layer2 ATTACK(Link)"}),"\n",(0,i.jsx)(s.p,{children:"MAC Overflow attack: \u4ea4\u6362\u673a\u4ece\u5305\u7684src,dst\u4e2d\u5b66\u4e60\u8def\u5f84,\u5982\u679c\u8868\u91cc\u9762\u6ca1\u6709\u5c31\u5168\u7aef\u53e3\u5e7f\u64ad,\u4e3a\u4e86\u8ba9\u653b\u51fb\u8005\u770b\u5230\u4ea4\u6362\u4fe1\u606f,\u653b\u51fb\u8005\u4ea7\u751f\u5927\u91cf{src,dst}\u5305\u7528\u4e8eLRU\u9a71\u9010\u4ea4\u6362\u673a\u539f\u6709\u7684\u8def\u5f84\u8868,\u4f7f\u5f97\u5176\u4ed6\u4eba\u53d1\u5305\u4ea7\u751f\u5e7f\u64ad"}),"\n",(0,i.jsx)(s.p,{children:"DHCP ATTACK \u5efa\u7acb\u6076\u610fDHCP server, \u5e76\u5148\u4e8e\u597d\u7684server\u53d1\u51fa\u54cd\u5e94"}),"\n",(0,i.jsx)(s.p,{children:"\u540c\u7406\u7684ARP ATTCAK"}),"\n",(0,i.jsx)(s.p,{children:"TCP Hijacking(TCP\u52ab\u6301)ARP ATTACK\u7684\u57fa\u7840\u4e0a,\u4f5c\u4e3aTCP\u8fde\u63a5\u7684\u8f6c\u53d1\u4e2d\u95f4\u4eba\u7a83\u542c\u4fe1\u606f"}),"\n",(0,i.jsx)(s.p,{children:"Layer3 ATTACK(IP)"}),"\n",(0,i.jsx)(s.p,{children:"ICMP ATTACK \u5728\u8def\u7531\u4e0d\u5230\u7684\u65f6\u5019\u4f1a\u8fd4\u56de\u4e00\u4e2aICMP error,\u653b\u51fb\u8005\u901a\u8fc7\u6076\u610f\u8def\u7531\u5668\u5145\u5f53\u4e2d\u95f4\u4eba/\u91cd\u5b9a\u5411\u5230\u6076\u610f\u5730\u5740"}),"\n",(0,i.jsxs)(s.p,{children:["BGP hijacking \u975e\u5e38\u4e25\u91cd,\u51e0\u4e4e\u65e0\u6cd5\u9632\u5907\u3002\u4ece\u8fd0\u8425\u5546\u5c42\u9762\u8fdb\u884c\u653b\u51fb,\u63d0\u4f9b\u9519\u8bef\u7684\u8def\u7531\u201c\u8def\u6807\u201d ",(0,i.jsx)(s.a,{href:"https://www.cloudflare.com/zh-cn/learning/security/glossary/bgp-hijacking/",children:"https://www.cloudflare.com/zh-cn/learning/security/glossary/bgp-hijacking/"})]}),"\n",(0,i.jsx)(s.p,{children:"More Specific Prefix"}),"\n",(0,i.jsx)(s.p,{children:"DDos \u5927\u89c4\u6a21\u53d8\u5316\u8089\u9e21\u5411server\u53d1\u9001\u6d88\u8017\u8d44\u6e90\u65e0\u610f\u4e49\u8bf7\u6c42,\u4f8b\u5982flood ping,\u5360\u7528\u5927\u91cf\u7f51\u7edc\u5e26\u5bbd\u81f3\u670d\u52a1\u4e0d\u53ef\u7528"}),"\n",(0,i.jsx)(s.p,{children:"\u66f4\u7cbe\u5999\u7684\u662f\u53ef\u4ee5\u6709\u5176\u4ed6\u670d\u52a1\u5668\u5145\u5f53\u653e\u5927\u8df3\u677f,\u6709\u4e9b\u8bf7\u6c42\u7684\u54cd\u5e94\u4f1a\u6bd4\u8bf7\u6c42\u5927\u51e0\u500d,\u5411\u67d0\u4e2a\u8df3\u677f\u670d\u52a1\u5668\u53d1\u9001\u76ee\u6807\u4e3a\u653b\u51fb\u670d\u52a1\u5668\u7684\u8bf7\u6c42,\u8df3\u677f\u670d\u52a1\u5668\u7684\u54cd\u5e94\u6d2a\u6d41\u5c31\u53ef\u4ee5\u6bd4\u539f\u59cb\u653b\u51fb\u6d41\u653e\u5927\u51e0\u500d,\u4e5f\u66f4\u4e0d\u597d\u8ffd\u8e2a"}),"\n",(0,i.jsx)(s.p,{children:"\u8fd8\u6709SYN Attack \u591a\u53f0\u653b\u51fb\u673a\u5668\u5411\u670d\u52a1\u5668\u53d1\u8d77tcp\u8bf7\u6c42,\u53c8\u4e0d\u5efa\u7acb\u94fe\u63a5,\u8ba9\u88ab\u653b\u51fb\u670d\u52a1\u5668\u81ea\u5df1\u8d85\u65f6\u624d\u91ca\u653e,\u6d88\u8017\u7cfb\u7edf\u8d44\u6e90\u3002\u7c7b\u4f3c\u8fd8\u6709\u53d1\u9001\u90e8\u5206IP\u94fe\u63a5\u788e\u7247\u7684IP Fragment flooding"}),"\n",(0,i.jsx)(s.p,{children:"\u8fd8\u6709UDP echo\u653b\u51fb,SSL\u653b\u51fb......"}),"\n",(0,i.jsx)(s.p,{children:"\u89e3\u51b3\u65b9\u6cd5:\u52a0\u5bc6 && \u53ef\u62d3\u5c55(\u9ad8\u53ef\u7528)\u7cfb\u7edf && \u4fe1\u4efb\u94fe && ......"}),"\n",(0,i.jsx)(s.p,{children:"\u540e\u9762\u7684\u5bc6\u7801\u5b66\u611f\u89c9\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u7814\u7a76\u7684\u5fc5\u8981,\u90fd\u662f\u6570\u5b66\u7ec6\u8282,\u975e\u5bf9\u79f0\u52a0\u5bc6\u3001\u8bc1\u4e66\u3001TLS\u4e4b\u7c7b\u770b\u770b\u79d1\u666e\u4e5f\u884c,\u5199\u8fc7web\u591a\u5c11\u77e5\u9053\u4e9b\u3002\u77e5\u9053\u548b\u56de\u4e8b,\u62ff\u6765\u7528\u5c31\u884c\u3002\u7528\u8bfe\u7a0b\u7684\u4e00\u53e5\u8bdd:"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"It's easy to make a mistabke. Use existing, open source implementions. Be careful and follow best practices."}),"\n"]})]})}function p(n={}){const{wrapper:s}={...(0,l.R)(),...n.components};return s?(0,i.jsx)(s,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},24481:(n,s,e)=>{e.d(s,{A:()=>i});const i=e.p+"assets/images/image-1-69740e62c650931acd4f6ff27629b3ef.png"},93898:(n,s,e)=>{e.d(s,{A:()=>i});const i=e.p+"assets/images/image-2-d7eb290cae52e8854c2f85d75d5cb1fe.png"},49107:(n,s,e)=>{e.d(s,{A:()=>i});const i=e.p+"assets/images/image-3-7feabdfe1045c56bbd9f88e2df886fd1.png"},94236:(n,s,e)=>{e.d(s,{A:()=>i});const i=e.p+"assets/images/image-4-49c05d0fb333ed25b8817262cbb3a8d9.png"},77125:(n,s,e)=>{e.d(s,{A:()=>i});const i=e.p+"assets/images/image-5-2b31e0ccaf62ab7dd7c40e809e70347a.png"},6766:(n,s,e)=>{e.d(s,{A:()=>i});const i=e.p+"assets/images/image-6-ada3c5a068a59d00e6ac13dff9294a81.png"},98727:(n,s,e)=>{e.d(s,{A:()=>i});const i=e.p+"assets/images/image-32da757defb74ac35a9754fe4a50b5e5.png"},28453:(n,s,e)=>{e.d(s,{R:()=>c,x:()=>t});var i=e(96540);const l={},r=i.createContext(l);function c(n){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(s):{...s,...n}}),[s,n])}function t(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),i.createElement(r.Provider,{value:s},n.children)}}}]);