"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8073],{18462:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>a});var c=s(74848),r=s(28453);const i={},t=void 0,o={id:"Chcore\u6e90\u7801\u9605\u8bfb/\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199/\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199",title:"\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199",description:"\u8fd9\u4e00\u6b65\u5c31\u5f88\u7b80\u5355\u4e86, \u53ea\u9700\u8981\u518d\u8865\u5145\u4e00\u4e9b\u4ea4\u53c9\u7f16\u8bd1\u7684\u77e5\u8bc6",source:"@site/docs/Chcore\u6e90\u7801\u9605\u8bfb/\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199/\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199.md",sourceDirName:"Chcore\u6e90\u7801\u9605\u8bfb/\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199",slug:"/Chcore\u6e90\u7801\u9605\u8bfb/\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199/",permalink:"/docs/Chcore\u6e90\u7801\u9605\u8bfb/\u7528\u6237\u6001\u7a0b\u5e8f\u7f16\u5199/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"notesSidebar",previous:{title:"VFS",permalink:"/docs/Chcore\u6e90\u7801\u9605\u8bfb/\u6587\u4ef6\u7cfb\u7edf/VFS"},next:{title:"\u7cfb\u7edf\u8c03\u7528",permalink:"/docs/Chcore\u6e90\u7801\u9605\u8bfb/\u7cfb\u7edf\u8c03\u7528/"}},l={},a=[];function d(e){const n={a:"a",code:"code",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"\u8fd9\u4e00\u6b65\u5c31\u5f88\u7b80\u5355\u4e86, \u53ea\u9700\u8981\u518d\u8865\u5145\u4e00\u4e9b\u4ea4\u53c9\u7f16\u8bd1\u7684\u77e5\u8bc6"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-c",children:'#include<stdio.h>\n\nint main() {\n    printf("Hello, world!\\n");\n    return 0;\n}   \n'})}),"\n",(0,c.jsx)(n.p,{children:"\u7528\u5df2\u7ecf\u751f\u6210\u597d\u7684\u5de5\u5177\u94fe\u7f16\u8bd1\u5e76\u628a\u7ed3\u679c\u4e22\u5230build/ramdisk\u6587\u4ef6\u5939\u91cc\u9762"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"./build/chcore-libc/bin/musl-gcc ./user/apps/my-apps/hello.c -o ./build/ramdisk/my-hello.bin\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u7136\u540e ",(0,c.jsx)(n.code,{children:"./chbuild rambuild"})," \u91cd\u65b0\u751f\u6210\u5185\u6838\u955c\u50cf"]}),"\n",(0,c.jsxs)(n.p,{children:["\u518d ",(0,c.jsx)(n.code,{children:"./build/simulate.sh"})," \u91cd\u65b0\u8fdb\u5165chcore"]}),"\n",(0,c.jsx)(n.p,{children:"\u5c31\u80fd\u770b\u5230\u6211\u4eec\u7684my-hello\u5566"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.img,{alt:"hello-world",src:s(83430).A+"",width:"1064",height:"416"}),"\n\u4f60\u751a\u81f3\u53ef\u4ee5\u7f16\u8bd1\u4e00\u4e2a\u6700\u5c0f\u7684busybox\u8fdb\u53bbLOL"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"mini-busybox",src:s(67836).A+"",width:"1118",height:"258"})}),"\n",(0,c.jsxs)(n.p,{children:["\u5177\u4f53\u53c2\u89c1",(0,c.jsx)(n.a,{href:"https://www.busybox.net/FAQ.html",children:"https://www.busybox.net/FAQ.html"})]}),"\n",(0,c.jsx)(n.p,{children:"\u4e0b\u8f7d\uff08\u7531\u4e8econtainer \u91cc\u9762\u6ca1\u6709git, \u9700\u8981\u5728\u5916\u90e8\u4e0b\u597d\u4e4b\u540erebuild\u6216\u8005chown\u7ed9container\uff09"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"git clone --depth 1 https://git.busybox.net/busybox\ncd busybox\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u7136\u540e"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"make allnoconfig \n"})}),"\n",(0,c.jsx)(n.p,{children:"\u7981\u7528busybox\u7684\u6240\u6709\u6a21\u5757\uff08\u56e0\u4e3a\u5f3a\u7ed1\u5b9alinux\uff09"}),"\n",(0,c.jsx)(n.p,{children:"\u7136\u540e"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"make menuconfig\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u9009\u62e9\u548clinux\u4e0d\u5f3a\u76f8\u5173\u7684\u6a21\u5757\uff08\u6ca1\u6709\u5bf9fs\u7b49\u7684\u5047\u8bbe\uff0c\u4f8b\u5982chcore\u9ed8\u8ba4\u4e0d\u5e26/proc\uff09\uff0c\u4f8b\u5982cat, echo\u7b49\uff0c\u7136\u540e\u7f16\u8bd1"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:' # \u5728chcore\u76ee\u5f55\u4e0b\n export PATH=$PATH:$(pwd)/build/chcore-libc/bin\n # \u5728busybox\u76ee\u5f55\u4e0b\n LDFLAGS="--static" make -j 4 CROSS_COMPILE="musl-" # \u4f7f\u7528chcore\u9884\u6784\u5efa\u7684musl\u4ea4\u53c9\u9759\u6001\u7f16\u8bd1\n'})}),"\n",(0,c.jsxs)(n.p,{children:["\u7136\u540e\u5c06\u76ee\u5f55copy\u5230ramdisk\u4e0b\uff0c ",(0,c.jsx)(n.code,{children:"./chbuild rambuild"})," \u91cd\u65b0\u751f\u6210\u5185\u6838\u955c\u50cf"]}),"\n",(0,c.jsxs)(n.p,{children:["\u518d ",(0,c.jsx)(n.code,{children:"./build/simulate.sh"})," \u91cd\u65b0\u8fdb\u5165chcore, \u5c31\u53ef\u4ee5\u5982\u4e0a\u56fe\u4f7f\u7528busybox\u5566"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},67836:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/image-1-a0aa8317f5b0e8cac3fccfeebbf05eb1.png"},83430:(e,n,s)=>{s.d(n,{A:()=>c});const c=s.p+"assets/images/image-27738192a695e54873a0ffa7dd6c4b9a.png"},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var c=s(96540);const r={},i=c.createContext(r);function t(e){const n=c.useContext(i);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),c.createElement(i.Provider,{value:n},e.children)}}}]);