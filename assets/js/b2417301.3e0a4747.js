"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4633],{67196:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=r(74848),s=r(28453);const a={title:"react practice:mosh gamehub",date:new Date("2024-07-11T00:00:00.000Z"),author:"ayanami",tags:["react","ts","web"]},i=void 0,o={permalink:"/blog/\u5b9e\u62182-mosh-gamehub",source:"@site/blog/\u5b9e\u62182-mosh-gamehub.md",title:"react practice:mosh gamehub",description:"\u89c2\u524d\u63d0\u793a\uff1a",date:"2024-07-11T00:00:00.000Z",tags:[{inline:!0,label:"react",permalink:"/blog/tags/react"},{inline:!0,label:"ts",permalink:"/blog/tags/ts"},{inline:!0,label:"web",permalink:"/blog/tags/web"}],readingTime:65.76,hasTruncateMarker:!0,authors:[{name:"ayanami"}],frontMatter:{title:"react practice:mosh gamehub",date:"2024-07-11T00:00:00.000Z",author:"ayanami",tags:["react","ts","web"]},unlisted:!1,prevItem:{title:"ts\u57fa\u7840",permalink:"/blog/ts\u57fa\u7840"},nextItem:{title:"\u6d45\u5165\u7406\u89e3\u65ad\u70b9\u548c\u8c03\u8bd5\u5668",permalink:"/blog/\u6d45\u5165\u7406\u89e3\u65ad\u70b9\u548c\u8c03\u8bd5\u5668"}},c={authorsImageUrls:[void 0]},l=[{value:"\u521d\u7ea7\u90e8\u5206",id:"\u521d\u7ea7\u90e8\u5206",level:2},{value:"\u524d\u7aef\u90e8\u5206",id:"\u524d\u7aef\u90e8\u5206",level:3},{value:"\u4e00\u5207\u7684\u5f00\u59cb:\u521d\u8bc6 React",id:"\u4e00\u5207\u7684\u5f00\u59cb\u521d\u8bc6-react",level:4},{value:"Styling: \u66f4\u8fdb\u4e00\u6b65\u7684 CSS",id:"styling-\u66f4\u8fdb\u4e00\u6b65\u7684-css",level:4},{value:"Managing Component State",id:"managing-component-state",level:4},{value:"Forms \u8868\u5355",id:"forms-\u8868\u5355",level:4},{value:"\u57fa\u7840\u8868\u5355",id:"\u57fa\u7840\u8868\u5355",level:5},{value:"Validation",id:"validation",level:5},{value:"\u7ec3\u4e60\uff1a\u8bb0\u8d26\u672c",id:"\u7ec3\u4e60\u8bb0\u8d26\u672c",level:5},{value:"\u540e\u7aef\u90e8\u5206",id:"\u540e\u7aef\u90e8\u5206",level:3},{value:"\u94fe\u63a5 React \u548c\u540e\u7aef",id:"\u94fe\u63a5-react-\u548c\u540e\u7aef",level:4},{value:"useEffect \u548c Effect Hook",id:"useeffect-\u548c-effect-hook",level:5},{value:"Fetching Data",id:"fetching-data",level:5},{value:"CRUD",id:"crud",level:5},{value:"Build A Project!",id:"build-a-project",level:3},{value:"\u6d41\u7a0b\u5b9e\u5f55",id:"\u6d41\u7a0b\u5b9e\u5f55",level:4},{value:"\u90e8\u7f72",id:"\u90e8\u7f72",level:4},{value:"What&#39;s Next",id:"whats-next",level:4},{value:"\u8fdb\u9636\u90e8\u5206",id:"\u8fdb\u9636\u90e8\u5206",level:2},{value:"React Query",id:"react-query",level:3},{value:"basic query",id:"basic-query",level:4},{value:"mutation",id:"mutation",level:4},{value:"Refactor: ApiClient",id:"refactor-apiclient",level:4},{value:"\u5b9e\u6218",id:"\u5b9e\u6218",level:3},{value:"Genres",id:"genres",level:4},{value:"Global state management",id:"global-state-management",level:3},{value:"Reducer",id:"reducer",level:4},{value:"React Context",id:"react-context",level:4},{value:"<strong>\u8ba9\u6574\u4e2a\u4ee3\u7801\u66f4\u52a0\u6a21\u5757\u5316</strong>",id:"\u8ba9\u6574\u4e2a\u4ee3\u7801\u66f4\u52a0\u6a21\u5757\u5316",level:4},{value:"Best practice: When to use ......",id:"best-practice-when-to-use-",level:4},{value:"Zustand",id:"zustand",level:4},{value:"React Router",id:"react-router",level:3},{value:"\u6700\u57fa\u672c\u7684 router",id:"\u6700\u57fa\u672c\u7684-router",level:4},{value:"\u52a8\u6001\u8def\u7531",id:"\u52a8\u6001\u8def\u7531",level:4},{value:"Build A NavBar:\u5d4c\u5957\u8def\u7531",id:"build-a-navbar\u5d4c\u5957\u8def\u7531",level:4},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:4},{value:"\u9690\u79c1\u8def\u7531(Private Route)\uff1a",id:"\u9690\u79c1\u8def\u7531private-route",level:4},{value:"\u5b9e\u6218\uff1a\u7ed9 gameHub \u52a0\u4e0a\u8be6\u7ec6\u9875\u9762",id:"\u5b9e\u6218\u7ed9-gamehub-\u52a0\u4e0a\u8be6\u7ec6\u9875\u9762",level:4}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u89c2\u524d\u63d0\u793a\uff1a"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\u9ed8\u8ba4\u8bfb\u8005\u6709\u57fa\u7840\u7684 js, ts, html \u57fa\u7840, \u5176\u4e2d html \u548c js \u5728",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/",children:"MDN Web Docs"}),"\u4e0a\u770b\u5165\u95e8\u6559\u7a0b\u5373\u53ef,ts \u53ef\u4ee5\u770b",(0,t.jsx)(n.a,{href:"https://www.bilibili.com/video/BV1s3411T7jL/?share_source=copy_web&vd_source=60f8c73d5ef551168e0bbb088ac46073",children:"mosh \u7684\u89c6\u9891"}),"\u6216\u8005 google \u4e00\u4e0b typescript tutorial \u5373\u53ef;"]}),"\n",(0,t.jsx)(n.li,{children:"\u672c\u4eba\u6c34\u5e73\u6709\u9650\uff0c\u9519\u6f0f\u548c\u4e0d\u8db3\u4e4b\u5904\u656c\u8bf7\u8c05\u89e3"}),"\n",(0,t.jsxs)(n.li,{children:["\u672c\u7b14\u8bb0\u5bf9\u5e94\u7684\u89c6\u9891\uff1a ",(0,t.jsx)(n.a,{href:"https://www.bilibili.com/video/BV1su4y1f7mz/?share_source=copy_web&vd_source=60f8c73d5ef551168e0bbb088ac46073",children:"CodeWithMosh - React 18 for Beginners"}),"\u5bf9\u5e94\u521d\u7ea7\u90e8\u5206\uff1b",(0,t.jsx)(n.a,{href:"https://www.bilibili.com/video/BV1Ph4y1V7jF/?share_source=copy_web&vd_source=60f8c73d5ef551168e0bbb088ac46073",children:"code with mosh - React: Intermediate Topics"}),"\u5bf9\u5e94\u8fdb\u9636\u90e8\u5206\uff1b\u76f8\u5173\u4ee3\u7801\u53ef\u4ee5\u5728 github \u627e\u5230\u3002"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"gamehub: react + ts + ..."}),"\n",(0,t.jsx)(n.h2,{id:"\u521d\u7ea7\u90e8\u5206",children:"\u521d\u7ea7\u90e8\u5206"}),"\n",(0,t.jsx)(n.h3,{id:"\u524d\u7aef\u90e8\u5206",children:"\u524d\u7aef\u90e8\u5206"}),"\n",(0,t.jsx)(n.h4,{id:"\u4e00\u5207\u7684\u5f00\u59cb\u521d\u8bc6-react",children:"\u4e00\u5207\u7684\u5f00\u59cb:\u521d\u8bc6 React"}),"\n",(0,t.jsx)(n.p,{children:"vite\uff1a \u4e00\u4e2a\u6bd4 create-react-app \u66f4\u8f7b\u91cf\u7ea7\u7684\u521b\u5efa\u5e94\u7528\u5de5\u5177"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm create vite@latest\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e\u9009\u62e9 react, ts"}),"\n",(0,t.jsx)(n.p,{children:"\u4e4b\u540e npm install, npm run dev"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"ps: \u7b14\u8005\u5728\u540e\u7eed\u53d1\u73b0\uff0c\u5982\u679c npm \u7684\u955c\u50cf\u6e90\u9ed8\u8ba4\u6539\u6210\u4e86 cnpm, \uff08\u6709\u65f6\u5019\uff09\u4f1a\u627e\u4e0d\u5230 dev \u800c\u62a5\u9519\uff0c\u7591\u4f3c\u548c vite \u6709\u51b2\u7a81"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"react,\u542f\u52a8\uff01"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"C:%5CUsers%5CAyanami%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20240116224507307.png",alt:"image-20240116224507307"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"react \u4f7f\u7528 JSX, JSX \u88ab\u7f16\u8bd1\u6210 pure js\uff08with react\uff09"}),"\n",(0,t.jsx)(n.p,{children:"\u7f16\u5199 react \u7684\u65f6\u5019\u9700\u8981\u9075\u5b88 PascalCasting, \u5373\u7ec4\u4ef6\u540d\u4e3a AppName \u800c\u4e0d\u662f app_name \u6216\u8005 appName"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"export"})," \u548c ",(0,t.jsx)(n.code,{children:"export default"})," \u7684\u533a\u522b\uff1a",(0,t.jsx)(n.code,{children:"export default"})," \u662f\u552f\u4e00\u7684\uff0c\u4f7f\u5f97\u5bfc\u5165\u7684\u65f6\u5019\u4e0d\u53d7\u547d\u540d\u7a7a\u95f4\u51b2\u7a81\u5f71\u54cd\uff0c\u53ef\u4ee5\u8d77\u522b\u540d"]}),"\n",(0,t.jsx)(n.p,{children:"vite \u81ea\u52a8\u6709\u70ed\u542f\u52a8"}),"\n",(0,t.jsx)(n.p,{children:".tsx \u4e3a\u540e\u7f00\u7684\u6587\u4ef6\u53ef\u4ee5\u4f7f\u7528 JSX \u8bed\u6cd5\uff08tsx: ts+ jsx\uff09\uff0c.ts \u4e3a\u540e\u7f00\u7684\u6587\u4ef6\u4e0d\u884c"}),"\n",(0,t.jsx)(n.p,{children:"JSX \u66b4\u6253\u539f\u59cb\u4eba\uff08\u66b4\u8bba\uff09\uff1a\u56de\u60f3\u8d77\u5b9e\u6218 1 \u91cc\u9762\uff0c\u9700\u8981\u5b9a\u4e49 pug \u6587\u4ef6\uff0c\u5f80 pug \u91cc\u9762\u4f20\u53c2\u6570\uff08\u63d0\u524d\u60f3\u597d\u4f20\u54ea\u4e9b\uff09\uff0c\u5728 pug \u91cc\u9762\u5199\u4e71\u4e03\u516b\u7cdf\u7684\u8bed\u6cd5\uff0c\u76f8\u5bf9\u4e0d\u65b9\u4fbf\u590d\u7528......"}),"\n",(0,t.jsx)(n.p,{children:"how react works?"}),"\n",(0,t.jsx)(n.p,{children:"react \u7ef4\u62a4\u4e00\u4e2a virtual dom\uff08document object model\uff09\u6811\uff0c\u4ee3\u7801\u4f1a\u66f4\u65b0\u8fd9\u68f5\u6811\uff0c\u7136\u540e react \u5c06\u8fd9\u68f5\u6811\u548c\u6d4f\u89c8\u5668\u7684\u771f\u5b9e DOM \u6811\u6bd4\u8f83\uff0c\u5e76\u66f4\u65b0\u6d4f\u89c8\u5668\u4e0a\u7684 DOM"}),"\n",(0,t.jsx)(n.p,{children:"what is react?"}),"\n",(0,t.jsx)(n.p,{children:"react \u662f\u201c\u5e93 lib\u201d\u5f0f\u7684\u5355\u4e2a\u5de5\u5177\uff0c\u800c\u4e0d\u662f\u201c\u6846\u67b6 framework\u201d\u4e00\u7ec4\u5b8c\u5584\u7684\u5efa\u7acb\u7f51\u7ad9\u7684\u5de5\u5177"}),"\n",(0,t.jsxs)(n.p,{children:["react \u4e13\u6ce8\u4e8e\u5efa\u7acb",(0,t.jsx)(n.strong,{children:"\u7ec4\u4ef6\u5f0f\u53ef\u4ea4\u4e92 UI"})]}),"\n",(0,t.jsx)(n.p,{children:"\u4f46 react \u4e0d\u89e3\u51b3 router, http, form validation, internationalization... \u7b49\u7b49\u95ee\u9898"}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u4e9b\u5728\u4e0b\u9762\u7684\u5185\u5bb9\u4e4b\u4e2d\uff08\u7b11"}),"\n",(0,t.jsx)(n.p,{children:"bootstrap\uff1a \u73b0\u4ee3\u611f UI\uff0c css \u5e93"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u6587\u6863\u5185\u641c\u7d22\u540e\u590d\u5236\u793a\u4f8b\u4ee3\u7801\u5373\u53ef"}),"\n",(0,t.jsx)(n.p,{children:"\u8fd4\u56de\u591a\u4e2a\u5757"}),"\n",(0,t.jsxs)(n.p,{children:["\u5dee\u7684\u65b9\u6cd5\uff1a\u4f7f\u7528",(0,t.jsx)(n.code,{children:"<div></div>"}),"\u5305\u88f9\uff0c\u8bed\u6cd5\u4e0a\u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u662f\u5728 react \u7684 DOM \u4e0a\u591a\u52a0\u4e86\u4e00\u4e2a\u7ec4\u4ef6 div"]}),"\n",(0,t.jsxs)(n.p,{children:["\u597d\u7684\u65b9\u6cd5\uff1a\u4f7f\u7528",(0,t.jsx)(n.code,{children:"<fragment></fragment>"}),"\u5305\u88f9"]}),"\n",(0,t.jsxs)(n.p,{children:["\u7b80\u5199\uff0c\u4f7f\u7528",(0,t.jsx)(n.code,{children:"<></>"}),"\u5305\u88f9"]}),"\n",(0,t.jsx)(n.p,{children:"component \u5feb\u6377\u952e\uff1a React ES7+\u63d2\u4ef6\uff0crafce"}),"\n",(0,t.jsxs)(n.p,{children:["JSX\uff1a \u91cc\u9762\u53ea\u80fd\u6709 html \u5143\u7d20/React \u7ec4\u4ef6/","\u5305\u88f9\u7684\u8868\u8fbe\u5f0f"]}),"\n",(0,t.jsx)(n.p,{children:'"for loop in JSX"? \u4e0d\u80fd\u8fd9\u4e48\u5e72\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7 map \u65b9\u6cd5\u5b9e\u73b0'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'function ListGroup() {\n  const items = ["SJTU", "PKU", "THU", "FDU"];\n  return (\n    <>\n      <h1>List Title</h1>\n      <ul className="list-group">\n        {items.map((item) => (\n          <li className="list-group-item">{item}</li>\n        ))}\n      </ul>\n    </>\n  );\n}\nexport default ListGroup;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u201cif else in JSX\u201d?\u4e5f\u4e0d\u884c\uff0c\u4f46\u53ef\u4ee5\u7528\u8868\u8fbe\u5f0f\u4ee3\u66ff"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'function ListGroup() {\n  let items = ["SJTU", "PKU", "THU", "FDU"];\n  items = [];\n  // const Message = items.length === 0 ? <p>No items found</p> : null;\n  // \u53e6\u4e00\u79cd\u65b9\u6cd5\n  const Message = items.length === 0 && <p>No items found</p>; // true && something === something\n  return (\n    <>\n      <h1>List Title</h1>\n      {Message}\n      <ul className="list-group">\n        {items.map((item) => (\n          <li className="list-group-item" key={item}>\n            {item}\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\nexport default ListGroup;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u4f7f\u7528 map \u65b9\u6cd5\u65f6\uff0c\u9700\u8981\u7ed9 item \u4e00\u4e2a\u552f\u4e00\u7684 key\uff0c\u4ee5\u4fbf\u4e8e React \u8ffd\u8e2a"}),"\n",(0,t.jsx)(n.p,{children:"map \u53ef\u4ee5\u6709\u7b2c\u4e8c\u4e2a\u53ef\u9009\u53c2\u6570 index, \u4ee3\u8868\u8fed\u4ee3\u65f6\u7684\u5e8f\u53f7"}),"\n",(0,t.jsx)(n.p,{children:"\u5904\u7406\u5355\u51fb\u4e8b\u4ef6\uff1a\u6bcf\u4e00\u4e2a React \u5143\u7d20\u90fd\u6709\u5185\u7f6e\u7684 onClick \u65b9\u6cd5\uff0c\u63a5\u53d7\u4e00\u4e2a\u53ef\u9009\u7684 event"}),"\n",(0,t.jsx)(n.p,{children:"\u5904\u7406\u51fd\u6570\u547d\u540d\u89c4\u8303 handleClick"}),"\n",(0,t.jsx)(n.p,{children:"\u8ba9 react \u610f\u8bc6\u5230\u7ec4\u4ef6\u6709\u5185\u90e8\u72b6\u6001\uff0c\u53ef\u80fd\u968f\u65f6\u95f4\u53d8\u5316\uff0c\u53d8\u5316\u65f6\u9700\u8981\u66f4\u65b0\uff08\u91cd\u65b0\u6e32\u67d3\uff09\uff1auseState"}),"\n",(0,t.jsx)(n.p,{children:"\u53c8\u53eb stateHook, \u901a\u8fc7 Hook\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u76f4\u63a5\u63a5\u89e6 DOM\uff0c\u800c\u4e13\u6ce8\u4e8e\u7ec4\u4ef6\u548c\u5b83\u7684\u72b6\u6001"}),"\n",(0,t.jsxs)(n.p,{children:["\u628a\u4e0a\u9762\u7684\u77e5\u8bc6\u7ec4\u5408\u8d77\u6765\u7684\u5e94\u7528\uff1a",(0,t.jsx)(n.strong,{children:"\u52a8\u6001\u6dfb\u52a0\u7c7b"}),"\uff0c\u9f20\u6807\u6fc0\u6d3b\u6548\u679c\u5b9e\u73b0"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"ps: \u52a8\u6001\u6dfb\u52a0\u7c7b\u662f\u89e3\u91ca\u6027\u8bed\u8a00\uff0c\u5982 js,python \u7684\u4e13\u5c5e; \u8fd9\u6837\u6dfb\u52a0 active \u6548\u679c\u5b9e\u9645\u4e0a\u4e5f\u7b97\u662f\u81ea\u5b9a\u4e49 active \u5b9e\u73b0\u7684\u65b9\u6cd5"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { useState } from "react";\nfunction ListGroup() {\n  let items = ["SJTU", "PKU", "THU", "FDU"];\n  const [selectIndex, setSelectIndex] = useState(-1);\n  const Message = items.length === 0 ? <p>No items found</p> : null;\n\n  return (\n    <>\n      <h1>List Title</h1>\n      {Message}\n      <ul className="list-group">\n        {items.map((item, index) => (\n          <li\n            className={\n              selectIndex === index\n                ? "list-group-item active"\n                : "list-group-item"\n            }\n            key={item}\n            onClick={() => setSelectIndex(index)}\n          >\n            {item}\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\nexport default ListGroup;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u8ba9\u7ec4\u4ef6\u53ef\u91cd\u7528\uff1aprops"}),"\n",(0,t.jsx)(n.p,{children:"\u521a\u597d\u53ef\u4ee5\u5199\u6210 ts \u7684 interface"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"props is immutable"}),'\uff1a \u4f20\u5165\u7684\u53c2\u6570\u53ef\u4ee5\u8ba4\u4e3a\u662f\u67d0\u79cd\u201d\u590d\u5236"\uff0c\u4e0d\u5e94\u8be5\u76f4\u63a5\u5728\u5b50\u7ec4\u4ef6\u4e4b\u4e2d\u4fee\u6539 Props\uff0c\uff08\u76f4\u63a5\u6539\u4e86\u4e5f\u4e0d\u4f1a\u53cd\u6620\u5230\u7236\u7ec4\u4ef6\u4e0a\uff09\uff0c\u5982\u679c\u8981\u6839\u636e\u5b50\u7ec4\u4ef6\u6539\u7236\u7ec4\u4ef6\u72b6\u6001\uff0c\u628a\u7236\u7ec4\u4ef6\u7684 setState \u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u4f20\u4e0b\u6765']}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u7236\u7ec4\u4ef6\u60f3\u4ece\u5b50\u7ec4\u4ef6\u5f97\u5230\u4fe1\u606f\uff1f\u4f8b\u5982\uff0c\u9009\u62e9\uff1f"}),"\n",(0,t.jsx)(n.p,{children:"React \u5e76\u6ca1\u6709\u63d0\u4f9b\u7ec4\u4ef6\u4e66\u201c\u81ea\u5e95\u5411\u4e0a\u201d\u4f20\u9012\u4fe1\u606f\u7684\u65b9\u6cd5\uff0c\u8fd9\u6837\u7684\u201c\u5c06\u9876\u5c42\u903b\u8f91\u4e0b\u653e\u5230\u53ef\u91cd\u7528\u7684\u5b50\u7ec4\u4ef6\u201d\u4e5f\u7834\u574f\u4e86\u5b50\u7ec4\u4ef6\u7684\u91cd\u7528\u6027\uff1b\u5b9e\u73b0\u65b9\u6cd5\u5e94\u8be5\u653e\u5728\u7236\u7ec4\u4ef6\uff0c\u5728\u4f20\u9012\u7684 props \u91cc\u9762\u591a\u52a0\u4e00\u4e2a\u51fd\u6570\u53c2\u6570\uff0c\u8ba9\u5b50\u7ec4\u4ef6\u5f97\u5230\u4fe1\u606f\u4e4b\u540e\u8c03\u7528\u8fd9\u4e2a\u7236\u7ec4\u4ef6\u5b9a\u4e49\u7684\u51fd\u6570\uff0c\u8fd8\u662f\u81ea\u9876\u5411\u4e0b\u4f20\u9012\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,t.jsx)(n.p,{children:"App.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { useState } from "react";\nimport ListGroup from "./components/ListGroup";\n\nimport "./App.css";\n\nfunction App() {\n  let schools = ["PKU", "FDU", "THU", "ZJU", "SJTU"];\n  let cities = ["Beijing", "Shanghai", "Hangzhou", "Nanjing", "Wuhan"];\n  const onSelectItem = (item: string) => {\n    console.log(item);\n  };\n  return (\n    <div>\n      <ListGroup title="Schools" items={schools} onSelectItem={onSelectItem} />\n      <ListGroup title="Cities" items={cities} onSelectItem={onSelectItem} />\n    </div>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,t.jsx)(n.p,{children:"ListGroup.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { useState } from "react";\ninterface ListGroupProps {\n  title: string;\n  items: string[];\n  onSelectItem: (item: string) => void;\n}\nfunction ListGroup({ items, title, onSelectItem }: ListGroupProps) {\n  const [selectIndex, setSelectIndex] = useState(-1);\n  const Message = items.length === 0 ? <p>No items found</p> : null;\n\n  return (\n    <>\n      <h1>{title}</h1>\n      {Message}\n      <ul className="list-group">\n        {items.map((item, index) => (\n          <li\n            className={\n              selectIndex === index\n                ? "list-group-item active"\n                : "list-group-item"\n            }\n            key={item}\n            onClick={() => {\n              setSelectIndex(index);\n              onSelectItem(item);\n            }}\n          >\n            {item}\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n}\nexport default ListGroup;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u4f20\u9012\u6587\u672c\u548c html?"}),"\n",(0,t.jsx)(n.p,{children:"\u76f4\u63a5 props\uff1a\u7565\u4e11"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["\u4f7f\u7528 children",":ReactNode"," \u7684 interface"]})}),"\n",(0,t.jsx)(n.p,{children:"\u4f8b\uff1a"}),"\n",(0,t.jsx)(n.p,{children:"App.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import Alert from "./components/Alert";\nfunction App() {\n  return (\n    <Alert>\n      <p>Note:</p>This is a Alert\n    </Alert>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,t.jsx)(n.p,{children:"Alert.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { ReactNode } from "react";\ninterface AlertProps {\n  children: ReactNode;\n}\nconst Alert = ({ children }: AlertProps) => {\n  return <div className="alert alert-danger">{children}</div>;\n};\n\nexport default Alert;\n'})}),"\n",(0,t.jsx)(n.p,{children:"react-developer-tool"}),"\n",(0,t.jsx)(n.p,{children:"\u7ec4\u4ef6\u91cd\u7528\u793a\u4f8b 2"}),"\n",(0,t.jsx)(n.p,{children:"Button.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'interface ButtonProps {\n  children: string;\n  color?:\n    | "primary"\n    | "secondary"\n    | "success"\n    | "warning"\n    | "danger"\n    | "info"\n    | "light"\n    | "dark";\n  onClick?: () => void;\n}\nconst Button = ({\n  children,\n  color = "primary",\n  onClick = () => {\n    console.log("Clicked");\n  },\n}: ButtonProps) => {\n  return (\n    <div className={"btn btn-" + color} onClick={onClick}>\n      {children}\n    </div>\n  );\n};\n\nexport default Button;\n'})}),"\n",(0,t.jsx)(n.p,{children:"App.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import Button from "./components/Button";\nfunction App() {\n  return (\n    <>\n      <Button children="a" />\n      <Button children="b" />\n      <Button children="c" />\n    </>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"styling-\u66f4\u8fdb\u4e00\u6b65\u7684-css",children:"Styling: \u66f4\u8fdb\u4e00\u6b65\u7684 CSS"}),"\n",(0,t.jsx)(n.p,{children:"plain css: not recommended"}),"\n",(0,t.jsx)(n.p,{children:'css module:\u7528\u4e8e\u89e3\u51b3\u591a\u4e2a css \u540c\u540d\u7c7b\u7684\u51b2\u7a81\u8986\u76d6\u95ee\u9898\u3002 .css \u6587\u4ef6\u53d8\u6210 .module.css \u6587\u4ef6\uff0c\u91cc\u9762\u5b9a\u4e49\u7684 css \u7c7b\u53d8\u6210\u6574\u4e2a module \u5bf9\u8c61\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u901a\u8fc7 import {style} from "./sth.module.css" \u4e4b\u540e style["some-css-class"]\u4f7f\u7528'}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u9700\u8981\u4e00\u4e2a\u6a21\u5757\u7684\u591a\u4e2a css \u7c7b\uff0c\u4f7f\u7528 [style['classA'], style['classB']].join(' ')\u8bed\u6cd5"}),"\n",(0,t.jsx)(n.p,{children:"CSS in JS\uff1a styled-component"}),"\n",(0,t.jsx)(n.p,{children:"Seperation of Concerns \u539f\u5219\uff1a\u628a\u590d\u6742\u5ea6\u9690\u85cf\u5728\u63a5\u53e3\u4e4b\u4e0b\uff0c\u4e00\u4e2a\u6a21\u5757\u7684\u590d\u6742\u5ea6\u4e0d\u5e94\u8be5\u66b4\u9732\u5728\u5916\u9762"}),"\n",(0,t.jsx)(n.p,{children:"inline CSS: not recommended also"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6709\u7528\u7684\u70ed\u95e8 CSS \u5e93(\u4e2a\u4eba\u53ea\u4f1a\u8c03\u5e93\uff0c\u7b11)"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"bootstrap"}),"\n",(0,t.jsx)(n.li,{children:"Material UI"}),"\n",(0,t.jsx)(n.li,{children:"tailwind"}),"\n",(0,t.jsx)(n.li,{children:"chakra UI"}),"\n",(0,t.jsx)(n.li,{children:"......"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u6dfb\u52a0 icon: react-icon \u5e93, font awesome icon"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"managing-component-state",children:"Managing Component State"}),"\n",(0,t.jsx)(n.p,{children:"NOTE\uff1a"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"React \u66f4\u65b0 State \u662f\u5f02\u6b65\u7684 async"}),"\n",(0,t.jsx)(n.li,{children:"state \u5b9e\u9645\u5b58\u50a8\u5728\u7ec4\u4ef6\u4e4b\u5916"}),"\n",(0,t.jsx)(n.li,{children:"only use hook at the top level of function: Hook \u4e0d\u80fd\u88ab\u653e\u5728 \u6761\u4ef6\uff0c\u5faa\u73af\u7b49\u7b49\u4e4b\u4e2d"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"BEST PRACTICE\uff1a"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u907f\u514d\u5197\u4f59 state"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u4f7f\u7528\u5bf9\u8c61\u5c06\u76f8\u5173\u7684 state \u5957\u8d77\u6765"}),"\u662f\u597d\u7684\uff0c\u4f46\u4e0d\u8981\u6df1\u5ea6\u5d4c\u5957"]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"ps: \u540e\u8865:\u7b2c\u4e8c\u70b9\u53ef\u80fd\u6bd4\u8f83\u62bd\u8c61\uff0c\u8be6\u7ec6\u8bf4\u5c31\u662f\uff0c\u5982\u679c\u6211\u7684\u7ec4\u4ef6\u53d6\u51b3\u4e8e\u4e00\u4e2a state game, \u7136\u540e game \u53ef\u80fd\u6709\u591a\u4e2a\u9700\u8981\u7ef4\u62a4\u7684 state \u4f8b\u5982 price\uff0cid, ... \u4e0e\u5176\u628a price\uff0c id,...\u5206\u522b\u4f7f\u7528 setState\uff0c\u4e0d\u5982\u53ea\u8bbe\u4e00\u4e2a State\uff0c\u5c31\u662f game, \u4e5f\u5c31\u662f\u8bf4 useState \u53ef\u4ee5\u63a5\u53d7\u4e00\u4e2a\u590d\u5236\u7684\u5bf9\u8c61\u4f5c\u4e3a state \u800c\u4e0d\u5c40\u9650\u4e8e\u57fa\u672c\u7c7b\u578b\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["\u800c\u201c\u4e0d\u8981\u6df1\u5ea6\u5d4c\u5957\u201d\u662f\u56e0\u4e3a\uff0c\u8fd9\u6837\u5305\u542b\u4e86\u591a\u4e2a\u5c5e\u6027\u7684 state \u6bcf\u6b21\u66f4\u65b0\u90fd\u8981 \u7528",(0,t.jsx)(n.code,{children:"..."}),"\u590d\u5236\u4e00\u6b21\uff08React \u68c0\u6d4b\u4f5c\u4e3a\u5bf9\u8c61\u7684 State \u53d8\u5316\u5e76\u4e0d\u4f1a\u6df1\u5165\u4e0b\u53bb\u6bd4\u8f83\u5bf9\u8c61\u5185\u90e8\u7684\u6bcf\u4e00\u4e2a\u503c\uff0c\u6240\u4ee5\u4f20\u5165\u65b0\u7684 State \u7684\u65f6\u5019\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff09\uff0c\u4f8b\u5982",(0,t.jsx)(n.code,{children:"useState([...game, newPrice: 20])"}),", \u800c game \u5982\u679c\u662f\u5bf9\u8c61\u5957\u5bf9\u8c61\uff0c\u90a3\u5c31\u8981\u518d\u591a\u4e00\u5c42",(0,t.jsx)(n.code,{children:"..."})," ......\u6df1\u8d77\u6765\u65e2\u6d6a\u8d39\uff0c\u53c8\u4e0d\u597d\u7ef4\u62a4"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"KEEPING COMPONENT PURE:"}),"\n",(0,t.jsx)(n.p,{children:"ReactDOM \u7684 strictMode \u4f1a\u68c0\u6d4b\u4e0d\u7eaf\u7684\u7ec4\u4ef6\uff0c\u5e76\u6267\u884c\u4e24\u6b21"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 state \u662f\u4e00\u4e2a\u5bf9\u8c61\u7684\u65f6\u5019\uff0cReact \u5e76\u4e0d\u4f1a\u5b9e\u65f6\u68c0\u6d4b\u8fd9\u4e2a\u5bf9\u8c61\u7684\u53d8\u5316\uff0c\u89c6\u4e3a immutable"}),"\n",(0,t.jsx)(n.p,{children:"\u6240\u4ee5\u5982\u679c\u8981\u5c06\u4e00\u4e2a drink \u5bf9\u8c61\u7684 price \u5c5e\u6027\u6539\u53d8"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const Incorrect = () => {\n  drink.price = 6;\n  setDrink(drink); // false: React\u4e0d\u4f1a\u6bd4\u5bf9drink\u5bf9\u8c61\u7684\u5c5e\u6027\u6709\u6539\u53d8\uff0c\u5f53\u4f20\u9012\u7684\u8fd8\u662f\u539f\u6765\u7684drink\u5bf9\u8c61\u7684\u65f6\u5019\uff0cReactDOM\u5c31\u4e0d\u4f1a\u91cd\u65b0\u6e32\u67d3\n};\nconst Correct = () => {\n  let newDrink = {\n    ...drink, // \u590d\u5236\u539f\u5148drink\u5bf9\u8c61\u7684\u5c5e\u6027\n    price: 6,\n  };\n  setDrink(newDrink); //\u8fd9\u6837drink\u5bf9\u8c61\u672c\u8eab\u6539\u53d8\u4e86\uff0cReactDOM\u91cd\u65b0\u6e32\u67d3\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"ATTENTION\uff1a"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u5982\u679c\u5bf9\u8c61\u91cc\u9762\u5d4c\u5957\u5bf9\u8c61\uff0c\u7531\u4e8e...\u590d\u5236\u5bf9\u8c61\u5c5e\u6027\u7684\u65f6\u5019\u5bf9\u5bf9\u8c61\u5143\u7d20\u9ed8\u8ba4\u662f\u6d45\u590d\u5236\uff0c\u9700\u8981\u5728\u5d4c\u5957\u7684\u5bf9\u8c61\u91cc\u9762\u4e5f\u4f7f\u7528...\u6765\u907f\u514d\u4fee\u6539\u539f\u6765\u5bf9\u8c61\u7684\u503c"})}),"\n",(0,t.jsx)(n.p,{children:"\u5bf9\u4e8e state \u662f\u6570\u7ec4\u7684\u60c5\u51b5\u540c\u7406"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const [arr, setArr] = useState([0, 1]);\nconst handleClick = () => {\n  // \u4e0d\u4f7f\u7528arr.push()\u65b9\u6cd5\n  let newEle = 2;\n  // Add\n  setArr([...arr, newEle]);\n  // Remove\n  serArr([arr.filter((ele) => ele !== 0)]);\n  // Update\n  setArr([arr.map((ele) => (ele === 0 ? 1 : ele))]);\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"sharing state between component: \u628a\u9700\u8981\u5728\u7ec4\u4ef6\u4e2d\u5171\u4eab\u7684 state \u5728\u7ec4\u4ef6\u5c42\u6b21\u67b6\u6784\u91cc\u9762\u5411\u4e0a\u63d0\u5347\u4e00\u7ea7"}),"\n",(0,t.jsx)(n.p,{children:"\u7ec3\u4e60\uff0c\u53ef\u6298\u53e0\u6587\u5b57"}),"\n",(0,t.jsx)(n.p,{children:"\u751f\u6210\u968f\u673a\u5b57\u7b26\u4e32 lorem + \u4e00\u4e2a\u6570\uff0c \u6bd4\u5982 lorem200\uff0c\u751f\u6210\u957f\u4e3a 200 \u4e2a\u5b57\u7b26\u7684\u968f\u673a\u5b57\u7b26\u4e32"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"forms-\u8868\u5355",children:"Forms \u8868\u5355"}),"\n",(0,t.jsx)(n.p,{children:"React Hook Forms && Zod"}),"\n",(0,t.jsx)(n.h5,{id:"\u57fa\u7840\u8868\u5355",children:"\u57fa\u7840\u8868\u5355"}),"\n",(0,t.jsx)(n.p,{children:"\u8868\u5355\u7684\u57fa\u7840\u548c bootstrap \u91cc\u9762\u7684\u8868\u5355, div.md-3>lable.form-label+input.form-control + [TAB]\u7684\u7b80\u5199\u683c\u5f0f"}),"\n",(0,t.jsxs)(n.p,{children:["\uff08",(0,t.jsx)(n.code,{children:"."}),"\u662f\u7c7b",(0,t.jsx)(n.code,{children:"className"}),"\uff0c",(0,t.jsx)(n.code,{children:"+"}),"\u662f\u5e76\u5217\uff0c ",(0,t.jsx)(n.code,{children:">"}),"\u662f\u5305\u542b\uff08\u5b50\u7ec4\u4ef6\uff09\uff0c",(0,t.jsx)(n.code,{children:"*"}),"\u662f\u591a\u4e2a\uff09"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\u5728 React \u4e2d\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5c06",(0,t.jsx)(n.code,{children:"<button>"}),"\u5143\u7d20\u653e\u5165",(0,t.jsx)(n.code,{children:"<form>"}),"\u5143\u7d20\u5185\u90e8\uff0c\u5e76\u8bbe\u7f6e",(0,t.jsx)(n.code,{children:'type="submit"'}),"\uff0c\u6765\u5c06\u6309\u94ae\u7684\u70b9\u51fb\u4e8b\u4ef6\u4e0e\u8868\u5355\u7684\u63d0\u4ea4\u4e8b\u4ef6\u7ed1\u5b9a\u3002\u5f53\u70b9\u51fb\u8fd9\u4e2a\u6309\u94ae\u65f6\uff0c\u8868\u5355\u7684",(0,t.jsx)(n.code,{children:"onSubmit"}),"\u4e8b\u4ef6\u5c06\u88ab\u89e6\u53d1\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4f60\u9700\u8981\u5728",(0,t.jsx)(n.code,{children:"<form>"}),"\u5143\u7d20\u4e0a\u6dfb\u52a0\u4e00\u4e2a",(0,t.jsx)(n.code,{children:"onSubmit"}),"\u4e8b\u4ef6\u5904\u7406\u5668\u6765\u5904\u7406\u8868\u5355\u63d0\u4ea4"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"React useRef"})}),"\n",(0,t.jsx)(n.p,{children:"useRef \u4ea7\u751f\u4e00\u4e2a React \u5143\u7d20\uff08DOM Node\uff09\u7684\u5f15\u7528"}),"\n",(0,t.jsx)(n.p,{children:"\u76f4\u63a5\u770b\u5177\u4f53\u4ee3\u7801"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import "bootstrap/dist/css/bootstrap.css";\nimport "../index.css";\nimport { useRef } from "react";\nconst Form = () => {\n  const nameRef = useRef<HTMLInputElement>(null);\n  return (\n    <>\n      <form\n        onSubmit={(event) => {\n          event.preventDefault();\n          console.log(nameRef.current?.value);\n        }}\n      >\n        <div className="mb-3">\n          <label htmlFor="name" className="form-label">\n            Name\n          </label>\n          <input ref={nameRef} id="name" type="text" className="form-control" />\n          <div className="mb-3">\n            <label htmlFor="age" className="form-lable">\n              Age\n            </label>\n            <input id="age" type="number" className="form-control" />\n          </div>\n        </div>\n        <button className="btn btn-primary" type="submit">\n          Submit\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default Form;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u4f46\u4e0a\u8ff0\u4ee3\u7801\u6709\u4e00\u4e2a\u95ee\u9898"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\u5728 React \u4e2d\uff0c",(0,t.jsx)(n.code,{children:"useRef"}),"\u521b\u5efa\u7684\u5f15\u7528\uff08reference\uff09\u7684\u53d8\u5316\u4e0d\u4f1a\u89e6\u53d1\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3\u3002\u8fd9\u662f\u56e0\u4e3a",(0,t.jsx)(n.code,{children:"useRef"}),"\u8fd4\u56de\u7684\u5bf9\u8c61\u5728\u7ec4\u4ef6\u7684\u6240\u6709\u6e32\u67d3\u4e2d\u4fdd\u6301\u4e0d\u53d8\uff0c\u6240\u4ee5 React \u4e0d\u4f1a\u77e5\u9053\u5f15\u7528\u7684\u503c\u5df2\u7ecf\u6539\u53d8\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u6240\u4ee5\u8981\u662f\u9700\u8981\u91cd\u65b0\u6e32\u67d3\uff0c\u8fd8\u5f97\u662f useState,\u5f15\u51fa\u4e86\u4e0b\u9762\u7684\u6280\u672f"}),"\n",(0,t.jsx)(n.p,{children:"controlled components"}),"\n",(0,t.jsx)(n.p,{children:"\u4e3b\u8981\u89e3\u51b3\u4f7f\u7528 useState \u548c onChange \u65b9\u6cd5\u6765\u63a7\u5236 state \u65f6\u5019\uff0c\u4e0d\u540c\u7ec4\u4ef6\u540c\u65f6\u4fee\u6539\u4e00\u4e2a state \u7684\u5f02\u6b65\u95ee\u9898"}),"\n",(0,t.jsxs)(n.p,{children:["\u89e3\u51b3\u65b9\u6cd5\uff0c\u5728\u7ec4\u4ef6\u52a0\u4e00\u4e2a ",(0,t.jsx)(n.code,{children:"value={obj.value}"}),",\u6bcf\u6b21\u8c03\u7528\u524d\u5148\u540c\u6b65\uff0c\u628a\u7ec4\u4ef6\u72b6\u6001\u7684\u7ba1\u7406\u8f6c\u4ea4\u7ed9 React"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"const [state, setState]=useState(...);"}),"\n",(0,t.jsx)(n.p,{children:"..."}),"\n",(0,t.jsx)(n.p,{children:"<Component value={state}"}),"\n",(0,t.jsx)(n.p,{children:"onChange={handleStateChange} />"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u66f4\u7b80\u5355\uff1a\u4f7f\u7528 react-hook-form \u5e93"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'import { FieldValues, useForm } from "react-hook-form";\nconst Form = () => {\n  const { register, handleSubmit } = useForm();\n  const onSubmit = (data: FieldValues) => console.log(data);\n  return (\n    <>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className="mb-3">\n          <label htmlFor="name" className="form-label">\n            Name\n          </label>\n          <input\n            {...register("name")}\n            id="name"\n            type="text"\n            className="form-control"\n          />\n          <div className="mb-3">\n            <label htmlFor="age" className="form-lable">\n              Age\n            </label>\n            <input\n              {...register("age")}\n              id="age"\n              type="number"\n              className="form-control"\n            />\n          </div>\n        </div>\n        <button className="btn btn-primary" type="submit">\n          Submit\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default Form;\n'})}),"\n",(0,t.jsx)(n.h5,{id:"validation",children:"Validation"}),"\n",(0,t.jsx)(n.p,{children:"react-hook-form \u7684 register \u53ef\u4ee5\u6709\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u4e00\u4e2a\u5bf9\u8c61"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import "bootstrap/dist/css/bootstrap.css";\nimport "../index.css";\nimport { useRef } from "react";\nimport { FieldValues, useForm } from "react-hook-form";\nconst Form = () => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n  console.log(errors);\n  const onSubmit = (data: FieldValues) => console.log(data);\n  return (\n    <>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className="mb-3">\n          <label htmlFor="name" className="form-label">\n            Name\n          </label>\n          <input\n            {...register("name", { required: true, minLength: 3 })} // \u8fd9\u91cc\n            id="name"\n            type="text"\n            className="form-control"\n          />\n          {errors.name?.type === "required" && <p>You must give a name.</p>}\n          {errors.name?.type === "minLength" && (\n            <p>The length of name must be longer than 3 characters.</p>\n          )}\n          <div className="mb-3">\n            <label htmlFor="age" className="form-lable">\n              Age\n            </label>\n            <input\n              {...register("age")}\n              id="age"\n              type="number"\n              className="form-control"\n            />\n          </div>\n        </div>\n        <button className="btn btn-primary" type="submit">\n          Submit\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default Form;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u57fa\u4e8e\u6a21\u5f0f\u7684\u9a8c\u8bc1\uff1aZod + @hookhome/resolvers \u770b\u4ee3\u7801"}),"\n",(0,t.jsx)(n.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u5e76\u4e0d\u662f\u5b9e\u65f6\u7684\uff0c\u9700\u8981 submit \u624d\u4f1a\u6709 error\uff0c\u5982\u679c\u540c\u65f6\u542f\u7528\u4e86\u4e0b\u9762\u7684 invalid \u4e0d submit \u548c\u8fd9\u4e2a, \u8fd9\u4e2a\u76f8\u5f53\u4e8e\u6ca1\u8bbe\u7f6e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'import "bootstrap/dist/css/bootstrap.css";\nimport "../index.css";\nimport { FieldValues, useForm } from "react-hook-form";\nimport { z } from "zod";\nimport { zodResolver } from "@hookform/resolvers/zod";\nconst schema = z.object({\n  name: z.string().min(3, { message: "Name must be at least 3 characters" }),\n  age: z.number({ invalid_type_error: "Age field is required" }).min(18),\n});\ntype FormData = z.infer<typeof schema>;\nconst Form = () => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n  } = useForm<FormData>({\n    resolver: zodResolver(schema),\n  });\n  console.log(errors);\n  const onSubmit = (data: FieldValues) => console.log(data);\n  return (\n    <>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className="mb-3">\n          <label htmlFor="name" className="form-label">\n            Name\n          </label>\n          <input\n            {...register("name")}\n            id="name"\n            type="text"\n            className="form-control"\n          />\n          {errors.name && <p>{errors.name.message}</p>}\n          <div className="mb-3">\n            <label htmlFor="age" className="form-label">\n              Age\n            </label>\n            <input\n              {...(register("age"), { valueAsNumber: true })}\n              id="age"\n              type="number"\n              className="form-control"\n            />\n          </div>\n          {errors.age && <p>{errors.age.message}</p>}\n        </div>\n        <button className="btn btn-primary" type="submit">\n          Submit\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default Form;\n'})}),"\n",(0,t.jsxs)(n.p,{children:['\u7528\u6dd8\u5b9d\u6e90\uff0cSJTUG \u6ca1\u6709\uff1b \u88c5@hookhome/resolvers \u7684\u65f6\u5019\u8bb0\u5f97\u6253""\uff08',(0,t.jsx)(n.code,{children:' npm --registry https://registry.npm.taobao.org install "@hookform/resolvers"'}),"\uff09,\u907f\u514d\u548c\u624b\u52a8\u6307\u5b9a\u6e90\u7684 \u201c/\u201d \u6df7\u4e00\u8d77"]}),"\n",(0,t.jsx)(n.p,{children:"\u7981\u7528 submit,"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n  } = useForm();\n<button disabled={!isValid} className="btn btn-primary" type="submit">\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u7ed9 useState \u52a0\u7c7b\u578b"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"useState\\<Type\\>"})}),"\n",(0,t.jsx)(n.p,{children:"\u5bfc\u51fa\u7c7b\u578b export type"}),"\n",(0,t.jsx)(n.h5,{id:"\u7ec3\u4e60\u8bb0\u8d26\u672c",children:"\u7ec3\u4e60\uff1a\u8bb0\u8d26\u672c"}),"\n",(0,t.jsx)(n.p,{children:"\u975e\u5e38\u597d\u7684\u7ec3\u4e60\uff0c\u548c TodoList \u4e00\u4e2a\u5b9e\u73b0\u9053\u7406\uff0c\u6700\u597d\u81ea\u5df1\u8bd5\u7740\u505a\u4e00\u505a"}),"\n",(0,t.jsx)(n.p,{children:"\u4e2a\u4eba\u5b9e\u73b0\uff08\u540e\u9762\u56de\u6765\u770b\u611f\u89c9\u5f88\u591a\u5730\u65b9\u6ca1\u5199\u597d\uff09\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'//FormDataType.tsx\nimport "bootstrap/dist/css/bootstrap.css";\nimport { z } from "zod";\ntype Category = "All Categories" | "Groceries" | "Utilities" | "Entertainment";\n\nconst schema = z.object({\n  description: z.string().min(3),\n  amount: z\n    .number({ invalid_type_error: "Amount field is required" })\n    .positive(),\n  category: z.enum([\n    "All Categories",\n    "Groceries",\n    "Utilities",\n    "Entertainment",\n  ]),\n});\ntype ExpenseFormData = z.infer<typeof schema>;\n\nexport { schema };\nexport type { ExpenseFormData, Category };\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// index.tsx\nimport ExpenseForm from "./ExpenseForm";\nimport { ExpenseFormData } from "./FormDataType";\nimport { useState } from "react";\nimport FilterTable from "./FilterTable";\nconst ExpenseTracker = () => {\n  const [dataArr, setDataArr] = useState<ExpenseFormData[]>([]);\n  const pushCallback = (newData: ExpenseFormData) => {\n    setDataArr([...dataArr, newData]);\n  };\n  const deleteCallback = (index: number) => {\n    setDataArr(dataArr.filter((_, i) => i !== index));\n  };\n  return (\n    <>\n      <ExpenseForm dataArr={dataArr} pushCallback={pushCallback} />\n      <FilterTable dataArr={dataArr} callback={deleteCallback} />\n    </>\n  );\n};\n\nexport default ExpenseTracker;\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// FilterTable.tsx\nimport "bootstrap/dist/css/bootstrap.css";\nimport { ExpenseFormData, Category } from "./FormDataType";\nimport { useState } from "react";\ninterface FilterTableProps {\n  dataArr: ExpenseFormData[];\n  callback: (index: number) => void;\n}\nconst FilterTable = ({ dataArr, callback }: FilterTableProps) => {\n  const [filterSelection, setFilter] = useState<Category>("All Categories");\n  const handleFilterChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setFilter(event.target.value as Category);\n  };\n  return (\n    <>\n      <select\n        value={filterSelection}\n        onChange={handleFilterChange}\n        className="form-select"\n        aria-label="Category"\n      >\n        <option selected>All Categories</option>\n        <option value="Groceries">Groceries</option>\n        <option value="Utilities">Utilities</option>\n        <option value="Entertainment">Entertainment</option>\n      </select>\n      <table className="table">\n        <thead>\n          <tr>\n            <th scope="col">#</th>\n            <th scope="col">Description</th>\n            <th scope="col">Amount</th>\n            <th scope="col">Categories</th>\n          </tr>\n        </thead>\n        <tbody>\n          {dataArr.map((data: ExpenseFormData, index) => {\n            return (\n              (filterSelection === "All Categories" ||\n                data.category === filterSelection) && (\n                <tr>\n                  <th scope={"row"}>{index + 1}</th>\n                  <td>{data.description}</td>\n                  <td>{data.amount}</td>\n                  <td>{data.category}</td>\n                  <td>\n                    <button\n                      onClick={() => callback(index)}\n                      className="btn btn-warning"\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              )\n            );\n          })}\n          <tr>\n            <th scope={"row"}>Total</th>\n            <td>\n              {dataArr.reduce((total, cur) => {\n                if (\n                  filterSelection === "All Categories" ||\n                  cur.category === filterSelection\n                ) {\n                  return total + cur.amount;\n                }\n                return total;\n              }, 0)}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nexport default FilterTable;\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'// ExpenseForm.tsx\nimport "bootstrap/dist/css/bootstrap.css";\nimport { FieldValues, useForm } from "react-hook-form";\nimport { zodResolver } from "@hookform/resolvers/zod";\nimport { schema } from "./FormDataType";\nimport { ExpenseFormData } from "./FormDataType";\ninterface ExpenseFormProps {\n  dataArr: ExpenseFormData[];\n  pushCallback: (newData: ExpenseFormData) => void;\n}\nconst ExpenseForm = ({ dataArr, pushCallback }: ExpenseFormProps) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n  } = useForm<ExpenseFormData>({ resolver: zodResolver(schema) });\n  const onSubmit = (data: FieldValues) => {\n    if (isValid) {\n      pushCallback(data as ExpenseFormData);\n      console.log(dataArr);\n    }\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className="mb-3">\n          <label htmlFor="Description" className="form-label">\n            Description\n          </label>\n          <input\n            {...register("description")}\n            id="Description"\n            type="text"\n            className="form-control"\n          />\n        </div>\n        {errors.description && <p>{errors.description.message}</p>}\n        <div className="mb-3">\n          <label htmlFor="Amount" className="form-label">\n            Amount\n          </label>\n          <input\n            {...register("amount", { valueAsNumber: true })}\n            id="Amount"\n            type="number"\n            className="form-control"\n          />\n        </div>\n        {errors.amount && <p>{errors.amount.message}</p>}\n        <select\n          {...register("category")}\n          className="form-select"\n          aria-label="Category"\n        >\n          <option selected>All Categories</option>\n          <option value="Groceries">Groceries</option>\n          <option value="Utilities">Utilities</option>\n          <option value="Entertainment">Entertainment</option>\n        </select>\n        {errors.category && <p>{errors.category.message}</p>}\n        <button type="submit" className="btn btn-primary">\n          Submit\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default ExpenseForm;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u770b\u89c6\u9891\uff0c\u4e0a\u9762\u7684\u4e00\u4e9b\u7f3a\u70b9\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"type \u8fd8\u662f\u6709\u4e00\u4e9b\u8026\u5408\uff0ccategory \u5e94\u8be5\u72ec\u7acb\u51fa\u6765\u6210\u4e3a\u5355\u72ec\u7684\u6a21\u5757"}),"\n",(0,t.jsx)(n.li,{children:"\u53ef\u4ee5\u7ee7\u7eed\u8c03 css, \u7f8e\u89c2\u5ea6\u4e0d\u8db3\uff08e.g \u4f7f\u7528 mb-3 mb-5 class \u52a0\u8fb9\u6846\uff0c\u6539 validation text \u989c\u8272\u7b49\u7b49\uff09"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"\u540e\u7aef\u90e8\u5206",children:"\u540e\u7aef\u90e8\u5206"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Express"}),"\n",(0,t.jsx)(n.li,{children:"Django"}),"\n",(0,t.jsx)(n.li,{children:"Ruby on Rail"}),"\n",(0,t.jsx)(n.li,{children:"Spring"}),"\n",(0,t.jsx)(n.li,{children:"ASP.NET"}),"\n",(0,t.jsx)(n.li,{children:"......"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"\u94fe\u63a5-react-\u548c\u540e\u7aef",children:"\u94fe\u63a5 React \u548c\u540e\u7aef"}),"\n",(0,t.jsx)(n.h5,{id:"useeffect-\u548c-effect-hook",children:"useEffect \u548c Effect Hook"}),"\n",(0,t.jsx)(n.p,{children:"\u4e3a\u4ec0\u4e48\u9700\u8981 useEffect\uff1a"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["React \u5f15\u5165",(0,t.jsx)(n.code,{children:"useEffect"}),"\u662f\u4e3a\u4e86\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u5904\u7406\u526f\u4f5c\u7528\u3002\u5728 React \u4e2d\uff0c\u526f\u4f5c\u7528\u5305\u62ec\u6570\u636e\u83b7\u53d6\u3001\u8ba2\u9605\u6216\u624b\u52a8\u4fee\u6539 DOM \u7b49\u64cd\u4f5c\u3002\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u4f1a\u5728\u7ec4\u4ef6\u6e32\u67d3\u4e4b\u540e\u6267\u884c\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cd\u7ec4\u4ef6\u4e4b\u5916\u7684\u4e8b\u7269\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u4f8b\u5982\u4e00\u4e2a\u7a97\u53e3\u7ec4\u4ef6\uff0c\u9700\u8981\u68c0\u6d4b\u5b83\u662f\u5426\u83b7\u53d6\u5230\u7126\u70b9\uff0c\u5982\u679c\u6211\u624b\u52a8\u5904\u7406\uff0c\u5c31\u5fc5\u987b\u5728\u7a97\u53e3\u51fd\u6570\u4e4b\u4e2d\u8bb0\u5f55\u548c\u7ef4\u62a4\u7126\u70b9\u4fe1\u606f\uff0c\u800c\u8fd9\u548c React \u7684\u8bbe\u8ba1\u903b\u8f91\u2014\u2014\u4e00\u4e2a\u53ea\u5173\u6ce8\u6e32\u67d3\u7684\u7ec4\u4ef6\u76f8\u8fdd\u80cc"}),"\n",(0,t.jsxs)(n.p,{children:["\u800c\u4f7f\u7528\u4e86 useEffect \u4e4b\u540e\uff0c\u7126\u70b9\u76f8\u5173\u7684\u4ee3\u7801\u5b9e\u8d28\u4e0a\u88ab\u72ec\u7acb\u51fa ReactDOM, \u800c\u7a97\u53e3\u7ec4\u4ef6\u91cd\u65b0\u6210\u4e3a\u7eaf\u51fd\u6570\uff0c",(0,t.jsx)(n.strong,{children:"\u5728 DOM \u6e32\u67d3\u5b8c\u6bd5\u4e4b\u540e\uff0cReact \u68c0\u6d4b useEffect \u751f\u6548\u4e0e\u5426\uff0c\u6700\u540e\u6267\u884c\u526f\u4f5c\u7528"}),"\uff0c\u4fdd\u8bc1\u4e86\u526f\u4f5c\u7528\u7684\u6267\u884c\u987a\u5e8f\uff0c\u4f7f\u5f97\u6574\u4e2a App \u6700\u540e\u4f9d\u7136\u662f\u7eaf\u51fd\u6570"]}),"\n",(0,t.jsx)(n.p,{children:"\u4f8b\uff1a\uff08\u8fd9\u4e2a\u4f8b\u5b50\u5e76\u4e0d\u5b9e\u9645\uff0c\u56e0\u4e3a\u6d4f\u89c8\u5668\u9ed8\u8ba4\u6709\u805a\u7126\u884c\u4e3a\u8986\u76d6\u4e86\u8fd9\u4e2a\u4ee3\u7801\uff0c\u4e0d\u9700\u8981\u8fd9\u6837\u624b\u52a8\u52a0\uff0c\u5e76\u4e14\u8fd9\u6837\u4e5f\u53ea\u662f\u5728\u7b2c\u4e00\u6b21\u70b9\u51fb\u7684\u65f6\u5019\u6709\u805a\u7126\uff09"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import "bootstrap/dist/css/bootstrap.css";\nimport { useRef, useEffect } from "react";\nconst FocusInput = () => {\n  const ref = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    ref.current?.focus();\n  }, []);\n  return (\n    <div className="md-3">\n      <input ref={ref} type="text" className="form-control" />\n    </div>\n  );\n};\n\nexport default FocusInput;\n'})}),"\n",(0,t.jsx)(n.p,{children:"useEffect \u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u662f\u56de\u8c03\u51fd\u6570\uff0c\u7b2c\u4e8c\u4e2a\u662f\u63a7\u5236\u4f55\u65f6\u6267\u884c\u7684\u5bf9\u8c61\u2014\u2014\u53ea\u6709\u5f53\u8be5\u5bf9\u8c61\u6539\u53d8\u65f6\uff0cuseEffect \u624d\u4f1a\u6267\u884c\u56de\u8c03\u51fd\u6570"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u4f20\u5165\u4e00\u4e2a\u7a7a\u6570\u7ec4"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4ec0\u4e48\u90fd\u4e0d\u4f20\u9012\uff0c\u90a3\u4e48\u6bcf\u6b21\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3\u7684\u65f6\u5019\uff0creact \u90fd\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570\uff0c\u5982\u679c\u56de\u8c03\u51fd\u6570\u4e4b\u4e2d\u53c8\u6709 setState\uff0c\u5c31\u6210\u529f\u7684\u65e0\u9650\u5faa\u73af\u4e86\uff08"}),"\n",(0,t.jsx)(n.p,{children:"useEffect Clean up: useEffect \u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff08\u56de\u8c03\u51fd\u6570 f\uff09\u53ef\u4ee5\u6709\u975e\u7a7a\u8fd4\u56de\u503c\uff0c\u8fd4\u56de\u53e6\u4e00\u4e2a\u51fd\u6570 g \u65f6\uff0c\u5f53\u5c4f\u5e55\u4e0a unmount \u8be5\u7ec4\u4ef6\u65f6\uff0c\u8be5\u51fd\u6570(g)\u4f1a\u88ab\u8c03\u7528\uff0c\u4e00\u822c\u7528\u4e8e\u6e05\u7406"}),"\n",(0,t.jsx)(n.h5,{id:"fetching-data",children:"Fetching Data"}),"\n",(0,t.jsx)(n.p,{children:"JSON Place Holder"}),"\n",(0,t.jsx)(n.p,{children:"Sending HTTP Request:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u539f\u751f Fetch \u65b9\u6cd5"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Axios \u5e93 [recommended]"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Promise: A promise is an object that holds the eventual result or failure of an asynchronous operation"})}),"\n",(0,t.jsx)(n.p,{children:"promise \u6709\u4e00\u4e2a then() \u65b9\u6cd5\uff0c\u7528\u4e8e\u6267\u884c\u56de\u8c03\u51fd\u6570"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Handling Errors"})}),"\n",(0,t.jsx)(n.p,{children:"promise \u6709\u4e00\u4e2a catch()\u65b9\u6cd5\uff0c\u6355\u83b7\u9519\u8bef\uff0c\u6267\u884c\u56de\u8c03"}),"\n",(0,t.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import axios from "axios";\nimport { useEffect, useState } from "react";\ninterface User {\n  id: number;\n  name: string;\n}\nfunction App() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [err, setError] = useState("");\n  useEffect(() => {\n    axios\n      .get("https://jsonplaceholder.typicode.com/users")\n      .then((res) => setUsers(res.data))\n      .catch((err) => setError(err.message));\n  }, []);\n  return (\n    <>\n      {err && <p className="text-danger"> {err}</p>}\n      <ul>\n        {users.map((user) => (\n          <li key={user.id}>{user.name}</li>\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u662f\u4f7f\u7528 async \u548c await\uff0c\u4f46\u7565\u7e41\u7410"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"ps:\u5b9e\u9645\u4e0a then \u548c catch \u597d\u50cf\u662f\u540e\u9762\u624d\u63d0\u51fa\u6765\u7684\u8bed\u6cd5\u7cd6\uff08"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'useEffect(() => {\n  const fetchUsers = async () => {\n    try {\n      const res = await axios.get("https://jsonplaceholder.typicode.com/users");\n      setUsers(res.data);\n    } catch (err) {\n      setError((err as AxiosError).message);\n    }\n  };\n  fetchUsers();\n}, []);\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u5f53\u7528\u6237\u79bb\u5f00\u6b64\u9875\u600e\u4e48\u529e\uff1f\u4e0d\u518d\u9700\u8981 Fetch data\uff0c\u4f7f\u7528\u5148\u524d\u63d0\u5230\u7684 useEffect Clean up"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 Controller"}),"\n",(0,t.jsx)(n.p,{children:"AbortController class\uff0c\u6d4f\u89c8\u5668\u5185\u7f6e\uff0c\u5141\u8bb8\u53d6\u6d88\u6216\u4e2d\u6b62\u5f02\u6b65\u64cd\u4f5c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'  const controller = new AbortController();\n  useEffect(() => {\n    axios\n      .get("https://jsonplaceholder.typicode.com/users"\uff0c {signal: controller.signal})\n      .then((res) => setUsers(res.data))\n      .catch((err) => {\n        if (err instanceof CanceledError) return;\n        setError(err.message);\n      });\n    return () => controller.abort();\n  }, []);\n'})}),"\n",(0,t.jsx)(n.p,{children:"Loading \u6548\u679c\uff1a\u6d4b\u8bd5\uff0c\u5728 network \u9009\u9879\u5361\u91cc\u9762\u52a0 throtting \u6a21\u62df\u6162\u901f\u60c5\u51b5"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u4e24\u4e2a\u7ec4\u4ef6\u4e4b\u95f4\u52a0\u70b9\u7a7a\u767d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'<ComponentA />{" "}<ComponentB />\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u66f4\u4f18\u7684\u5904\u7406\uff0c\u4f7f\u7528 ListGroup \u7c7b\u548c flex \u7c7b\u6765\u8c03\u6574\u7a7a\u95f4\u5e03\u5c40"}),"\n",(0,t.jsx)(n.h5,{id:"crud",children:"CRUD"}),"\n",(0,t.jsx)(n.p,{children:"\u5220\u9664 Delete\uff1adelete"}),"\n",(0,t.jsx)(n.p,{children:"\u4e50\u89c2\u66f4\u65b0/\u60b2\u89c2\u66f4\u65b0\uff1a\u5148\u66f4\u65b0 UI \u54cd\u5e94\uff08\u9884\u8ba1 Server \u66f4\u65b0\u4f1a\u6210\u529f\uff09\u8fd8\u662f\u5148\u66f4\u65b0 Server \u6570\u636e\uff08\u9884\u8ba1 Server \u66f4\u65b0\u4f1a\u5931\u8d25\uff09"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u4e00\u822c\u4e3a\u4e86\u7528\u6237\u4f53\u9a8c\u4f1a\u9009\u62e9\u4e50\u89c2\u66f4\u65b0"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const onDelete = (id: number) => {\n  const originalUsers = [...users];\n  setUsers(users.filter((user) => user.id !== id));\n  // \u5148setUsers\u518d\u8ba9server delete\uff0c\u4e50\u89c2\u66f4\u65b0\n  axios\n    .delete(`https://jsonplaceholder.typicode.com/xusers/${id}`)\n    .catch((err) => {\n      setError(err.message);\n      setUsers(originalUsers); // \u9519\u8bef\u65f6\u8981\u56de\u5230\u539f\u59cb\u72b6\u6001\n    });\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u521b\u5efa Create: post"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'axios.post("https://jsonplaceholder.typicode.com/users", newUser).then((res)=>setUsers[res.data, ...users]).catch((err)=>{\n    setError(err.message);\n    setUsers(originalUsers);\n})\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u66f4\u65b0 Update: put/patch"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const onUpdate = (User: User) => {\n  const originalUsers = [...users];\n  const newUser = { ...User, name: User.name + "!" };\n  setUsers(users.map((user) => (user.id === User.id ? newUser : user)));\n  axios\n    .patch("https://jsonplaceholder.typicode.com/users/" + User.id, newUser)\n    .catch((err) => {\n      setError(err.message);\n      setUsers(originalUsers);\n    });\n};\n'})}),"\n",(0,t.jsx)(n.p,{children:"A reusable API client\uff1a \u601d\u8003\u600e\u4e48\u91cd\u6784\u89e3\u8026"}),"\n",(0,t.jsx)(n.p,{children:"\u5c06 axios \u548c baseURL \u653e\u5230 service \u6587\u4ef6\u5939\u91cc\u9762\u53bb"}),"\n",(0,t.jsx)(n.p,{children:"\u8fdb\u4e00\u6b65\uff0c\u518d\u628a\u6574\u4e2a HTTPRequest \u7684\u903b\u8f91\u653e\u5230 userService \u91cc\u9762\u53bb"}),"\n",(0,t.jsx)(n.p,{children:"\u518d\u8fdb\u4e00\u6b65\uff0c\u4f7f\u7528\u6cdb\u578b\u628a userService \u7684\u903b\u8f91\u653e\u5230 HTTPService \u91cc\u9762\u53bb"}),"\n",(0,t.jsx)(n.p,{children:"\u518d\u8fdb\u4e00\u6b65\uff0c\u4e00\u5806 Hook \u53ef\u4ee5\u653e\u5230\u4e00\u4e2a\u5927\u7684\u81ea\u5b9a\u4e49 Hook \u91cc\u9762\u53bb"}),"\n",(0,t.jsx)(n.p,{children:"\u4e00\u4e2a Hook \u6ca1\u4ec0\u4e48\u795e\u5947\u7684\uff0c\u5c31\u662f\u4e00\u4e2a\u5bfc\u51fa{obj, setObj, ...}\u7684\u51fd\u6570\u7ec4\u4ef6\uff0c\u53ea\u8981\u5b83\u7684\u5185\u90e8\u8fd8\u662f useState \u4e4b\u7c7b\uff0c\u5c31\u4e0d\u9700\u8981\u63a2\u77e5\u5230 React \u7684\u5e95\u5c42 DOM"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"build-a-project",children:"Build A Project!"}),"\n",(0,t.jsx)(n.h4,{id:"\u6d41\u7a0b\u5b9e\u5f55",children:"\u6d41\u7a0b\u5b9e\u5f55"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u5982\u679c\u60f3\u505a\u7684\u6700\u597d\u5bf9\u7740 mosh \u7684\u89c6\u9891\u505a\uff0c\u8fd9\u91cc\u53ea\u662f\u6742\u4e71\u7684\u4e00\u70b9\u505a\u7684\u7b14\u8bb0"})}),"\n",(0,t.jsx)(n.p,{children:"chakra UI: \u5b98\u7f51\u627e vite \u4e0b\u8f7d\u7248\u672c\uff0c\u7136\u540e ChakraProvider \u5305\u88f9 App"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:['ps: \u5982\u679c chakra UI \u5f15\u5165\u7684\u7ec4\u4ef6\u62a5\u9519 "Expression produces a union type that is too complex to represent."\uff0c \u522b\u614c\uff0c\u80fd\u6b63\u5e38\u8fd0\u884c\uff0c\u8fd9\u662f ts \u7248\u672c\u4e0d\u5339\u914d\u5bfc\u81f4\u7684\uff0c \u53c2\u89c1',(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/74847053/how-to-fix-expression-produces-a-union-type-that-is-too-complex-to-represent-t",children:"\u6b64\u5904"}),"\uff0c \u5c06 ts \u7248\u672c\u964d\u4e3a\u5de5\u4f5c\u533a\u7248\u672c\u5373\u53ef"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u524d\u7aef\u90e8\u5206\uff1a"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://chakra-ui.com/docs/components/grid/usage",children:"Grid"})}),"\n",(0,t.jsx)(n.p,{children:"1fr\uff1a \u4e00\u4e2a\u5206\u6570\u5355\u4f4d"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\u5728 CSS Grid \u4e2d\uff0c",(0,t.jsx)(n.code,{children:"fr"}),' \u662f\u4e00\u4e2a\u5355\u4f4d\uff0c\u4ee3\u8868 "fractional unit"\uff08\u5206\u6570\u5355\u4f4d\uff09\u3002\u5b83\u7528\u4e8e\u5206\u914d\u53ef\u7528\u7a7a\u95f4\u3002']}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u8bbe\u7f6e ",(0,t.jsx)(n.code,{children:"grid-template-columns: repeat(5, 1fr);"}),"\uff0c\u8fd9\u610f\u5473\u7740\u4f60\u60f3\u8981\u521b\u5efa\u4e94\u5217\uff0c\u6bcf\u5217\u7684\u5bbd\u5ea6\u90fd\u662f\u53ef\u7528\u7a7a\u95f4\u7684\u4e00\u4e2a\u7b49\u4efd\u3002\u4f8b\u5982\uff0c\u5982\u679c\u53ef\u7528\u7a7a\u95f4\u662f 500px\uff0c\u90a3\u4e48\u6bcf\u5217\u7684\u5bbd\u5ea6\u5c31\u662f 100px\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u9488\u5bf9\u79fb\u52a8\u7aef\u548c\u5927\u5c4f\u5e55\u8bbe\u8ba1 UI\uff0c F12 \u6a21\u62df\u79fb\u52a8\u7aef"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useState } from "react";\nimport reactLogo from "./assets/react.svg";\nimport "./App.css";\nimport { Grid, GridItem, Show } from "@chakra-ui/react";\nfunction App() {\n  const templateAreas = {\n    base: `"nav" "main"`, // \u79fb\u52a8\u7aef\u5c0f\u5c4f\u5e55\u6ca1\u6709aside\u4fa7\u8fb9\u680f\n    lg: `"nav nav" "aside main"`, // > 1000px\n  };\n  return (\n    <div className="App">\n      <Grid templateAreas={templateAreas}>\n        <GridItem area="nav" bg="coral">\n          Nav\n        </GridItem>\n        <Show above="lg">\n          <GridItem area="aside" bg="gold">\n            Aside\n          </GridItem>\n        </Show>\n\n        <GridItem area="main" bg="dodgerblue">\n          Main\n        </GridItem>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,t.jsx)(n.p,{children:"theme\uff1acolormode"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 colorMode \u6765\u5b9e\u73b0\u6697\u8272\u6a21\u5f0f\u548c\u4eae\u8272\u6a21\u5f0f\u7684\u5207\u6362\uff08\u5207\u5b8c F12-> App-> storage\uff0c\u6e05\u9664 local storage \u7684\u989c\u8272 mode \u9a8c\u8bc1\uff09"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 useColorMode \u548c Switch \u6765\u505a\u5f00\u5173"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 Hstack \u548c justify-content \u6765\u8c03\u6574\u4f4d\u7f6e"}),"\n",(0,t.jsx)(n.p,{children:"FetchGames:"}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u5b98\u65b9 api \u6587\u6863\uff0caxios \u5efa\u4e00\u4e2a api-client (create \u65b9\u6cd5\uff0c baseURL + key), \u7136\u540e\u518d\u7528 get \u65b9\u6cd5 fetch \u6570\u636e"}),"\n",(0,t.jsx)(n.p,{children:"GameCard && GameGrid: \u4f7f\u7528 SimpleGrid && Card \u7ec4\u4ef6"}),"\n",(0,t.jsx)(n.p,{children:"\u79fb\u52a8\u7aef\u9002\u914d\uff1a\u4e0d\u786c\u7f16\u7801 column\uff0c\u4f20\u5165\u4e00\u4e2a\u5bf9\u8c61{sm: 1, md: 2, lg: 3, xl: 5}"}),"\n",(0,t.jsxs)(n.p,{children:["\u6dfb\u52a0\u56fe\u6807\uff1a\u4f7f\u7528\u7b2c\u4e09\u65b9\u56fe\u6807\u5e93 ",(0,t.jsx)(n.a,{href:"https://chakra-ui.com/docs/components/icon/usage#using-a-third-party-icon-library",children:"https://chakra-ui.com/docs/components/icon/usage#using-a-third-party-icon-library"})]}),"\n",(0,t.jsx)(n.p,{children:"\u5148\u4ece API \u62ff\u5230 slug\uff08\u5168\u5c0f\u5199\u540d\u5b57\uff09\uff0c\u518d\u5199\u4e00\u4e2a map \u51fd\u6570\u6765\u5bf9\u5e94\u56fe\u6807"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const IconMap: { [key: string]: IconType } = {\n  pc: FaWindows,\n  playstation: FaPlaystation,\n  xbox: FaXbox,\n  nintendo: SiNintendo,\n  mac: FaApple,\n  ios: MdPhoneIphone,\n  linux: FaLinux,\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6ce8\u610f=\u548c...\u5728\u4f20\u9012 props \u65f6\u5019\u7684\u533a\u522b"}),"\n",(0,t.jsx)(n.p,{children:"props={} \uff0c\u4f20\u9012\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\uff1b ...\u4f20\u9012\u7684\u662f\u5bf9\u8c61\u91cc\u9762\u6240\u6709\u7684\u5c5e\u6027"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"        <PlatformIconList\n          {...(game.platforms.map((item) => item.platform) as Platform[])}\n        /> // \u4f20\u9012\u7684\u662f\u8868\u8fbe\u5f0f\u5bf9\u8c61\u91cc\u9762\u7684\u6570\u7ec4\u5c55\u5f00\u540e\u7684\u7ed3\u679c\n        <PlatformIconList\n          platforms={(game.platforms.map((item) => item.platform) as Platform[])}\n        /> // \u4f20\u9012\u7684\u662f\u4e00\u4e2a\u6570\u7ec4\u7528{}\u5305\u88f9\u540e\u7684\u5bf9\u8c61\n// \u7528\u90a3\u79cd\u53d6\u51b3\u4e8e\u5b50\u7ec4\u4ef6\u63a5\u53d7\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\u8fd8\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u4e00\u822c\u662f\u5728\u5b50\u7ec4\u4ef6\u5b9a\u4e49\u4e00\u4e2a\u63a5\u53e3\uff0c\u7136\u540e\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5e76\u7528\u89e3\u6784\u63a5\u6536\ninterface PlatformIconListProps {\n  platforms: Platform[];\n}\nconst PlatformIconList = ({ platforms }: PlatformIconListProps) => {\n    // \u7c7b\u4f3c\u8fd9\u6837\uff0c\u8fd9\u6837\u5728\u4f20\u9012\u7684\u65f6\u5019\u5c31\u662f\u4f20\u4e00\u4e2a\u6570\u7ec4\u7528{}\u5305\u88f9\u540e\u7684\u5bf9\u8c61\uff0c\u5373=\u8bed\u6cd5\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6dfb\u52a0\u8bc4\u5206"}),"\n",(0,t.jsx)(n.p,{children:"Badge(\u5fbd\u7ae0)\u7c7b"}),"\n",(0,t.jsx)(n.p,{children:"\u6dfb\u52a0\u52a0\u8f7d\u65f6\u9aa8\u67b6"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://chakra-ui.com/docs/components/skeleton/usage",children:"skeleton \u7c7b"})}),"\n",(0,t.jsx)(n.p,{children:"refactor\uff1a\u5c06\u91cd\u590d\u7684\u6837\u5f0f\u63d0\u51fa\u6210\u4e3a\u4e00\u4e2a GameCardContainer \u7ec4\u4ef6"}),"\n",(0,t.jsx)(n.p,{children:"fetch the genres\uff1a \u7c7b\u4f3c useGames \u7684 custom hook\uff0c\u53d6\u6765\u6570\u636e\u4e4b\u540e\u518d\u653e\u5230 Aside \u4f4d\u7f6e\u4e0a\u5373\u53ef"}),"\n",(0,t.jsx)(n.p,{children:"\u4fa7\u8fb9\u680f\u52a0 Icon: \u8c03 padding(\u5185\u95f4\u8ddd)\u548c spacing(\u5916\u95f4\u8ddd) , \u5229\u7528 Grid \u7c7b\u7684 templateColumn 200px 1fr \u6765\u8fbe\u5230\u81ea\u9002\u5e94"}),"\n",(0,t.jsx)(n.p,{children:"\u5b8c\u5584\u6839\u636e genre \u9009\u62e9\u5448\u73b0\u5217\u8868"}),"\n",(0,t.jsx)(n.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f\u5982\u4f55\u4fee\u6539 useEffect\uff0c\u5982\u4f55\u4e0a\u63d0\u63a7\u5236\u72b6\u6001\u548c\u4e0b\u653e\u63a7\u5236\u903b\u8f91\u548c axios \u4e4b\u4e2d\u65b9\u6cd5\u6240\u5e26\u7684 AxiosRequestConfig \u53c2\u6570\u7684\u4f7f\u7528(\u5728\u8bf7\u6c42\u4f53\u4e4b\u4e2d\u7528\u6765\u643a\u5e26\u6570\u636e)"}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u91cc\u7684\u903b\u8f91\u662f\u6bcf\u6b21\u5207\u6362 selectedGenre \u90fd\u91cd\u65b0\u5411 API\uff08\u6a21\u62df\u7684\u540e\u7aef\uff09\u8bf7\u6c42\u4e00\u6b21\u6570\u636e\uff0c\u800c\u4e0d\u662f\u7528\u5148\u524d\u8bf7\u6c42\u7684\u6570\u636e\u505a filter,filter \u7684\u903b\u8f91\u653e\u7ed9\u540e\u7aef\u505a\u4e86"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const useGames = (selectedGenre: Genre | null) => {\n  return useData<Game>("/games", { params: { genres: selectedGenre?.id } }, [\n    selectedGenre,\n  ]);\n};\n'})}),"\n",(0,t.jsx)(n.p,{children:"useData \u7684\u5904\u7406\u65b9\u6cd5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useEffect, useState } from "react";\nimport ApiClient from "./Api-Client";\nimport { AxiosRequestConfig, CanceledError } from "axios";\ninterface dataResponse<T> {\n  count: number;\n  results: T[];\n}\nconst useData = <T,>(\n  endpoint: string,\n  config?: AxiosRequestConfig,\n  dep?: any[]\n) => {\n  const [data, setData] = useState<T[]>([]);\n  const [err, setError] = useState<string>("");\n  const [loading, setLoading] = useState(true);\n  const controller = new AbortController();\n  const FetchGames = useEffect(\n    () => {\n      setLoading(true); // \u6bcf\u6b21\u91cd\u65b0\u53d6\u6570\u636e\u91cd\u7f6eloading\n      ApiClient.get<dataResponse<T>>(endpoint, {\n        signal: controller.signal,\n        ...config,\n      })\n        .then((res) => {\n          setData(res.data.results);\n          setLoading(false);\n        })\n        .catch((err) => {\n          if (err instanceof CanceledError) return;\n          setError(err.message);\n          setLoading(false);\n        });\n    },\n    dep ? [...dep] : []\n  );\n  return { data, err, loading };\n};\nexport default useData;\n'})}),"\n",(0,t.jsx)(n.p,{children:"highlight selectedGenre: fontweight \u5c5e\u6027\u5373\u53ef"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'fontWeight={genre.id === selectedGenre?.id ? "bold" : "normal"}\n'})}),"\n",(0,t.jsx)(n.p,{children:"filterByPlatform"}),"\n",(0,t.jsx)(n.p,{children:"Menu \u7c7b \u4e0b\u62c9\u5217\u8868\uff0c \u5982\u679c\u6709\u9519\u8bef\uff0c\u5b81\u613f\u4ec0\u4e48\u90fd\u4e0d\u8fd4\u56de\uff08\u53d6\u6d88\u8fd9\u4e2a\u7ec4\u4ef6\uff09\u800c\u4e0d\u662f\u5c06\u9519\u8bef\u6254\u5728\u7528\u6237\u8138\u4e0a\u7684\u8bbe\u8ba1\u539f\u5219"}),"\n",(0,t.jsx)(n.p,{children:"\u5176\u4ed6\u903b\u8f91\u540c genre"}),"\n",(0,t.jsx)(n.p,{children:"\u91cd\u6784\uff1a\u4f7f\u7528 Query Object Model\uff0c\u4f20\u5165\u7684\u5404\u4e2a select \u7684 props \u6253\u5305\u6210 Query"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0b\u4e00\u6b65\uff1a \u52a0\u6392\u5e8f Sort\uff0c\u591a\u79cd\u6392\u5e8f\u987a\u5e8f\u8fd8\u662f\u4e00\u4e2a Menu"}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4e00\u76f4\u5411 api \u53d1\u9001\u8bf7\u6c42\uff08\u4f53\u73b0\u5728 UI \u4e0a\u662f\u4e00\u76f4\u95ea\u70c1\uff09, ",(0,t.jsx)(n.strong,{children:"\u53ef\u80fd\u662f\u4e0d\u6070\u5f53\u5730\u4f20\u9012\u4e86\u89e3\u6784\u53c8\u91cd\u6784\u7684\u5bf9\u8c61\uff08\u5373\u4f7f\u662f\u4e34\u65f6\u7684\u5bf9\u8c61\uff09\uff0c\u8fd9\u6837\u4e4b\u540e\uff0c\u770b\u8d77\u6765\u5bf9\u8c61\u5185\u90e8\u7684\u503c\u6ca1\u6709\u53d8\u5316\uff0c\u4f46\u662f\u5bf9\u8c61\u4e0d\u65ad\u5730\u66f4\u65b0\uff0c\u7136\u540e React \u4e00\u76f4\u91cd\u590d\u6e32\u67d3"})]}),"\n",(0,t.jsx)(n.p,{children:"\u5904\u7406\u6ca1\u6709\u56fe\u7247\u7684\u60c5\u51b5\uff1aImage \u7684 src \u4e0d\u80fd\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u9700\u8981\u901a\u8fc7 import \u5bfc\u5165"}),"\n",(0,t.jsx)(n.p,{children:"\u52a0\u4e0a\u52a8\u6001\u7684 Heading"}),"\n",(0,t.jsxs)(n.p,{children:['\u5904\u7406 Button \u7684\u6587\u672c\u548c\u56fe\u7247\u91cd\u53e0\u95ee\u9898\uff1a\u6539\u5b83\u7684 whiteSpace \u5c5e\u6027\u4e3a"normal", \u518d\u8bbe\u7f6e textAlign=',"left","\u5de6\u5bf9\u9f50"]}),"\n",(0,t.jsx)(n.p,{children:'objectfit="cover"\u4fdd\u6301\u56fe\u7247\u957f\u5bbd\u6bd4'}),"\n",(0,t.jsx)(n.p,{children:"shipping static data\uff0c\u5f53\u7136\uff0c\u4f5c\u4e3a\u4e4b\u524d\u9009\u62e9\u7684\u56de\u65cb\u9556\uff0c\u4e5f\u53ef\u4ee5\u9009\u62e9\u5c06 Genre\uff0cPlatform \u8fd9\u79cd\u4e0d\u600e\u4e48\u6539\u53d8\u7684\u6570\u636e\u5b58\u50a8\u5728\u672c\u5730\u4e00\u4e2a data \u6587\u4ef6\u5939\u4e4b\u4e2d\uff0c\u800c\u4e0d\u662f\u6bcf\u6b21\u90fd\u5230 API \u91cc\u9762\u7684\u67e5\u8be2"}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u4f7f\u7528\u5b98\u65b9\u6587\u6863\u4e0a\u7684\u65b9\u6cd5\u81ea\u5b9a\u4e49\u989c\u8272\u4e3b\u9898"}),"\n",(0,t.jsx)(n.h4,{id:"\u90e8\u7f72",children:"\u90e8\u7f72"}),"\n",(0,t.jsx)(n.p,{children:"\u5148\u672c\u5730\u90e8\u7f72"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4f1a\u751f\u6210 dist \u6587\u4ef6\u5939\uff0c\u91cc\u9762\u6709\u7f16\u8bd1\u5b8c\u7684 js \u4ee3\u7801\uff0c\u6240\u6709\u9700\u8981\u7684\u5916\u90e8\u5305\u548c asset......"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 Vercel\uff08",(0,t.jsx)(n.a,{href:"https://vercel.com/%EF%BC%89%E4%B8%8A%E9%83%A8%E7%BD%B2",children:"https://vercel.com/\uff09\u4e0a\u90e8\u7f72"})]}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 github \u8d26\u53f7\u6ce8\u518c\uff0c\u767b\u5f55\uff0c\u4e0b\u8f7d CLI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -g vercel\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4e4b\u540e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"vercel\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u63a5\u53d7\u9ed8\u8ba4\u503c\u5373\u53ef\u90e8\u7f72"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"ps: \u8fd9\u4e2a\u597d\u50cf\u5728\u4f7f\u7528 cnpm \u7684\u65f6\u5019\u4f1a\u6709\u95ee\u9898\uff0c\u6211\u6ca1\u6709\u90e8\u7f72\u6210\u529f\uff0c\u4e24\u8005\u4ea4\u4e92\u4f1a\u6709\u95ee\u9898"})}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"whats-next",children:"What's Next"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Routing,"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"State Management,"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Fetching Data With React Query"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Authentication"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Error Handling"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Performance Optimazation"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"......"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u8fdb\u9636\u90e8\u5206",children:"\u8fdb\u9636\u90e8\u5206"}),"\n",(0,t.jsx)(n.p,{children:"\u8bfe\u7a0b\u5185\u5bb9\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"React Query : \u6570\u636e\u7ba1\u7406\u548c\u7f13\u5b58"}),"\n",(0,t.jsx)(n.li,{children:"Global State Management"}),"\n",(0,t.jsx)(n.li,{children:"React Router"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"react-query",children:"React Query"}),"\n",(0,t.jsx)(n.h4,{id:"basic-query",children:"basic query"}),"\n",(0,t.jsx)(n.p,{children:"What is react query\uff1f"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e00\u4e2a\u7ba1\u7406\u6570\u636e\u7684\u5e93\uff1a A powerful lib for ",(0,t.jsx)(n.strong,{children:"managing DATA FETCHING and CACHING"})," in React apps"]}),"\n",(0,t.jsx)(n.p,{children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm i @tanstack/react-query\n"})}),"\n",(0,t.jsx)(n.p,{children:"QueryClient \u662f\u6838\u5fc3\u7ec4\u4ef6\uff1a\u5728\u9879\u76ee\u4e4b\u4e2d\u542f\u7528 React Query"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import "bootstrap/dist/css/bootstrap.css";\nimport React from "react";\nimport ReactDOM from "react-dom/client";\nimport { QueryClient, QueryClientProvider } from "@tanstack/react-query";\nimport App from "./App";\nimport "./index.css";\n\nconst queryClient = new QueryClient();\nReactDOM.createRoot(document.getElementById("root") as HTMLElement).render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </React.StrictMode>\n);\n'})}),"\n",(0,t.jsx)(n.p,{children:"useQuery Hook:"}),"\n",(0,t.jsx)(n.p,{children:"\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u81f3\u5c11\u8981\u6709\u4e24\u4e2a\u5c5e\u6027\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["queryKey: \u7528\u4e8e\u6807\u8bc6\u6570\u636e\u5728 Query \u4e4b\u4e2d\u5b58\u50a8\u7684\u552f\u4e00\u6027\u7684\u952e\uff0ctype \u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\uff08\u6570\u7ec4\u53ef\u4ee5\u5305\u542b\u66f4\u591a\u7684\u4fe1\u606f\uff0c\u4e00\u822c\u5728\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u653e\u540d\u5b57\uff0c\u540e\u9762\u653e\u53c2\u6570\uff0c\u5982",(0,t.jsx)(n.code,{children:"queryKey:['todos', userId]"}),"\uff09"]}),"\n",(0,t.jsx)(n.li,{children:"queryFn: \u4e00\u4e2a\u8fd4\u56de Promise \u7684\u51fd\u6570\uff0c\u8fd9\u4e2a Promise \u8981\u4e48\u89e3\u6790\u89e3\u6790\u6570\u636e\uff0c\u8981\u4e48\u629b\u51fa\u9519\u8bef"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u6709\u4ee5\u4e0b\u91cd\u8981\u5c5e\u6027\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"data: \u5b58\u653e Promise \u89e3\u6790\u7684\u503c( if isSuccess \u5c5e\u6027\u4e3a\u771f)"}),"\n",(0,t.jsx)(n.li,{children:"isError: \u5982\u679c isError, \u5219\u53ef\u4ee5\u901a\u8fc7 error \u5c5e\u6027\u5f97\u5230\u9519\u8bef"}),"\n",(0,t.jsx)(n.li,{children:"isPending\uff1a\u5982\u679c isPending, \u67e5\u8be2\u6b63\u5728\u8fdb\u884c\u4e4b\u4e2d\uff0c\u5c1a\u65e0\u7ed3\u679c"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"ps: \u5728\u6709\u4e9b\u7248\u672c\u4e4b\u4e2d\uff0cisPending \u7684\u540d\u5b57\u662f isLoading"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 useQuery Hook \u7684\u597d\u5904\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Auto retries: \u53ef\u4ee5\u914d\u7f6e React Query\uff0c\u8ba9\u5b83\u81ea\u52a8\u91cd\u8bd5\u51e0\u6b21"}),"\n",(0,t.jsx)(n.li,{children:"Auto reFetch\uff1a\u53ef\u4ee5\u914d\u7f6e React Query\uff0c \u8ba9\u5b83\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u81ea\u52a8\u91cd\u65b0\u4ece\u670d\u52a1\u5668\u53d6\u6570\u636e"}),"\n",(0,t.jsx)(n.li,{children:"\u66f4\u7b80\u6d01\u7684 Error handling && Loading handling && fecthing , \u907f\u514d useState \u548c useEffect \u7684\u6ee5\u7528"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"\u63d0\u4f9b\u6570\u636e\u7f13\u5b58"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"useEffect \u7684 dep \u6570\u7ec4\u5b9e\u9645\u4e0a\u662f\u901a\u8fc7 queryKey \u6765\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\u7684\uff1a"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u5177\u4f53\u5730\u8bf4\uff0c\u5c06 dep \u901a\u8fc7\u5b57\u7b26\u4e32\u6570\u7ec4\u62fc\u63a5\u6216\u8005\u4f20\u9012\u5bf9\u8c61\u7b49\u62fc\u5230 queryKey \u4e0a\u4e4b\u540e\uff0c\u5982\u679c dep \u6539\u53d8\uff0c\u90a3\u4e48\u5c31\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 queryKey, React Query \u770b\u7f13\u5b58\u91cc\u6ca1\u6709\u5c31\u6267\u884c\u56de\u8c03\u51fd\u6570\u4e86"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u793a\u4f8b\u4ee3\u7801\uff0cuseQuery \u53d6\u4ee3\u4e86 useState\uff0c useEffect \u7b49\u4ee3\u7801"}),"\n",(0,t.jsx)(n.p,{children:"\u6ce8\u610f useQuery \u4e00\u5b9a\u8981\u653e\u5728 React \u7ec4\u4ef6\u5185\u90e8"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useQuery } from "@tanstack/react-query";\nimport axios from "axios";\n\ninterface Todo {\n  id: number;\n  title: string;\n  userId: number;\n  completed: boolean;\n}\nconst fetchTodos = () =>\n  axios\n    .get<Todo[]>("https://jsonplaceholder.typicode.com/todos")\n    .then((res) => res.data);\n\nconst TodoList = () => {\n  // if (isLoading) return <p>Loading...</p>;\n  const { isError, data, error } = useQuery<Todo[], Error>({\n    queryKey: ["todos"],\n    queryFn: fetchTodos,\n  });\n  if (isError) return <p>{error.message}</p>;\n\n  return (\n    <ul className="list-group">\n      {data?.map((todo) => (\n        <li key={todo.id} className="list-group-item">\n          {todo.title}\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default TodoList;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e\u91cd\u6784\u4e00\u4e0b\uff0c\u628a fetchdata \u76f8\u5173\u903b\u8f91\u5c01\u88c5\u5230 useTodo \u7684 hook \u91cc\u9762\u53bb"}),"\n",(0,t.jsx)(n.p,{children:"React Query Devtools \u5de5\u5177"}),"\n",(0,t.jsx)(n.p,{children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"npm install @tanstack/react-query-devtools\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u975e\u5e38\u6709\u7528\uff01"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5b66\u5230\u7684\u4e00\u4e2a\u6559\u8bad\uff1a\n",(0,t.jsx)(n.strong,{children:"\u4e0d\u8981\u7528 cnpm\uff0c\u78b0\u90fd\u4e0d\u8981\u78b0\uff0c\u4f1a\u53d8\u5f97\u4e0d\u5e78"}),"\n\u4e0d\u77e5\u9053\u7f51\u4e0a\u90a3\u4e48\u591a\u590d\u5236\u7c98\u8d34 cnpm \u7684\u81ea\u5df1\u6709\u6ca1\u6709\u7528\u8fc7"]}),"\n",(0,t.jsx)(n.p,{children:"\u8bf7\u7528 nrm\uff0c\u7136\u540e\u5728 taobao\u3001tencent \u548c sjtu \u4e09\u4e2a\u6e90\u4e0a\u6a2a\u8df3\uff0c\u4e00\u822c\u90fd\u80fd\u627e\u5f97\u5230\u5305\uff0c\u4f46\u4ed6\u4eec\u6bcf\u4e00\u4e2a\u90fd\u7f3a\u70b9\u4e1c\u897f\uff0c\u5355\u72ec\u7528\u8fd8\u662f\u4e0d\u884c\ncnpm \u4e0b\u662f\u80fd\u4e0b\uff0c\u4e0b\u5b8c\u4e86\u5168\u662f\u4e71\u4e03\u516b\u7cdf\u7684\u9519\u8bef\uff0c\u5e76\u4e14\u6839\u672c\u627e\u4e0d\u5230\u4fee\u7684\u65b9\u6cd5"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"cnpm \u7684\u51fa\u73b0\u4e86\u65e0\u6cd5\u89e3\u51b3\u7684\u95ee\u9898......react query devtools Error: No QueryClient set, use QueryClientProvider to set one"}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u4e2a\u95ee\u9898\u7528\u6b63\u5e38 npm \u4e0d\u4f1a\u51fa\u73b0\uff0c\u4e14\u7f51\u4e0a\u7684\u89e3\u51b3\u65b9\u6cd5\u5bf9 cnpm \u4e0d\u751f\u6548"}),"\n",(0,t.jsxs)(n.p,{children:["\u8fd8\u6709\u5c31\u662f",(0,t.jsx)(n.code,{children:"npm config get proxy"}),"\u770b\u4e00\u4e0b\uff0c\u7b14\u8005\u7684 proxy \u662f null, \u5982\u679c\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u65e0\u6548\u7684 proxy\uff0c\u5916\u9762\u518d\u600e\u4e48\u6362\u6e90\u4ee3\u7406\u90fd\u662f\u6ca1\u7528\u7684"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -g nrm\nnrm ls\nnrm add https://mirrors.sjtug.sjtu.edu.cn/npm-registry\nnrm use tencent\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u81ea\u5b9a\u4e49 React Query \u914d\u7f6e: \u4fee\u6539 QueryClient \u5bf9\u8c61, \u4f8b\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      cacheTime: 1000 * 60 * 5, // 5 minutes\n      retry: 3,\n      staleTime: 1000 * 10, // 10 seconds, After how long the data will be treated as old data.\n    },\n  },\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4e09\u79cd\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0creact query \u4f1a\u81ea\u52a8\u66f4\u65b0\u6570\u636e\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7f51\u7edc\u91cd\u8fde"}),"\n",(0,t.jsx)(n.li,{children:"\u7ec4\u4ef6\u88ab\u6302\u8f7d"}),"\n",(0,t.jsx)(n.li,{children:"\u7a97\u53e3\u91cd\u65b0\u805a\u7126\uff08\u5207\u5230\u4e86\u53e6\u4e00\u4e2a tab \u518d\u5207\u56de\u6765\uff09"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\uff0c\u5c06\u5b83\u4eec\u5173\u6389\uff0c\u5982",(0,t.jsx)(n.code,{children:"refetchOnWindowFocus:false"})]}),"\n",(0,t.jsx)(n.p,{children:"react query \u5148\u7ed9\u7528\u6237\u65e7\u7684\u6570\u636e\uff08cache\uff09\uff0c\u540c\u65f6\u5411\u540e\u7aef\u8bf7\u6c42\u65b0\u6570\u636e\uff0c\u66f4\u65b0\u4e4b\u540e\u518d\u91cd\u65b0\u6e32\u67d3"}),"\n",(0,t.jsx)(n.p,{children:"\u5f53\u7136\uff0c\u8fd9\u662f\u5168\u5c40\u7684\u8bbe\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u9488\u5bf9\u6bcf\u4e00\u4e2a query \u81ea\u5b9a\u4e49\uff0c\u5728\u4f20\u5165 useQuery \u7684\u5bf9\u8c61\u91cc\u9762\u52a0\u4e0a cacheTime\uff0cretry \u7b49\u5c5e\u6027\u5373\u53ef"}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u7b5b\u9009\uff1a"}),"\n",(0,t.jsx)(n.p,{children:"\u548c\u5148\u524d\u7684\u4e00\u6837\uff0c\u4e0d\u591a\u8d58\u8ff0\uff1b\u9996\u5148\u4f7f\u7528 useState \u548c select \u7ec4\u4ef6\u7ef4\u62a4\u9009\u62e9\u72b6\u6001\uff0c\u4e4b\u540e\u6839\u636e API \u7684\u8def\u7531\u60c5\u51b5\uff0c\u4f20\u5165\u7b5b\u9009\u5bf9\u5e94 id \u4e4b\u7c7b\u7ec4\u6210\u65b0\u7684 url\uff0c\u6539\u4e00\u4e0b queryKey \u5373\u53ef"}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u5206\u9875\uff1a"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0a\u4ee3\u7801\uff0c \u601d\u8def\u662f\u5c06\u9875\u9762\u4f5c\u4e3a\u7ef4\u62a4\u7684\u53d8\u91cf\uff0c"}),"\n",(0,t.jsxs)(n.p,{children:["\u800c\u540e\u7aef\u8bf7\u6c42\u5b9e\u73b0\u53d1\u9001\u4ece ",(0,t.jsx)(n.code,{children:"\\_start"}),"\u5f00\u59cb\u6570\u76ee\u4e3a \xa0",(0,t.jsx)(n.code,{children:"\\_limit"}),"\u7684\u6570\u636e"]}),"\n",(0,t.jsx)(n.p,{children:"\u5373\u5206\u9875\u5b8c\u5168\u662f\u524d\u7aef\u7684\u5de5\u4f5c\uff0c\u540e\u7aef\u53ea\u8d1f\u8d23\u53d1\u6570\u636e"}),"\n",(0,t.jsx)(n.p,{children:"\u4e0a\u4e00\u9875\u6309\u94ae\u9700\u8981\u5728\u9875\u9762\u4e3a 1 \u662f disable"}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\u4e3a\u4e86\u7528\u6237\u4f53\u9a8c\uff0c\u5728 useQuery \u91cc\u9762\u52a0\u4e0a ",(0,t.jsx)(n.code,{children:"keepPreviousData: true"}),", \u4f7f\u5f97\u5728 loading \u7684\u65f6\u5019\u7ed9\u7528\u6237\u7f13\u5b58\u7684\u5148\u524d\u7ed3\u679c\u800c\u4e0d\u662f\u4e00\u4e2a loading"]}),"\n",(0,t.jsx)(n.p,{children:"usePost.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import axios from "axios";\nimport { useQuery } from "@tanstack/react-query";\n\ninterface Post {\n  id: number;\n  title: string;\n  body: string;\n  userId: number;\n}\nexport interface PostQuery {\n  pagesize: number;\n  page: number;\n}\nconst fetchPosts = <Post,>(params: PostQuery) =>\n  axios\n    .get<Post>("https://jsonplaceholder.typicode.com/todos", {\n      params: {\n        _start: (params.page - 1) * params.pagesize,\n        _limit: params.pagesize,\n      },\n    })\n    .then((res) => res.data);\n\nconst usePosts = (query: PostQuery) => {\n  return useQuery<Post[], Error>({\n    queryKey: ["posts", query],\n    queryFn: () => fetchPosts(query),\n    keepPreviousData: true,\n    cacheTime: 1000 * 60 * 5, // 5 minutes\n    retry: 3,\n    staleTime: 1000 * 10,\n  });\n};\nexport default usePosts;\n'})}),"\n",(0,t.jsx)(n.p,{children:"PostList.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useState } from "react";\nimport usePosts, { PostQuery } from "./components/usePosts";\n\nconst PostList = () => {\n  const [query, setQuery] = useState<PostQuery>({ page: 1, pagesize: 10 });\n  const { error, data: posts, isError, isLoading } = usePosts(query);\n\n  if (error) return <p>{error.message}</p>;\n\n  return (\n    <>\n      {isLoading && <p>Loading...</p>}\n      <ul className="list-group">\n        {posts?.map((post) => (\n          <li key={post.id} className="list-group-item">\n            {post.title}\n          </li>\n        ))}\n      </ul>\n      <button\n        className="btn btn-primary mb-3 ms-1 my-3 "\n        disabled={query.page === 1}\n        onClick={() => setQuery({ ...query, page: query.page - 1 })}\n      >\n        Prev\n      </button>\n      <button\n        className="btn btn-primary mb-3 ms-1 my-3"\n        onClick={() => setQuery({ ...query, page: query.page + 1 })}\n      >\n        Next\n      </button>\n    </>\n  );\n};\n\nexport default PostList;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u65e0\u9650\u9875\u9762\uff08Load More\uff09"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528 React Query \u81ea\u5e26\u7684 useInfiniteQuery \u66ff\u4ee3 useQuery"}),"\n",(0,t.jsx)(n.p,{children:"\u5177\u4f53\u7684\u65b9\u6cd5\u5982\u4e0b"}),"\n",(0,t.jsx)(n.p,{children:"PostList.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useState } from "react";\nimport usePosts, { PostQuery } from "./components/usePosts";\n\nconst PostList = () => {\n  const [query, setQuery] = useState<PostQuery>({ pagesize: 10, pageparam: 1 });\n  const {\n    error,\n    data: posts,\n    isError,\n    isLoading,\n    fetchNextPage,\n    isFetching,\n  } = usePosts(query);\n\n  if (error) return <p>{error.message}</p>;\n\n  return (\n    <>\n      {isLoading && <p>Loading...</p>}\n      <ul className="list-group">\n        {posts?.pages.map((post, index) => (\n          <>\n            {post.map((item) => (\n              <li key={index} className="list-group-item">\n                {item.title}\n              </li>\n            ))}\n          </>\n        ))}\n      </ul>\n      <button\n        className="btn btn-primary mb-3"\n        onClick={() => fetchNextPage()}\n        disabled={isFetching}\n      >\n        {isFetching ? "Loading" : "Load more"}\n      </button>\n    </>\n  );\n};\n\nexport default PostList;\n'})}),"\n",(0,t.jsx)(n.p,{children:"usePosts.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import useData from "./hooks";\nimport axios from "axios";\nimport { useInfiniteQuery, useQuery } from "@tanstack/react-query";\n\ninterface Post {\n  id: number;\n  title: string;\n  body: string;\n  userId: number;\n}\nexport interface PostQuery {\n  pagesize: number;\n  pageparam: number;\n}\nconst fetchPosts = <Post,>(params: PostQuery) =>\n  axios\n    .get<Post>("https://jsonplaceholder.typicode.com/todos", {\n      params: {\n        _start: (params.pageparam - 1) * params.pagesize,\n        _limit: params.pagesize,\n      },\n    })\n    .then((res) => res.data);\n\nconst usePosts = (query: PostQuery) => {\n  return useInfiniteQuery<Post[], Error>({\n    queryKey: ["posts", query],\n    queryFn: () => fetchPosts({ ...query, pageparam: 1 }),\n    keepPreviousData: true,\n    cacheTime: 1000 * 60 * 5, // 5 minutes\n    retry: 3,\n    staleTime: 1000 * 10,\n    getNextPageParam: (lastPage, allPages) => {\n      return lastPage.length > 0 ? allPages.length + 1 : undefined;\n      // \u6b64\u5904\u7528\u5230\u4e86json\u7684\u7279\u6027\uff1a\u5f53\u8bd5\u56fe\u8bbf\u95ee\u4e00\u4e2aallPages\u6570\u7ec4\u4e4b\u4e2d\u4e0d\u5b58\u5728\u7684\u5143\u7d20\uff08\u8d85\u8fc7\u6570\u7ec4\u957f\u5ea6\uff09\uff0c\u4f1a\u8fd4\u56de\u7a7a\u6570\u7ec4\n      // \u6b64\u65f6lastPage\u7684length\u4e3a0\n    },\n  });\n};\nexport default usePosts;\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"mutation",children:"mutation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const queryClient = useQueryClient();\nconst mutation = useMutation({\n  mutationFn: (todo: Todo) =>\n    axios\n      .post<Todo>("https://jsonplaceholder.typicode.com/todos")\n      .then((res) => res.data),\n  onSuccess: (savedData, newData) => {\n    // Approach 1: invalidate the cache and refetch the data, unable to deal with fake backend\n    // queryClient.invalidateQueries({ queryKey: ["todos"] });\n    // Approach 2: reset query data in cache\n    queryClient.setQueryData<Todo[]>(["todos"], (oldTodos) => [\n      newData,\n      ...(oldTodos || []),\n    ]);\n  },\n});\n'})}),"\n",(0,t.jsx)(n.p,{children:"useMutation hook \u6709\u51e0\u4e2a\u91cd\u8981\u5c5e\u6027\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"mutationFn: \u5728\u8c03\u7528 mutation.mutate \u65b9\u6cd5\u7684\u65f6\u5019\u8c03\u7528\u7684\u51fd\u6570\uff0c\u7528\u4e8e\u6267\u884c\u5411\u670d\u52a1\u5668\u7684\u64cd\u4f5c\uff0c\u63a5\u53d7\u4e00\u4e2a object \u4f5c\u4e3a\u53c2\u6570"}),"\n",(0,t.jsxs)(n.li,{children:["onSuccess: mutationFn \u6210\u529f\u7684\u60c5\u51b5\u4e0b\u7684\u56de\u8c03\u51fd\u6570\uff0c\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570 data \u662f mutate \u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c",(0,t.jsx)(n.strong,{children:"\u7b2c\u4e8c\u4e2a\u53c2\u6570"}),"variable \u662f\u4f20\u9012\u7ed9 mutate \u51fd\u6570\u7684\u503c\uff0c\u5728",(0,t.jsx)(n.strong,{children:"\u8fd9\u91cc\u5c31\u662f\u65b0\u7684 Todo \u5143\u7d20"}),"\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f onMutate \u65b9\u6cd5\u7684\u8fd4\u56de\u503c"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"refactor-apiclient",children:"Refactor: ApiClient"}),"\n",(0,t.jsx)(n.p,{children:"\u4e4b\u524d\u7684\u4ee3\u7801\u6709\u8026\u5408\u7684\u95ee\u9898\uff0c\u7f51\u7edc\u76f8\u5173\u7684\u903b\u8f91\u4e0d\u5e94\u8be5\u51fa\u73b0\u5728\u81ea\u5b9a\u4e49 Hook \u4e4b\u4e2d\uff0c\u5e76\u4e14\u8fd9\u4e00\u6bb5\u4ee3\u7801\u8fd8\u591a\u6b21\u91cd\u590d"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u521d\u7ea7\u90e8\u5206\u4e4b\u4e2d\uff0c\u6211\u4eec\u7528\u4e8e\u89e3\u8026\u5408\u7684 ApiClient \u6a21\u5757\u53ea\u662f\u7b80\u77ed\u7684"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import axios from "axios";\n\nconst ApiClient = axios.create({\n  baseURL: "https://api.rawg.io/api",\n  params: { key: "c93352ea62ed4c7d9095e81593af922f" },\n});\n\nexport default ApiClient;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u800c\u5728\u4e2d\u7ea7\u90e8\u5206\u4e4b\u4e2d\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u7ed9\u5b83\u5b8c\u5584\u4e00\u4e0b\uff0c\u53d8\u6210\u4e00\u4e2a\u7c7b, \u4f8b\u5982\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import axios, { Axios, AxiosRequestConfig } from "axios";\n\nconst apiClientInstance = axios.create({\n  baseURL: "https://jsonplaceholder.typicode.com",\n});\n\nclass ApiClient<T> {\n  endpoint: string;\n  constructor(endpoint: string) {\n    this.endpoint = endpoint;\n  }\n  getAll(params?: any) {\n    const config: AxiosRequestConfig = {\n      url: this.endpoint,\n      method: "GET",\n      params: params,\n    };\n    const data = apiClientInstance\n      .get<T[]>(this.endpoint, config)\n      .then((res) => res.data);\n    return data;\n  }\n  post(data: T) {\n    const config: AxiosRequestConfig = {\n      url: this.endpoint,\n      method: "POST",\n      data: data,\n    };\n    const dataResponse = apiClientInstance\n      .post<T>(this.endpoint, data, config)\n      .then((res) => res.data);\n    return dataResponse;\n  }\n}\nexport default ApiClient;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u4e4b\u540e\u6211\u4eec\u7684 useTodos \u548c usePosts \u4e24\u4e2a\u81ea\u5b9a\u4e49 Hook \u7684\u4ee3\u7801\u903b\u8f91\u5c31\u53ef\u4ee5\u5927\u5e45\u5ea6\u7b80\u5316\u4e86"}),"\n",(0,t.jsx)(n.p,{children:"\u4f8b\u5982 useTodos"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useQuery } from "@tanstack/react-query";\nimport ApiClient from "../service/ApiClient";\n\nexport interface Todo {\n  id: number;\n  title: string;\n  userId: number;\n  completed: boolean;\n}\ninterface TodoQuery {\n  pagesize: number;\n  page: number;\n}\n\nconst fetchTodos = () => {\n  const ApiClientInstance = new ApiClient<Todo>("/todos");\n  const data = ApiClientInstance.getAll();\n  return data;\n};\n\nconst useTodos = () => {\n  return useQuery<Todo[], Error>({ queryKey: ["todos"], queryFn: fetchTodos });\n};\nexport default useTodos;\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e00\u884c\u4ee3\u7801",(0,t.jsx)(n.code,{children:"debugger;"})," \u4f1a\u5728\u8fd9\u91cc\u505c\u6b62"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6ce8\u610f\uff1a\u8fd9\u91cc\u56e0\u4e3a\u6211\u4f20\u9012\u7684\u662f fetchTodos \u800c\u4e0d\u662f ApiClientInstance.getAll, \u6240\u4ee5 getAll \u65b9\u6cd5\u88ab\u9690\u5f0f\u5730\u7ed1\u5b9a\u5230\u5bf9\u8c61\u4e0a\u4e86\uff1b\u5982\u679c\u4f20\u9012 ApiClientInstance.getAll, \u4f1a\u51fa\u73b0 this \u4e22\u5931\u7684\u60c5\u51b5\u3002\u8981\u4e00\u52b3\u6c38\u9038\u7684\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e24\u4e2a\u65b9\u6cd5"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5c06",(0,t.jsx)(n.code,{children:"useQuery"}),"\u7684",(0,t.jsx)(n.code,{children:"queryFn"}),"\u6539\u6210",(0,t.jsx)(n.code,{children:"ApiClientInstance.getAll.bind(ApiCilentInstance)"}),",\u4f7f\u7528 bind \u663e\u5f0f\u6307\u5b9a\u8fd9\u4e2a\u65b9\u6cd5\u5c5e\u4e8e ApiClientInstance"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5c06 getAll \u7b49\u65b9\u6cd5\u4ece\u4e00\u822c\u7684\u51fd\u6570\u6539\u4e3a\u7bad\u5934\u51fd\u6570\uff0c\u5982 ",(0,t.jsx)(n.code,{children:"getAll<T>{...}"}),"\u6539\u5199\u6210",(0,t.jsx)(n.code,{children:"getAll\\<T\\>=()=>{...}"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u539f\u7406\uff1a"}),"\n",(0,t.jsxs)(n.p,{children:["\u7bad\u5934\u51fd\u6570\u6ca1\u6709\u81ea\u5df1\u7684 this \u4e0a\u4e0b\u6587\uff0c\u5b83\u7684 this",(0,t.jsx)(n.strong,{children:"\u662f\u7ee7\u627f\u4e8e\u5b9a\u4e49\u65f6\u7684\u4e0a\u4e0b\u6587\uff08\u4e0a\u7ea7\u5bf9\u8c61\uff09\u7684"})]}),"\n",(0,t.jsx)(n.p,{children:"\u4f8b\u5982"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const obj = {\n  value: "hello",\n  print: () => {\n    console.log(this.value);\n  },\n};\n\nobj.print(); // undefined\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u6b64\u5904\uff0c",(0,t.jsx)(n.strong,{children:"this \u4e0d\u4f1a\u88ab\u7ed1\u5b9a\u5230\u8c03\u7528\u65f6\u7684\u4e0a\u4e0b\u6587 obj\uff0c\u800c\u662f\u4f1a\u88ab\u7ed1\u5b9a\u5230\u5b9a\u4e49\u65f6\u7684\u4e0a\u4e0b\u6587\uff08\u5168\u5c40\u4f5c\u7528\u57df\uff09\uff0c\u6240\u8c13\u4e0a\u4e0b\u6587\u53ef\u4ee5\u7528\u6808\u5e27 frame \u6765\u7406\u89e3"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u800c\u5bf9\u4e8e\u4e00\u4e2a class \u7684\u65b9\u6cd5, \u7bad\u5934\u51fd\u6570\u7ed1\u5b9a\u5230\u5b9a\u4e49\u65f6\u7684\u4e0a\u4e0b\u6587\uff08\u8fd9\u4e2a\u7c7b\uff09\uff0c\u800c\u975e\u7bad\u5934\u51fd\u6570\u4f1a\u6839\u636e\u8c03\u7528\u65f6\u7684\u4e0a\u4e0b\u6587\u6765\u51b3\u5b9a this"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u5982\u679c\u53ea\u662f\u7b80\u5355\u7684\u8c03\u7528\uff0c\u90a3\u4e48\u4e24\u8005\u7684\u7ed3\u679c\u662f\u76f8\u540c\u7684\u3002\u4f46\u662f\u5982\u679c\u5c06\u7c7b\u7684\u975e\u7bad\u5934\u51fd\u6570\u65b9\u6cd5\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u4f20\u9012\uff0c\u4f8b\u5982\u4f20\u7ed9\u4e00\u4e2a\u53c2\u6570\u6216\u8005\u662f\u5176\u4ed6\u91cf const sth = instance.method \u8fd9\u6837\uff0c\u4f1a\u9020\u6210 this \u9519\u8bef\u7ed1\u5b9a"})}),"\n",(0,t.jsx)(n.p,{children:"\u7ee7\u7eed\u91cd\u6784"}),"\n",(0,t.jsx)(n.p,{children:"\u76ee\u524d endpoint \u5982\u679c\u5199\u9519\u4e86\u8fd8\u662f\u5f88\u9ebb\u70e6\uff0c\u5e76\u4e14 type \u662f\u5b9a\u4e49\u5728 hooks \u4e4b\u4e2d\u7684\uff0c\u8fd9\u4e0d\u597d\u3002\u628a type \u548c endpoint \u62bd\u51fa\u6765\u653e\u5728 service \u4e4b\u4e2d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import ApiClient from "./ApiClient";\n\nexport interface Post {\n  id: number;\n  title: string;\n  body: string;\n  userId: number;\n}\n\nconst postService = new ApiClient<Post>("/posts");\nexport default postService;\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u8fd9\u6837\u91cd\u6784\u5b9e\u9645\u4e0a\u662f\u5728\u7ed9\u6574\u4e2a\u5e94\u7528\u5206\u5c42"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6700\u5e95\u5c42\u662f ApiClient\uff0c \u8d1f\u8d23\u5904\u7406\u5411\u540e\u7aef\u53d1\u9001\u8bf7\u6c42"}),"\n",(0,t.jsx)(n.li,{children:"\u4e0a\u9762\u662f HTTPService\uff0c\u672c\u8d28\u4e0a\u662f ApiClient \u7684\u5b9e\u4f8b\uff0c\u540c\u65f6\uff0c\u4e0d\u540c\u7684 Service \u4e3a\u4e0a\u7aef\u4e0d\u540c\u7684\u529f\u80fd\u5b9a\u4e49\u6700\u57fa\u672c\u7684\u7c7b\u578b"}),"\n",(0,t.jsx)(n.li,{children:"\u518d\u4e0a\u9762\u662f Custom Hook, \u5c06\u5bf9\u5e94\u7684 HTTPService \u7684\u6570\u636e\u8fdb\u4e00\u6b65\u6253\u5305\u6210\u57fa\u672c\u7684\u5de5\u5177\u65b9\u6cd5"}),"\n",(0,t.jsx)(n.li,{children:"\u6700\u4e0a\u9762\u624d\u662f\u6211\u4eec\u7684 React Components\uff0c\u771f\u6b63\u7684\u524d\u7aef"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5206\u5c42\u7684\u6838\u5fc3\u903b\u8f91\u5728\u4e8e\uff1a",(0,t.jsx)(n.strong,{children:"\u4e00\u5c42\u53ea\u5e72\u4e00\u4ef6\u4e8b\u60c5"}),"\uff0c\u5904\u7406\u597d\u81ea\u5df1\u90a3\u4e00\u5c42\u7684\u8f93\u5165\u8f93\u51fa\u5373\u53ef\uff0c\u8ba9\u6211\u4eec\u7684\u4ee3\u7801\u89e3\u8026\u3001\u6613\u61c2"]}),"\n",(0,t.jsx)(n.h3,{id:"\u5b9e\u6218",children:"\u5b9e\u6218"}),"\n",(0,t.jsx)(n.h4,{id:"genres",children:"Genres"}),"\n",(0,t.jsx)(n.p,{children:"\u6ca1\u5565\u597d\u8bf4\u7684\uff0c\u6309\u7167\u524d\u9762\u8bf4\u7684\u91cd\u6784\u5c31\u884c\uff0c\u5728 React Query \u91cc\u9762\u8bbe\u7f6e initialData \u5012\u662f\u4e00\u4e2a\u503c\u5f97\u8bb0\u4f4f\u7684\u6548\u679c\u5b9e\u73b0"}),"\n",(0,t.jsx)(n.p,{children:"useGenre.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import genres from "../data/genres";\nimport useData, { queryConfig } from "./useData";\n\nexport interface Genre {\n  id: number;\n  name: string;\n  image_background: string;\n}\n\n// const useGenres = () => ({ data: genres, isLoading: false, error: null })\nconst useGenres = () => {\n  const queryConfig = {\n    cacheTime: 24 * 60 * 60 * 1000,\n    staleTime: 24 * 60 * 60 * 1000,\n    initialData: genres,\n  } as queryConfig;\n  return useData<Genre>({ endpoint: "/genres", queryConfig: queryConfig });\n};\nexport default useGenres;\n'})}),"\n",(0,t.jsx)(n.p,{children:"useData.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import ApiClient from "../services/api-client";\nimport { AxiosRequestConfig, CanceledError } from "axios";\nimport { useQuery } from "@tanstack/react-query";\nexport type queryConfig = {\n  [key: string]: any;\n};\ntype useDataProps = {\n  endpoint: string;\n  config?: AxiosRequestConfig;\n  dep?: any[];\n  queryConfig?: queryConfig;\n};\nconst useData = <T,>({ endpoint, config, dep, queryConfig }: useDataProps) => {\n  const apiClient = new ApiClient<T>(endpoint, config);\n  return useQuery({\n    queryKey: [endpoint].concat(dep || []),\n    queryFn: apiClient.get,\n    ...queryConfig,\n  });\n};\nexport default useData;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u73b0\u65e0\u9650\u6eda\u52a8"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:" npm i react-infinite-scroll-component@6.1\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u540e\u9762\u903b\u8f91\u6bd4\u8f83\u91cd\u590d"}),"\n",(0,t.jsx)(n.p,{children:"\u7b80\u5316\u65f6\u95f4\u8868\u8fbe\uff1a ms \u5e93\uff0c\u975e\u5e38\u7b80\u5355"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"global-state-management",children:"Global state management"}),"\n",(0,t.jsx)(n.h4,{id:"reducer",children:"Reducer"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Reducer: A function that allows us to centralize state in a component"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Reducer \u5c06 React \u7ec4\u4ef6\u7684\u72b6\u6001\u7ba1\u7406\u62bd\u79bb\u51fa\u7ec4\u4ef6\u672c\u8eab\uff0c\u4f7f\u5f97\u6574\u4e2a\u72b6\u6001\u7ba1\u7406\u53ea\u9700\u8981\u5173\u6ce8 Reducer\uff0c\u5e76\u4e14\u652f\u6301\u7ba1\u7406\u903b\u8f91\u7684\u91cd\u7528"}),"\n",(0,t.jsx)(n.p,{children:"reducer \u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0cstate \u548c action(\u4e00\u822c\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u4f20\u9012\uff0c\u5176 type \u53c2\u6570\u5bf9\u5e94\u4e86\u6267\u884c\u7684\u52a8\u4f5c\uff0c\u6709\u70b9\u50cf\u72b6\u6001\u673a)"}),"\n",(0,t.jsx)(n.p,{children:"\u76f4\u63a5\u770b\u4ee3\u7801"}),"\n",(0,t.jsx)(n.p,{children:"reducer/counterReducer.ts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'interface Action {\n  type: "INCREMENT" | "DECREMENT" | "RESET";\n}\nconst counterReducer = (state: number, action: Action) => {\n  switch (action.type) {\n    case "INCREMENT":\n      return state + 1;\n    case "DECREMENT":\n      return state - 1;\n    case "RESET":\n      return 0;\n    default:\n      return state;\n  }\n  return state;\n};\nexport default counterReducer;\n'})}),"\n",(0,t.jsx)(n.p,{children:"counter.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useReducer, useState } from "react";\nimport counterReducer from "./reducers/counterReducer";\n\nconst Counter = () => {\n  // const [value, setValue] = useState(0);\n  const [value, dispatch] = useReducer(counterReducer, 0);\n  return (\n    <div>\n      Counter ({value})\n      <button\n        onClick={() => dispatch({ type: "INCREMENT" })}\n        className="btn btn-primary mx-1"\n      >\n        Increment\n      </button>\n      <button\n        onClick={() => dispatch({ type: "RESET" })}\n        className="btn btn-primary mx-1"\n      >\n        Reset\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u5f53\u6267\u884c\u7684\u4efb\u52a1\u53d8\u590d\u6742\u65f6\uff0c\u9700\u8981\u591a\u4e2a\u63a5\u53e3\uff1a"}),"\n",(0,t.jsx)(n.p,{children:"\u4f8b\u5982"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'interface Task {\n  id: number;\n  title: string;\n}\n\ninterface AddTask {\n  type: "ADD";\n  newTask: Task;\n}\ninterface DeleteTask {\n  type: "DELETE";\n  id: number;\n}\n\ntype Action = AddTask | DeleteTask;\n\nconst taskReducer = (state: Task[], action: Action): Task[] => {\n  switch (action.type) {\n    case "ADD":\n      return [...state, action.newTask];\n    case "DELETE":\n      return state.filter((task) => task.id !== action.id);\n    default:\n      return state;\n  }\n};\nexport default taskReducer;\n'})}),"\n",(0,t.jsx)(n.h4,{id:"react-context",children:"React Context"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728\u521d\u7ea7\u90e8\u5206\u4e4b\u4e2d\uff0cReact \u7ec4\u4ef6\u4e4b\u95f4\u5171\u4eab\u72b6\u6001\u662f\u901a\u8fc7 props",(0,t.jsx)(n.strong,{children:"\u81ea\u4e0a\u800c\u4e0b\u4f20\u9012\u7684"}),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u6211\u4eec\u8981\u5728\u7ec4\u4ef6\u6811\u4e0a\u7684\u4e24\u4e2a\u90e8\u5206\u4e4b\u95f4\u5171\u4eab\u67d0\u4e2a\u72b6\u6001\uff0c\u5c31\u5fc5\u987b\u5c06\u8fd9\u4e2a\u72b6\u6001\u4e0a\u79fb\u5230\u516c\u5171\u7236\u7ec4\u4ef6\uff0c\u8fd9\u5bfc\u81f4\u4e86\u51e0\u4e2a\u95ee\u9898"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u516c\u5171\u7236\u7ec4\u4ef6\u5f88\u8fdc\uff0c\u5373\u7ec4\u4ef6\u5c42\u6570\u5f88\u6df1\uff0c\u90a3\u4e48 Props \u8981\u4f20\u9012\u5f88\u591a\u5c42\uff0c\u975e\u5e38\u6076\u5fc3"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u7ec4\u4ef6\u5f88\u591a\uff0c\u90a3\u4e48\u7c7b\u4f3c App \u8fd9\u6837\u7684\u9876\u5c42\u7236\u7ec4\u4ef6\u5c31\u4f1a\u5168\u90fd\u662f\u72b6\u6001\uff0c\u5f71\u54cd\u7406\u89e3"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u79cd\u95ee\u9898\u79f0\u4e4b\u4e3a Props drilling\uff0c\u6307 Props \u628a\u7ec4\u4ef6\u94bb\u4e86\u4e00\u5806\u5b54"}),"\n",(0,t.jsx)(n.p,{children:"\u4f46\u662f\u6211\u4eec\u5148\u524d\u4e5f\u6709\u63d0\u5230\uff0cReact \u7684 State \u5b9e\u8d28\u4e0a\u662f\u5168\u5c40\u5b58\u50a8\u7684\uff0c\u6240\u4ee5\u80fd\u591f\u63d0\u4f9b\u4e00\u79cd\u66f4\u597d\u7684\u673a\u5236\u6765\u5b9e\u73b0\u4e0d\u540c\u7ec4\u4ef6\u4e4b\u95f4\u7684\u72b6\u6001\u5171\u4eab\uff0c\u8fd9\u5c31\u662f React Context"}),"\n",(0,t.jsx)(n.p,{children:"React Context \u89e3\u51b3\u4e86\u7b2c\u4e00\u4e2a\u95ee\u9898\uff0c\u5bf9\u7b2c\u4e8c\u4e2a\u95ee\u9898\u5e2e\u52a9\u8f83\u5c0f"}),"\n",(0,t.jsx)(n.p,{children:"context/taskContext.ts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import React from "react";\nimport { Action, Task } from "../reducers/taskReducers";\n\ninterface TaskContextType {\n  tasks: Task[];\n  dispatch: React.Dispatch<Action>;\n}\n\nexport const TaskContext = React.createContext<TaskContextType>(\n  {} as TaskContextType\n);\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6709\u4e86\u8fd9\u4e2a TaskContext \u4e4b\u540e\uff0c"}),"\n",(0,t.jsx)(n.p,{children:"\u53ea\u9700\u8981\u5728\u60f3\u4f20\u9012\u7684\u4f4d\u7f6e\u7528\u5b83\u7684 Provider \u5305\u88f9\u5c31\u884c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"function App() {\n  const [tasks, dispatch] = useReducer(taskReducer, []);\n  return (\n    <TaskContext.Provider value={{ tasks, dispatch }}>\n      <NavBar />\n      <HomePage />\n    </TaskContext.Provider>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4e4b\u540e\u5728 NavBar \u91cc\u9762\u5c31\u53ef\u4ee5\u76f4\u63a5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"const { tasks, dispatch } = useContext(TaskContext);\n"})}),"\n",(0,t.jsx)(n.p,{children:"provider \u4e00\u591a\uff0c\u4ee3\u7801\u7565\u4e11"}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u628a provider \u53d8\u6210\u4e00\u4e2a Components**\uff08Custom Provider\uff09**"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import React, { useReducer } from "react";\nimport taskReducer from "./reducers/taskReducers";\nimport { TaskContext } from "./contexts/taskContext";\ninterface TaskProviderProps {\n  children: React.ReactNode;\n}\nconst TaskProvider = ({ children }: TaskProviderProps) => {\n  const [tasks, dispatch] = useReducer(taskReducer, []);\n  return (\n    <TaskContext.Provider value={{ tasks, dispatch }}>\n      {children}\n    </TaskContext.Provider>\n  );\n};\n\nexport default TaskProvider;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e App \u5c31\u53d8\u6210\u4e86\u7b80\u6d01\u7684\u6837\u5b50"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import "./App.css";\nimport NavBar from "./state-management/NavBar";\nimport HomePage from "./state-management/HomePage";\nimport AuthProvider from "./state-management/AuthProvider";\nimport TaskProvider from "./state-management/TaskProvider";\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <TaskProvider>\n        <NavBar />\n        <HomePage />\n      </TaskProvider>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u4e5f\u53ef\u4ee5\u5c06\u6574\u4e2a useConText \u653e\u5230\u81ea\u5b9a\u4e49 Hook \u91cc\u9762\u53bb\uff0c\u8fdb\u4e00\u6b65\u51cf\u8f7b\u5fc3\u667a\u538b\u529b\uff0c\u53ea\u9700\u8981\u8c03\u81ea\u5df1\u7684 Hook \u5c31\u884c\u4e86\uff0c\u4e0d\u9700\u8981\u8003\u8651\u4e0a\u4e0b\u6587"}),"\n",(0,t.jsx)(n.h4,{id:"\u8ba9\u6574\u4e2a\u4ee3\u7801\u66f4\u52a0\u6a21\u5757\u5316",children:(0,t.jsx)(n.strong,{children:"\u8ba9\u6574\u4e2a\u4ee3\u7801\u66f4\u52a0\u6a21\u5757\u5316"})}),"\n",(0,t.jsx)(n.p,{children:"\u6211\u4eec\u73b0\u5728\u6709 TaskList, taskContext, TaskProvider,taskReducer\uff0cuseTask 5 \u4e2a\u548c task \u76f8\u5173\u7684\u6587\u4ef6"}),"\n",(0,t.jsxs)(n.p,{children:["\u4f46\u662f\u5b83\u4eec\u6563\u843d\u5728\u6574\u4e2a\u9879\u76ee\u7684\u5404\u4e2a\u5730\u65b9\uff0c\u5bf9\u4e8e task \u8fd9\u4e48\u4e00\u4e2a\u5c0f\u529f\u80fd\u90fd\u5199\u4e86 5 \u4e2a\u6587\u4ef6\uff0c\u4e00\u65e6\u529f\u80fd\u591a\u8d77\u6765\uff0c",(0,t.jsx)(n.strong,{children:"\u6587\u4ef6\u91cf\u7684\u589e\u52a0\u4f1a\u52a0\u5de8\u8026\u5408"}),"\uff0c\u4e5f\u5bf9\u6211\u4eec\u627e\u548c\u7406\u89e3\u5e26\u6765\u5fc3\u667a\u8d1f\u62c5"]}),"\n",(0,t.jsx)(n.p,{children:"\u628a\u5b83\u4eec\u653e\u5230\u4e00\u8d77\u53bb\uff0c\u65b0\u5efa\u4e00\u4e2a task \u6587\u4ef6\u5939\uff0c\u5168\u4e22\u8fdb\u53bb"}),"\n",(0,t.jsx)(n.p,{children:"task \u6587\u4ef6\u5939\u5185\u90e8\u662f task \u6a21\u5757\u7684\u5b9e\u73b0\uff0c\u800c\u6574\u4e2a\u6a21\u5757\u7684\u5b9e\u73b0\u4e0d\u662f\u6240\u6709\u7684\u90fd\u9700\u8981\u66b4\u9732\u5728\u5916\u9762\u7684"}),"\n",(0,t.jsx)(n.p,{children:"\u8981\u66b4\u9732\u7684\u53ea\u6709"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"TaskList"}),"\n",(0,t.jsx)(n.li,{children:"[optional] TaskProvider"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u5269\u4e0b\u7684\u4e4b\u4e2d\uff0cuseTask hook \u548c taskReducer \u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u5e94\u8be5\u53ea\u5728 Task \u6a21\u5757\u5185\u90e8\u4f7f\u7528\uff0ctaskContext \u88ab\u5305\u88c5\u8fdb\u4e86 TaskProvider"}),"\n",(0,t.jsxs)(n.p,{children:["\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u518d\u52a0\u4e00\u4e2a index.ts \uff0c\u5176\u4e2d\u5bfc\u5165 TaskList \u548c TaskProvider \u518d\u5bfc\u51fa\uff0c\u800c\u5916\u90e8\u6a21\u5757\u4f7f\u7528 Task \u6a21\u5757\u7684\u5185\u5bb9\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u4ece Task \u6587\u4ef6\u5939\u5bfc\u5165\uff08\u8f6c\u5230 index\uff09\uff0c",(0,t.jsx)(n.strong,{children:"\u4e0d\u5e94\u8be5\u89e6\u53ca\u5185\u90e8\u7ed3\u6784\u548c\u5185\u90e8\u5b9e\u73b0"})]}),"\n",(0,t.jsx)(n.p,{children:"task/index.ts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import TaskList from "./TaskList";\nimport TaskProvider from "./TaskProvider";\nexport { TaskList, TaskProvider };\n'})}),"\n",(0,t.jsx)(n.h4,{id:"best-practice-when-to-use-",children:"Best practice: When to use ......"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When to use context?"})}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u4e00\u4e2a\u9879\u76ee\u4e4b\u4e2d\u53ef\u80fd\u6709\u5f88\u591a\u7684\u72b6\u6001\uff0c\u4f46\u8fd9\u4e9b\u72b6\u6001\u53ef\u4ee5\u5206\u89e3\u6210"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"(\u4ece)Server \u7aef\u83b7\u53d6\u7684\u72b6\u6001\uff1a\u4f8b\u5982\u6570\u636e"}),"\n",(0,t.jsx)(n.li,{children:"Client UI \u72b6\u6001: \u4f8b\u5982\u7ec4\u4ef6\u7684\u4e00\u4e9b Local State"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u4e24\u4e2a\u90e8\u5206"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5bf9\u4e8e Server \u7aef\u72b6\u6001\uff0c\u4e0d\u5e94\u8be5\u7528 Context\uff0c\u7528 React Query\uff0cReact Query \u5c31\u662f\u4e3a\u4e86\u907f\u514d\u7ec4\u4ef6\u6811\u53d8\u6210\u4e00\u5927\u5768\u5c4e\u88ab\u8bbe\u8ba1\u51fa\u6765\u7684\uff0c\u4e00\u5806 Context \u548c State \u5b9e\u9645\u4e0a\u90fd\u7528 useQuery \u91cc\u9762\u7684 queryKey \u6807\u8bc6\u4e86\u4e4b\u540e\u59d4\u6258\u7ed9 React Query \u7ba1\u7406\u4e86"}),"\u3002\u5982\u679c\u7528 Context\uff0c\u5143\u7d20\u4e00\u591a Provider \u5c31\u4f1a\u4e00\u76f4\u53e0\uff0c\u6700\u7ec8\u4e0d\u53ef\u7ef4\u62a4"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u800c\u5bf9\u4e8e Client \u7aef\u72b6\u6001\uff0c\u5982\u6709\u5171\u4eab\u7684\u9700\u8981\uff0c\u4f8b\u5982 Navbar \u53ef\u80fd\u9700\u8981\u7ec4\u4ef6\u6811\u5e95\u90e8\u7684\u7ec4\u4ef6\u7684\u4fe1\u606f\uff0c\u5e94\u8be5\u7528 Context \u6765\u63d0\u4f9b\u7ec4\u4ef6\u4e4b\u95f4\u4f20\u9012\u72b6\u6001\u7684\u7075\u6d3b\u6027"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When to use reducer?"})}),"\n",(0,t.jsx)(n.p,{children:"\u770b\u903b\u8f91\u590d\u6742\u4e0e\u5426\uff0c\u5982\u679c\u903b\u8f91\u5f88\u590d\u6742\uff0c\u653e\u5728\u7ec4\u4ef6\u91cc\u5f88\u4e11\u964b\uff0c\u96be\u4ee5\u7406\u89e3\uff0c\u64cd\u4f5c\u5f88\u591a\u8fd8\u5bb9\u6613\u51fa\u9519\u7684\u65f6\u5019\uff0c\u5c31\u5e94\u8be5\u7528 reducer \u628a\u903b\u8f91\u72ec\u7acb\u51fa\u6765"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u903b\u8f91\u5f88\u7b80\u5355\uff0c\u5c31\u4e00\u884c\u4ee3\u7801\u7684\u4e8b\u60c5\uff0c\u90a3\u76f4\u63a5 useState \u4e5f\u633a\u597d"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When to use Redux?"})}),"\n",(0,t.jsx)(n.p,{children:"Redux \u548c React Context \u4e0d\u540c\u7684\u5730\u65b9\u662f\uff0cRedux \u662f\u4e00\u4e2a\u5c06\u6240\u6709\u7ec4\u4ef6\u7684\u72b6\u6001\u5168\u90e8\u4ea4\u7ed9 Redux \u7ba1\u7406\uff0c\u8fd9\u6837\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u548c React \u89e3\u8026\u3001\u66f4\u597d\u7684\u7ba1\u7406\u72b6\u6001......\uff1b\u800c React Context \u53ea\u662f\u628a\u72b6\u6001\u5728\u7ec4\u4ef6\u4e4b\u95f4\u66f4\u597d\u7684\u4f20\u9012\u3002\u4e00\u4e2a\u662f\u4ed3\u5e93\uff0c\u4e00\u4e2a\u662f\u5361\u8f66\u3002"}),"\n",(0,t.jsx)(n.p,{children:"mosh \u7ed9\u51fa\u7684\u89c2\u70b9\u662f\uff0cRedux \u5f88\u5f3a\u5927\uff0c\u4f46\u4e3a\u4e86\u652f\u6301\u90a3\u4e9b\u5f3a\u5927\uff08\u5374\u672a\u5fc5\u7528\u5f97\u4e0a\uff09\u7684\u529f\u80fd\uff08\u4f8b\u5982\u64a4\u9500\uff09\uff0c\u53cd\u800c\u5728\u5927\u591a\u6570\u4e0d\u9700\u8981\u7684\u9879\u76ee\u4e4b\u4e2d\u5e26\u6765\u4e86\u592a\u591a\u7684\u590d\u6742\u6027"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 Server \u7aef\uff0cReact Query \u5df2\u7ecf\u8db3\u591f\u597d\u7528\uff0c\u5e76\u4e14\u5927\u5927\u7b80\u5316\u4e86 Redux \u7684\u529f\u80fd"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 Client \u7aef\uff0c\u9996\u5148\u4e00\u822c\u7684\u5e94\u7528\u7a0b\u5e8f\u5ba2\u6237\u7aef\u72b6\u6001\u6bd4\u8f83\u5c11\uff0c\u5176\u6b21\u6709\u7b80\u5355\u7684 useState \u548c useContext, \u903b\u8f91\u590d\u6742\u65f6\u6709 reducer\uff0c\u518d\u590d\u6742 mosh \u4e5f\u63a8\u8350\u7528 Zustand \u8fd9\u4e2a\u8f7b\u91cf\u5316\u7684\u7ba1\u7406\u5668"}),"\n",(0,t.jsx)(n.h4,{id:"zustand",children:"Zustand"}),"\n",(0,t.jsx)(n.p,{children:"\u5b89\u88c5\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm i zustand@4.3.7\n"})}),"\n",(0,t.jsx)(n.p,{children:"Zustand \u4f7f\u7528 create \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u5168\u5c40\u72b6\u6001\uff0c\u8fd4\u56de\u4e00\u4e2a React Hook\uff0c\u8fd9\u4e2a hook \u53ef\u4ee5\u5728\u4efb\u4f55\u6a21\u5757\u4e4b\u4e2d\u4f7f\u7528"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { create } from "zustand";\n\ninterface CounterStore {\n  counter: number; // states\n  increment: () => void; // actions or methods\n  reset: () => void;\n}\n\nconst useCounter = create<CounterStore>((set) => ({\n  counter: 0,\n  increment: () => set((state) => ({ counter: state.counter + 1 })),\n  reset: () => set({ counter: 0 }),\n}));\n\nexport default useCounter;\n'})}),"\n",(0,t.jsx)(n.p,{children:"create \u63a5\u53d7\u4e00\u4e2a\u7c7b\u578b\u53c2\u6570\uff0c\u8fd9\u4e2a\u7c7b\u578b\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u53ef\u4ee5\u6709\u5c5e\u6027\u548c\u65b9\u6cd5\uff0c\u5982\u679c\u628a\u5b83\u770b\u6210\u72b6\u6001\u673a\u7684\u8bdd\u5c31\u662f state \u548c\u6539\u53d8 state \u7684 method\uff0c\u4f20\u5165\u7684\u53c2\u6570\u662f\u4e00\u4e2a set \u51fd\u6570"}),"\n",(0,t.jsx)(n.p,{children:"set \u51fd\u6570\u6839\u636e\u63a5\u53d7\u7684\u53c2\u6570\u4e0d\u540c\u6709\u4e24\u79cd\u201c\u91cd\u8f7d\u201d"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5982\u679c\u63a5\u53d7\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5b83\u5c06 create \u51fa\u6765\u7684\u72b6\u6001\u7528\u8fd9\u4e2a\u65b0\u5bf9\u8c61\u66f4\u65b0\uff0c\u7c7b\u4f3c setState"}),"\n",(0,t.jsxs)(n.li,{children:["\u5982\u679c\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u63a5\u53d7\u539f\u5148\u7684 state \u4f5c\u4e3a\u4f20\u5165\u53c2\u6570\uff08",(0,t.jsx)(n.strong,{children:"\u4f20\u5165\u53c2\u6570\u4e3a\u76d1\u542c\u5bf9\u8c61"}),"\uff09\uff0c \u800c\u51fd\u6570\u7684\u8fd4\u56de\u503c\u5c06\u4f5c\u4e3a\u65b0\u7684 state \u66f4\u65b0"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u8fd9\u6837\u4e4b\u540e Counter \u7684\u903b\u8f91\u5c31\u975e\u5e38\u7b80\u6d01\u4e86, \u6ca1\u6709\u4e86\u8868\u610f\u5c1a\u6709\u4e00\u4e9b\u6a21\u7cca\u7684",(0,t.jsx)(n.code,{children:'dispatch({type:"somestring"})'})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useReducer, useState } from "react";\nimport counterReducer from "./counterReducer";\nimport useCounter from "./store";\n\nconst Counter = () => {\n  // const [value, setValue] = useState(0);\n  // const [value, dispatch] = useReducer(counterReducer, 0);\n  const { counter, increment, reset } = useCounter();\n  return (\n    <div>\n      Counter ({counter})\n      <button onClick={() => increment()} className="btn btn-primary mx-1">\n        Increment\n      </button>\n      <button onClick={() => reset()} className="btn btn-primary mx-1">\n        Reset\n      </button>\n    </div>\n  );\n};\n\nexport default Counter;\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u8fd8\u80fd\u7528\u5b83\u6765\u907f\u514d\u4e0d\u5fc5\u8981\u7684 rerender"})}),"\n",(0,t.jsxs)(n.p,{children:["\u65b9\u6cd5\uff1a\u5047\u8bbe CounterStore \u8fd8\u6709\u53e6\u4e00\u4e2a\u5c5e\u6027 max, \u5728\u8c03\u7528 useCounter \u7684\u65f6\u5019\uff0c\u5982\u679c\u6211\u53ea\u60f3\u8981 Counter \u7ec4\u4ef6\u5728 counter \u7684\u503c\u6539\u53d8\u65f6\u624d\u91cd\u65b0\u6e32\u67d3\uff0c\u53ea\u9700\u8981",(0,t.jsx)(n.code,{children:"useCounter(s=>s.counter)"})]}),"\n",(0,t.jsx)(n.p,{children:"\u7406\u89e3\uff1a \u76f8\u5f53\u4e8e\u6539\u53d8\u4e86 create \u7684\u76d1\u542c\u5bf9\u8c61\uff08\u7c7b\u6bd4 useState\uff09\uff0c\u8fd4\u56de\u7684\u503c\u4e5f\u4f1a\u505a\u5bf9\u5e94\u6539\u53d8\uff0c\u4f46\u662f\u6574\u4e2a\u72b6\u6001\u7684\u8fd4\u56de\u503c\u4f1a\u6b63\u5e38\u66f4\u65b0"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u76d1\u542c s.counter\uff0c\u8fd4\u56de\u7684\u5c31\u662f counter \u5c5e\u6027"}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u76d1\u542c s.reset\uff0c \u8fd4\u56de\u7684\u5c31\u662f reset \u65b9\u6cd5"}),"\n",(0,t.jsx)(n.p,{children:"\u68c0\u67e5 Zustand \u72b6\u6001"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm i simple-zustand-devtools\nnpm i -D @types/node\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"ps: \u8fd9\u4e2a\u5de5\u5177\u6211\u4e0b\u8f7d\u4e86\u4f46\u662f\u6ca1\u627e\u5230\u89c6\u9891\u6f14\u793a\u7684\u6a21\u5757\uff0c\u5c31\u653e\u8fd9\u4e86\uff08doge"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u5b9e\u6218\uff1a\u4f7f\u7528 Zustand \u91cd\u6784 gamehub"}),"\n",(0,t.jsxs)(n.p,{children:["\u6240\u6709 gameQuery \u8fd9\u4e2a local state \u4f20\u6765\u4f20\u53bb\u7684\u5730\u65b9\u5168\u90e8\u5220\u5149\uff0c",(0,t.jsx)(n.strong,{children:"\u592a\u723d\u4e86\uff01\uff01\uff01"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6709\u4e86\u8fd9\u4e2a\u51e0\u4e4e\u4e0d\u9700\u8981\u4efb\u4f55\u7684 Props"})}),"\n",(0,t.jsx)(n.p,{children:"\u6700\u540e\u7684 app.tsx \u8d85\u7ea7\u5e72\u51c0\uff0c\u4e0d\u4f20\u5165\u4efb\u4f55\u51fd\u6570\u548c\u53d8\u91cf"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import "./App.css";\nimport { Box, Grid, GridItem, HStack, Show } from "@chakra-ui/react";\nimport NavBar from "./components/NavBar";\nimport GameGrids from "./components/GameGrids";\nimport Aside from "./components/Aside";\nimport PlatformSelector from "./components/PlatformSelector";\nimport SortSelector from "./components/SortSelector";\nimport GameHeading from "./components/GameHeading";\n\nfunction App() {\n  const templateAreas = {\n    base: `"nav" "main"`, // \u79fb\u52a8\u7aef\u5c0f\u5c4f\u5e55\u6ca1\u6709aside\u4fa7\u8fb9\u680f\n    lg: `"nav nav" "aside main"`, // > 1000px\n  };\n  const templateColumns = {\n    base: "1fr",\n    lg: "200px 1fr",\n  };\n\n  return (\n    <div className="App">\n      <Grid templateAreas={templateAreas} templateColumns={templateColumns}>\n        <GridItem area="nav">\n          <NavBar />\n        </GridItem>\n        <Show above="lg">\n          <GridItem area="aside" paddingX={"10px"}>\n            <Aside />\n          </GridItem>\n        </Show>\n\n        <GridItem area="main">\n          <Box paddingLeft={2}>\n            <GameHeading />\n            <HStack spacing={5}>\n              <PlatformSelector />\n              <SortSelector />\n            </HStack>\n            <GameGrids />\n          </Box>\n        </GridItem>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u79cd\u65b9\u6cd5\u7684\u5f0a\u7aef\uff1a"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u964d\u4f4e\u4e86\u7ec4\u4ef6\u53ef\u91cd\u7528\u6027"}),"\uff0c\u73b0\u5728\u6240\u6709\u7684\u7ec4\u4ef6\u90fd\u4f9d\u8d56\u4e8e Store \u4e86"]}),"\n",(0,t.jsx)(n.p,{children:"\u5982\u679c\u662f\u7b80\u5355\u7684 Props\uff0c\u8fd8\u662f\u76f4\u63a5\u7236\u5b50\u7ec4\u4ef6 Props \u6216\u8005 Context \u4e4b\u7c7b\u4f20\u4f20"}),"\n",(0,t.jsx)(n.h3,{id:"react-router",children:"React Router"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Setting up routes"}),"\n",(0,t.jsx)(n.li,{children:"Handling Errors"}),"\n",(0,t.jsx)(n.li,{children:"Navigating between pages"}),"\n",(0,t.jsx)(n.li,{children:"Dynamic routes"}),"\n",(0,t.jsx)(n.li,{children:"Nested routes"}),"\n",(0,t.jsx)(n.li,{children:"Private routes"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm i react-router-dom\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5b83\u7684\u7248\u672c\u517c\u5bb9\u6bd4\u8f83\u55ef\u55ef\uff0c\u6240\u4ee5\u6700\u597d\u63d0\u524d\u9009\u597d\u7248\u672c\uff08"}),"\n",(0,t.jsx)(n.h4,{id:"\u6700\u57fa\u672c\u7684-router",children:"\u6700\u57fa\u672c\u7684 router"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { createBrowserRouter } from "react-router-dom";\nimport HomePage from "./HomePage";\nimport UserListPage from "./UserListPage";\nconst router = createBrowserRouter([\n  {\n    path: "/",\n    element: <HomePage />,\n  },\n  {\n    path: "/users",\n    element: <UserListPage />,\n  },\n]);\n\nexport default router;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e\uff0c\u5728 main.tsx \u4e4b\u4e2d\u628a App \u7ec4\u4ef6\u6362\u6210 RouterProvider"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import "bootstrap/dist/css/bootstrap.css";\nimport React from "react";\nimport ReactDOM from "react-dom/client";\nimport { QueryClient, QueryClientProvider } from "@tanstack/react-query";\nimport { ReactQueryDevtools } from "@tanstack/react-query-devtools";\nimport "./index.css";\nimport { RouterProvider } from "react-router-dom";\nimport router from "./routing/router";\n\nconst queryClient = new QueryClient();\nReactDOM.createRoot(document.getElementById("root") as HTMLElement).render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <RouterProvider router={router} /> // \u8fd9\u91cc\n      <ReactQueryDevtools />\n    </QueryClientProvider>\n  </React.StrictMode>\n);\n'})}),"\n",(0,t.jsxs)(n.p,{children:["React-Router \u91cc\u9762\u6709",(0,t.jsx)(n.code,{children:"\\<Link /\\>"}),"\u7ec4\u4ef6\uff0c\u6bd4\u8d77\u4f7f\u7528 a href \u8df3\u8f6c\uff0c\u4f18\u70b9\u662f\u8df3\u8f6c\u7684\u65f6\u5019\u4e0d\u4f1a\u5411 Server \u91cd\u65b0\u53d1\u9001\u8bf7\u6c42\uff0c\u7701\u8d44\u6e90"]}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528\u7684\u65f6\u5019\u5e73\u66ff\u5373\u53ef"}),"\n",(0,t.jsx)(n.p,{children:"\u4f8b\u5982"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'<a href="/users">Users</a>\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6362\u6210"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'<Link to="/users">Users</Link>\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u8fd8\u6709\u5c31\u662f",(0,t.jsx)(n.strong,{children:"useNavigate Hook"}),", \u5b83\u4f1a\u8fd4\u56de\u4e00\u4e2a navigateFunction, \u7136\u540e\u4f20\u9012\u7ed9\u8fd9\u4e2a function \u4e00\u4e2a to, \u5373\u53ef\u5b9e\u73b0\u8df3\u8f6c"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { useNavigate } from "react-router-dom";\n\nconst ContactPage = () => {\n  const navigate = useNavigate();\n  return (\n    <form\n      onSubmit={(event) => {\n        event.preventDefault();\n        // Redirect the user to the home page\n        navigate("/");\n      }}\n    >\n      <button className="btn btn-primary">Submit</button>\n    </form>\n  );\n};\n\nexport default ContactPage;\n'})}),"\n",(0,t.jsx)(n.h4,{id:"\u52a8\u6001\u8def\u7531",children:"\u52a8\u6001\u8def\u7531"}),"\n",(0,t.jsxs)(n.p,{children:["\u5c31\u662f\u5b9e\u6218\u4e00\u91cc\u9762\u7684 \u5728\u8def\u7531\u91cc\u9762\u4f20\u9012\u53c2\u6570 ",(0,t.jsx)(n.code,{children:"/post/:id"}),"\u8fd9\u6837\u5b50"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'  {\n    path: "/user/:id",\n    element: <UserDetailPage />,\n  },\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u5bf9\u5e94\u7684, Link \u7528\u6a21\u677f\u5b57\u7b26\u4e32\u5c31\u597d\u4e86"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"<Link to={`/user/${user.id}`}>{user.name}</Link>\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u51e0\u4e2a\u5e38\u7528\u7684 Hook"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"useParams"}),":\u8fd4\u56de\u4e00\u4e2a\u8bb0\u5f55\u4e86\u6240\u6709\u52a8\u6001\u8def\u7531\u7684\u4f20\u9012\u7684\u53c2\u6570\u7684\u5bf9\u8c61"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"useSearchParams"}),": \u8fd4\u56de\u4e00\u4e2a\u8bb0\u5f55\u4e86\u8def\u7531\u4f20\u9012\u7684\u67e5\u8be2\u53c2\u6570\u7684\u5bf9\u8c61\u548c\u8bbe\u7f6e\u5b83\u7684\u51fd\u6570\u7684\u6570\u7ec4(\u5c31\u662f",(0,t.jsx)(n.code,{children:"[searchParams, setSearchParams]"}),"), \u7136\u540e\u5bf9",(0,t.jsx)(n.code,{children:"searchParams"}),"\u8c03\u7528",(0,t.jsx)(n.code,{children:"get"}),"\u65b9\u6cd5, \u4f20\u5165\u4e00\u4e2a",(0,t.jsx)(n.code,{children:"name"}),"\u80fd\u591f\u5f97\u5230\u8def\u7531\u4f20\u9012\u7684\u67e5\u8be2\u53c2\u6570\u91cc\u9762",(0,t.jsx)(n.code,{children:"name"}),"\u7684\u503c;\u8c03\u7528",(0,t.jsx)(n.code,{children:"toString"}),"\u65b9\u6cd5\u80fd\u591f\u8fd4\u56de\u539f\u59cb\u7684\u67e5\u8be2\u5b57\u7b26\u4e32"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"useLocation"}),"\u8fd4\u56de\u5f53\u524d\u8def\u7531\u7684 location \u5bf9\u8c61"]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"useParams"})," hook returns an object of key/value pairs of the dynamic params from the current URL that were matched by the ",(0,t.jsx)(n.code,{children:"<Route path>"}),". Child routes inherit all params from their parent routes."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"build-a-navbar\u5d4c\u5957\u8def\u7531",children:"Build A NavBar:\u5d4c\u5957\u8def\u7531"}),"\n",(0,t.jsx)(n.p,{children:"\u76f4\u63a5\u770b\u4ee3\u7801"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { createBrowserRouter } from "react-router-dom";\nimport HomePage from "./HomePage";\nimport UserListPage from "./UserListPage";\nimport ContactPage from "./ContactPage";\nimport UserDetailPage from "./UserDetailPage";\nimport Layout from "./Layout";\nconst Router = createBrowserRouter([\n  {\n    path: "/",\n    element: <Layout />,\n    children: [\n      // { path: "", element: <HomePage /> },\n      // \u4e0a\u9762\u4e0b\u9762\u7684\u5199\u6cd5\u5747\u53ef\n      { index: true, element: <HomePage /> },\n      { path: "users", element: <UserListPage /> },\n      { path: "user/:id", element: <UserDetailPage /> },\n      { path: "contact", element: <ContactPage /> },\n    ],\n  },\n]);\n\nexport default Router;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u8fd9\u6837\u5b9a\u4e49\u8def\u7531\u7684\u5b50\u7ec4\u4ef6"}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e,\u5728 Layout.tsx \u91cc\u9762"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { Outlet } from "react-router-dom";\nimport NavBar from "./NavBar";\n\nconst Layout = () => {\n  return (\n    <>\n      <NavBar />\n      <div id="main">\n        <Outlet /> //\n        \u8fd9\u4e2aOutlet\u5c31\u662f\u5b50\u7ec4\u4ef6\u7684\u5360\u4f4d\u7b26,\u6839\u636e\u8def\u7531\u5728children\u4e4b\u4e2d\u9009\u62e9\u5339\u914d\u7684\u503c\n      </div>\n    </>\n  );\n};\n\nexport default Layout;\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\u4e0d\u7ba1\u5207\u6362\u5230\u54ea\u4e2a\u5b50\u8def\u7531, ",(0,t.jsx)(n.code,{children:"<NavBar />"}),"\u7ec4\u4ef6\u603b\u662f\u53ef\u89c6\u7684"]}),"\n",(0,t.jsx)(n.p,{children:"\u53ef\u4ee5\u7ee7\u7eed\u5d4c\u5957,\u8fbe\u6210\u4e00\u4e9b\u6709\u8da3\u7684\u6548\u679c,\u6bd4\u5982\u5de6\u534a\u8fb9\u5c4f\u5e55\u662f user, \u53f3\u534a\u8fb9\u662f detail"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { createBrowserRouter } from "react-router-dom";\nimport HomePage from "./HomePage";\nimport ContactPage from "./ContactPage";\nimport UserDetail from "./UserDetail";\nimport Layout from "./Layout";\nimport UserPage from "./UserPage";\nconst Router = createBrowserRouter([\n  {\n    path: "/",\n    element: <Layout />,\n    children: [\n      // { path: "", element: <HomePage /> },\n      // \u4e0a\u9762\u4e0b\u9762\u7684\u5199\u6cd5\u5747\u53ef\n      { index: true, element: <HomePage /> },\n      {\n        path: "users/",\n        element: <UserPage />,\n        children: [{ path: ":id", element: <UserDetail /> }], // \u518d\u5d4c\u5957\u4e00\u6b21\n      },\n      { path: "contact", element: <ContactPage /> },\n    ],\n  },\n]);\n\nexport default Router;\n'})}),"\n",(0,t.jsx)(n.p,{children:"UserPage.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import UserList from "./UserList";\nimport { Outlet } from "react-router-dom";\n\nconst UserPage = () => {\n  return (\n    <div className="row">\n      <div className="col">\n        <UserList />\n      </div>\n      <div className="col">\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n\nexport default UserPage;\n'})}),"\n",(0,t.jsx)(n.h4,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,t.jsx)(n.p,{children:"\u5728 router \u91cc\u9762\u52a0\u4e0a errorElement"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'const Router = createBrowserRouter([\n  {\n    path: "/",\n    element: <Layout />,\n    errorElement: <ErrorPage />,\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd9\u4e2a errorElement \u4f1a\u6355\u83b7\u4e24\u79cd\u7c7b\u578b\u7684\u9519\u8bef:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4ee3\u7801\u5185\u90e8\u629b\u51fa\u7684\u9519\u8bef"}),"\n",(0,t.jsx)(n.li,{children:"\u4e0d\u5b58\u5728\u5bf9\u5e94\u8def\u7531"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["React Router \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a hook, ",(0,t.jsx)(n.code,{children:"useRouteError"})]}),"\n",(0,t.jsx)(n.p,{children:"ErrorPage.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { isRouteErrorResponse, useRouteError } from "react-router-dom";\n\nconst ErrorPage = () => {\n  const error = useRouteError();\n  console.log(error); // \u8fd9\u91cc\u53ef\u4ee5\u5f15\u5165\u5916\u90e8\u5e93,\u5c06error\u8bb0\u5f55\u5230\u65e5\u5fd7\u4e4b\u4e2d\n  return (\n    <>\n      <h1>Oops...</h1>\n      <p>{isRouteErrorResponse(error) ? "Invalid Page" : "Unexpected Error"}</p>\n      // \u5982\u679c\u662f\u9519\u8bef\u7684\u8def\u7531\u7684Error,\u5c31\u8fd4\u56de"Invalid Page",\n      \u5426\u5219(\u4ee3\u7801\u5185\u90e8\u629b\u51fa\u9519\u8bef),\u8fd4\u56de "Unexpected Error"\n    </>\n  );\n};\n\nexport default ErrorPage;\n'})}),"\n",(0,t.jsx)(n.h4,{id:"\u9690\u79c1\u8def\u7531private-route",children:"\u9690\u79c1\u8def\u7531(Private Route)\uff1a"}),"\n",(0,t.jsx)(n.p,{children:"\u8bf4\u5b9e\u8bdd\u6ca1\u592a\u542c\u61c2\uff0c\u5927\u4f53\u601d\u8def\u5c31\u662f\u5c06\u9700\u8981\u9690\u79c1\u4fdd\u62a4\u7684\u8def\u7531\u653e\u5230\u65b0\u7684\u8def\u7531\u7ec4\u91cc\u9762\u53bb"}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\u8fd9\u4e2a\u65b0\u8def\u7531\u7ec4\u7684 element \u5185\u90e8\u53ef\u4ee5\u52a0\u767b\u5f55\u9a8c\u8bc1\uff0c\u5982\u679c\u6ca1\u6709\u767b\u5f55\uff0c\u5c31 return \u4e00\u4e2a ",(0,t.jsx)(n.code,{children:"<Navigate>"}),"\u5143\u7d20\u8fdb\u884c\u8df3\u8f6c"]}),"\n",(0,t.jsx)(n.p,{children:'\u56e0\u4e3a\u9700\u8981\u9690\u79c1\u4fdd\u62a4\u7684\u8def\u7531\u6b64\u65f6\u90fd\u662f\u8fd9\u4e2a\u65b0\u8def\u7531\u7ec4\u7684\u5b50\u8def\u7531\uff0c\u6240\u4ee5\u90fd\u4f1a\u88ab\u8fd9\u4e2a"\u6839"\u7684 element \u8def\u7531\u4fdd\u62a4'}),"\n",(0,t.jsx)(n.h4,{id:"\u5b9e\u6218\u7ed9-gamehub-\u52a0\u4e0a\u8be6\u7ec6\u9875\u9762",children:"\u5b9e\u6218\uff1a\u7ed9 gameHub \u52a0\u4e0a\u8be6\u7ec6\u9875\u9762"}),"\n",(0,t.jsx)(n.p,{children:"\u6211\u4eec\u60f3\u8981\u4e00\u76f4\u4fdd\u6301 NavBar \u7ec4\u4ef6\u53ef\u89c6\uff0c\u90a3\u4e48\u5148\u6574\u4e2a Layout"}),"\n",(0,t.jsx)(n.p,{children:"Layout.tsx"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { Outlet } from "react-router-dom";\nimport NavBar from "../components/NavBar";\n\nconst Layout = () => {\n  return (\n    <>\n      <NavBar />\n      <Outlet />\n    </>\n  );\n};\n\nexport default Layout;\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u8fd9\u4e2a Layout \u5c31\u662f\u8def\u7531",(0,t.jsx)(n.code,{children:'"/"'}),"\u5566\uff0c\u5269\u4e0b\u7684\u5143\u7d20\u5e94\u8be5\u4f5c\u4e3a\u5b83\u7684\u5d4c\u5957\u8def\u7531\uff0c\u653e\u5728",(0,t.jsx)(n.code,{children:"<Outlet />"}),"\u4e4b\u4e2d"]}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u540e\u5c06\u539f\u6765\u7684 App.tsx \u7684\u7ec4\u4ef6\u653e\u5230\u65b0\u7684",(0,t.jsx)(n.code,{children:"pages"}),"\u6587\u4ef6\u5939\u7684",(0,t.jsx)(n.code,{children:"HomePage.tsx"})]}),"\n",(0,t.jsxs)(n.p,{children:["\u518d\u5c06",(0,t.jsx)(n.code,{children:"GameCard"}),"\u7ec4\u4ef6\u91cc\u9762\u7684",(0,t.jsx)(n.code,{children:"<Text>"}),"\u5bf9\u8c61\u6539\u6210"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Link to={`/game/${game.id}\\`}\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4e5f\u5c31\u662f\u7ed3\u5408\u6211\u4eec\u524d\u9762\u52a8\u6001\u8def\u7531\u7684\u77e5\u8bc6\uff0c\u5c31\u6709\u4e86\u8fd9\u6837\u7684\u8def\u7531"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:'import { createBrowserRouter } from "react-router-dom";\nimport GameDetail from "../pages/GameDetail";\nimport HomePage from "../pages/HomePage";\nimport Layout from "../pages/Layout";\n\nconst GameRouter = createBrowserRouter([\n  {\n    path: "/",\n    element: <Layout />,\n    children: [\n      { index: true, element: <HomePage /> },\n      { path: "game/:id", element: <GameDetail /> },\n    ],\n  },\n]);\n\nexport default GameRouter;\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u522b\u7684 detail \u9875\u9762\u7684\u7ec6\u8282\u5b9e\u73b0\u5c31\u662f\u524d\u9762\u521d\u7ea7\u90e8\u5206\u7684\u5185\u5bb9\u4e86\uff08\u8db4"}),"\n",(0,t.jsx)(n.p,{children:"\u503c\u5f97\u6ce8\u610f\u7684\u5c31\u662f detail \u9875\u9762\u4e0a\u7684 NavBar \u7ec4\u4ef6\u7684\u641c\u7d22\u8981\u60f3\u8fd4\u56de\u4e00\u4e2a\u53ef\u89c6\u5316\u7684\u7ed3\u679c"}),"\n",(0,t.jsx)(n.p,{children:"\u9700\u8981\u7a0d\u7a0d\u4fee\u6539\uff0c\u5728 onSubmit \u51fd\u6570\u91cc\u9762\u518d\u8c03\u7528 useNavigate \u7136\u540e navigate \u56de\u539f\u6765\u7684\u4e3b\u9875\uff0c\u8def\u7531\u7684\u90e8\u5206\u5c31\u8fd9\u4e48\u4e9b\u4e86"}),"\n",(0,t.jsx)(n.p,{children:"\u5b8c\u7ed3\u6492\u82b1\uff01"})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>o});var t=r(96540);const s={},a=t.createContext(s);function i(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);